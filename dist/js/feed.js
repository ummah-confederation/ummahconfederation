class IndexedDBCache{constructor(e="ummah-cache",t="responses",a=1){this.dbName=e,this.storeName=t,this.version=a,this.db=null}async init(){return this.db?this.db:new Promise((e,t)=>{const a=indexedDB.open(this.dbName,this.version);a.onerror=()=>t(new Error(`Failed to open database: ${a.error}`)),a.onsuccess=()=>{this.db=a.result,e(this.db)},a.onupgradeneeded=e=>{const t=e.target.result;if(!t.objectStoreNames.contains(this.storeName)){const e=t.createObjectStore(this.storeName,{keyPath:"key"});e.createIndex("timestamp","timestamp",{unique:!1}),e.createIndex("ttl","ttl",{unique:!1})}}})}async get(e){try{const t=await this.init();return new Promise((a,i)=>{const r=t.transaction([this.storeName],"readonly").objectStore(this.storeName).get(e);r.onsuccess=()=>{const t=r.result;if(!t)return void a(null);Date.now()-t.timestamp<t.ttl?a(t.value):(this.delete(e).catch(console.warn),a(null))},r.onerror=()=>i(new Error(`Failed to get from cache: ${r.error}`))})}catch(e){return console.warn("IndexedDB get error:",e),null}}async set(e,t,a=3e5){try{const i=await this.init();return new Promise((r,n)=>{const s=i.transaction([this.storeName],"readwrite"),o=s.objectStore(this.storeName),c={key:e,value:t,timestamp:Date.now(),ttl:a},l=o.put(c);l.onsuccess=()=>r(),l.onerror=()=>n(new Error(`Failed to set cache: ${l.error}`)),s.oncomplete=()=>r(),s.onerror=()=>n(new Error(`Transaction failed: ${s.error}`))})}catch(e){console.warn("IndexedDB set error:",e)}}async getOrFetch(e,t,a){const i=await this.get(e);if(null!==i)return i;const r=await t();return await this.set(e,r,a),r}async getOrFetchStale(e,t,a,i=.8*a){try{const r=await this.init();return new Promise((n,s)=>{const o=r.transaction([this.storeName],"readonly").objectStore(this.storeName).get(e);o.onsuccess=()=>{const r=o.result;if(!r)return void t().then(t=>{this.set(e,t,a).catch(console.warn),n(t)}).catch(s);const c=Date.now()-r.timestamp;c<r.ttl?(c>i&&this.refreshInBackground(e,t,a),n(r.value)):(this.delete(e).catch(console.warn),t().then(t=>{this.set(e,t,a).catch(console.warn),n(t)}).catch(s))},o.onerror=()=>{t().then(t=>{this.set(e,t,a).catch(console.warn),n(t)}).catch(s)}})}catch(e){return console.warn("IndexedDB getOrFetchStale error:",e),t()}}async refreshInBackground(e,t,a){try{const i=await t();await this.set(e,i,a)}catch(e){console.warn("Background refresh failed:",e)}}async delete(e){try{const t=await this.init();return new Promise((a,i)=>{const r=t.transaction([this.storeName],"readwrite"),n=r.objectStore(this.storeName).delete(e);n.onsuccess=()=>a(),n.onerror=()=>i(new Error(`Failed to delete from cache: ${n.error}`)),r.oncomplete=()=>a(),r.onerror=()=>i(new Error(`Transaction failed: ${r.error}`))})}catch(e){console.warn("IndexedDB delete error:",e)}}async clear(){try{const e=await this.init();return new Promise((t,a)=>{const i=e.transaction([this.storeName],"readwrite"),r=i.objectStore(this.storeName).clear();r.onsuccess=()=>t(),r.onerror=()=>a(new Error(`Failed to clear cache: ${r.error}`)),i.oncomplete=()=>t(),i.onerror=()=>a(new Error(`Transaction failed: ${i.error}`))})}catch(e){console.warn("IndexedDB clear error:",e)}}async clearExpired(){try{const e=await this.init();return new Promise((t,a)=>{const i=e.transaction([this.storeName],"readwrite").objectStore(this.storeName).index("timestamp").openCursor();let r=0;const n=Date.now();i.onsuccess=e=>{const a=e.target.result;if(a){const e=a.value;n-e.timestamp>=e.ttl&&(a.delete(),r++),a.continue()}else t(r)},i.onerror=()=>a(new Error(`Failed to clear expired: ${i.error}`))})}catch(e){return console.warn("IndexedDB clearExpired error:",e),0}}async keys(){try{const e=await this.init();return new Promise((t,a)=>{const i=e.transaction([this.storeName],"readonly").objectStore(this.storeName).getAllKeys();i.onsuccess=()=>t(i.result),i.onerror=()=>a(new Error(`Failed to get keys: ${i.error}`))})}catch(e){return console.warn("IndexedDB keys error:",e),[]}}async getStats(){try{const e=await this.init();return new Promise((t,a)=>{const i=e.transaction([this.storeName],"readonly").objectStore(this.storeName).getAll();i.onsuccess=()=>{const e=i.result,a=Date.now();let r=0,n=0,s=0;e.forEach(e=>{const t=JSON.stringify(e).length;s+=t,a-e.timestamp<e.ttl?r++:n++}),t({totalEntries:e.length,validEntries:r,expiredEntries:n,totalBytes:s,totalKB:(s/1024).toFixed(2),avgEntrySize:e.length>0?(s/e.length).toFixed(2):0})},i.onerror=()=>a(new Error(`Failed to get stats: ${i.error}`))})}catch(e){return console.warn("IndexedDB getStats error:",e),{totalEntries:0,validEntries:0,expiredEntries:0,totalBytes:0,totalKB:0,avgEntrySize:0}}}async close(){this.db&&(this.db.close(),this.db=null)}async deleteDatabase(){return await this.close(),new Promise((e,t)=>{const a=indexedDB.deleteDatabase(this.dbName);a.onsuccess=()=>e(),a.onerror=()=>t(new Error(`Failed to delete database: ${a.error}`))})}}const e="prayer",t="geocoding",a="location",i={PRAYER_TIMES:864e5};const r=new class{constructor(){this.memoryCache=new Map,this.idbCache=new IndexedDBCache("ummah-unified-cache","cache"),this.initialized=!1,this.initPromise=null}async init(){if(!this.initialized)return this.initPromise||(this.initPromise=this._doInit()),this.initPromise}async _doInit(){try{await this.idbCache.init(),this.initialized=!0}catch(e){console.warn("UnifiedCacheManager: IndexedDB init failed, using memory-only mode:",e),this.initialized=!0}}generateKey(e,...t){return`${e}:${t.join(":")}`}generateLocationKey(e,t,a,...i){const r=t.toFixed(4),n=a.toFixed(4);return this.generateKey(e,r,n,...i)}async get(e){if(this.memoryCache.has(e)){const t=this.memoryCache.get(e);if(Date.now()-t.timestamp<t.ttl)return t.value;this.memoryCache.delete(e)}try{const t=await this.idbCache.get(e);if(null!==t)return this.memoryCache.set(e,{value:t,timestamp:Date.now(),ttl:i.PRAYER_TIMES}),t}catch(e){console.warn("UnifiedCacheManager: IndexedDB get failed:",e)}return null}async set(e,t,a=i.PRAYER_TIMES){const r={value:t,timestamp:Date.now(),ttl:a};this.memoryCache.set(e,r);try{await this.idbCache.set(e,t,a)}catch(e){console.warn("UnifiedCacheManager: IndexedDB set failed:",e)}}async delete(e){this.memoryCache.delete(e);try{await this.idbCache.delete(e)}catch(e){console.warn("UnifiedCacheManager: IndexedDB delete failed:",e)}}async invalidateNamespace(e){const t=e+":";for(const e of this.memoryCache.keys())e.startsWith(t)&&this.memoryCache.delete(e);try{const e=await this.idbCache.keys();for(const a of e)a.startsWith(t)&&await this.idbCache.delete(a)}catch(e){console.warn("UnifiedCacheManager: Namespace invalidation failed:",e)}}async clear(){this.memoryCache.clear();try{await this.idbCache.clear()}catch(e){console.warn("UnifiedCacheManager: Clear failed:",e)}}async clearExpired(){let e=0;const t=Date.now();for(const[a,i]of this.memoryCache.entries())t-i.timestamp>=i.ttl&&(this.memoryCache.delete(a),e++);try{e+=await this.idbCache.clearExpired()}catch(e){console.warn("UnifiedCacheManager: Expired clear failed:",e)}return e}async getStats(){const e=this.memoryCache.size;let t={totalEntries:0,validEntries:0,expiredEntries:0};try{t=await this.idbCache.getStats()}catch(e){console.warn("UnifiedCacheManager: Stats failed:",e)}return{memoryEntries:e,...t,totalEntries:e+t.totalEntries}}async getOrFetch(e,t,a){const i=await this.get(e);if(null!==i)return i;const r=await t();return await this.set(e,r,a),r}async getOrFetchStale(e,t,a,i=.8*a){if(this.memoryCache.has(e)){const r=this.memoryCache.get(e),n=Date.now()-r.timestamp;if(n<r.ttl){const s=n>i;return s&&this._refreshInBackground(e,t,a),{value:r.value,isStale:s}}}try{const t=await this.idbCache.get(e);if(null!==t)return this.memoryCache.set(e,{value:t,timestamp:Date.now(),ttl:a}),{value:t,isStale:!0}}catch(e){console.warn("UnifiedCacheManager: IDB get failed:",e)}const r=await t();return await this.set(e,r,a),{value:r,isStale:!1}}async _refreshInBackground(e,t,a){try{const i=await t();await this.set(e,i,a)}catch(e){console.warn("UnifiedCacheManager: Background refresh failed:",e)}}};"undefined"!=typeof window&&r.init().catch(console.warn);const n="gps_fresh",s="gps_cached",o="fallback",c={enableHighAccuracy:!1,timeout:1e4,maximumAge:3e5},l=["https://corsproxy.io/?","https://api.allorigins.win/raw?url="],d={latitude:-6.2088,longitude:106.8456,city:"Jakarta",country:"Indonesia"},h={LOCATION:18e5,GEOCODING:6048e5},u=["Fajr","Dhuhr","Asr","Maghrib","Isha"];const m=new class{constructor(){this.location=null,this.prayerTimes=null,this.nextPrayer=null,this.timeToNextPrayer=null,this.isLoading=!1,this.error=null,this.lastDate=null,this.listeners=new Set,this.initialized=!1,this.initPromise=null,this.updateInterval=null,this.handleOnline=this.handleOnline.bind(this),this.handleOffline=this.handleOffline.bind(this),this.handleVisibilityChange=this.handleVisibilityChange.bind(this)}async init(e={}){if(!this.initialized)return this.initPromise||(this.initPromise=this._doInit(e)),this.initPromise}async _doInit(e){try{this.isLoading=!0,this.notifyListeners("loading"),await r.init(),this.location=await this.getLocation({forceRefresh:e.forceRefresh}),this.prayerTimes=await this.fetchPrayerTimes(),this.calculateNextPrayer(),this.setupEventHandlers(),this.setupUpdateInterval(),this.setupDateChangeDetection(),this.initialized=!0,this.isLoading=!1,this.error=null,this.notifyListeners("initialized")}catch(e){throw console.error("PrayerTimesService initialization failed:",e),this.error=e,this.isLoading=!1,this.notifyListeners("error",e),e}}async getLocation(e={}){const{forceRefresh:t=!1,maxAge:i=h.LOCATION}=e,o=r.generateKey(a,"current");if(!t){const e=await r.get(o);if(e&&this.isLocationFresh(e,i))return console.log("[PrayerTimesService] Using cached location:",e),{...e,quality:s}}try{const e=await this.requestGPSPosition(),t={latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy,timestamp:Date.now(),quality:n};return this.fetchCityName(t).catch(e=>{console.warn("[PrayerTimesService] Geocoding failed:",e)}),await r.set(o,t,h.LOCATION),console.log("[PrayerTimesService] Got fresh GPS location:",t),t}catch(e){return console.warn("[PrayerTimesService] GPS failed, using fallback:",e.message),this.getLocationFallback(e,o)}}requestGPSPosition(){return new Promise((e,t)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e,t,c):t(new Error("Geolocation not supported"))})}async getLocationFallback(e,t){const a=await this.getExpiredLocationCache(t);return a&&a.quality!==o?(console.log("[PrayerTimesService] Using expired cache as fallback:",a),{...a,quality:s,isExpired:!0}):{...d,quality:o,fallbackReason:this.getGPSErrorMessage(e),timestamp:Date.now()}}async getExpiredLocationCache(e){try{if(!r.idbCache||!r.idbCache.db)return null;const t=r.idbCache.db;return new Promise(a=>{const i=t.transaction(["cache"],"readonly").objectStore("cache").get(e);i.onsuccess=()=>{const e=i.result;e&&e.value?a(e.value):a(null)},i.onerror=()=>a(null)})}catch(e){return null}}isLocationFresh(e,t){return!(!e||!e.timestamp)&&Date.now()-e.timestamp<t}getGPSErrorMessage(e){switch(e.code){case e.PERMISSION_DENIED:return"Permission denied";case e.POSITION_UNAVAILABLE:return"Position unavailable";case e.TIMEOUT:return"Request timed out";default:return e.message||"Unknown error"}}async fetchCityName(e){if(!e||e.quality===o)return;const a=r.generateLocationKey(t,e.latitude,e.longitude);try{const t=await r.get(a);if(t)return e.city=t.city,void(e.country=t.country)}catch(e){console.warn("[PrayerTimesService] Geocoding cache read error:",e)}const i=`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e.latitude}&lon=${e.longitude}`;for(const t of l)try{const n=new AbortController,s=setTimeout(()=>n.abort(),5e3),o=await fetch(`${t}${encodeURIComponent(i)}`,{signal:n.signal});if(clearTimeout(s),!o.ok)continue;const c=await o.json();return e.city=c.address.city||c.address.town||c.address.village||c.address.county||"Unknown",e.country=c.address.country||"Unknown",await r.set(a,{city:e.city,country:e.country},h.GEOCODING),void this.notifyListeners("location-updated")}catch(e){console.warn(`[PrayerTimesService] Geocoding proxy ${t} failed:`,e)}e.city="Unknown",e.country="Unknown"}generatePrayerCacheKey(t){if(!t)return null;const a=(new Date).toLocaleDateString("en-CA",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone});return r.generateLocationKey(e,t.latitude,t.longitude,a,t.quality)}calculatePrayerTTL(){const e=new Date,t=Intl.DateTimeFormat().resolvedOptions().timeZone,a=e.toLocaleDateString("en-CA",{timeZone:t})+"T23:59:59",i=new Date(a).getTime()-e.getTime()+3e5;return Math.max(i,6e4)}async fetchPrayerTimes(e=this.location){if(!e)throw new Error("Location not available");const t=this.generatePrayerCacheKey(e);try{const a=await r.get(t);if(a){const t=new Date(a.date),i=new Date;if(t.toDateString()===i.toDateString()){console.log("[PrayerTimesService] Using cached prayer times");const t=Date.now()-new Date(a.date).getTime();return t>72e6&&this.refreshPrayerTimesInBackground(e),a.prayerTimes}}}catch(e){console.warn("[PrayerTimesService] Prayer times cache read error:",e)}return this.fetchPrayerTimesFromAPI(e)}async fetchPrayerTimesFromAPI(e){const t=new Date,a=`https://api.aladhan.com/v1/timings/${t.getDate()}-${t.getMonth()+1}-${t.getFullYear()}?latitude=${e.latitude}&longitude=${e.longitude}&method=20`;try{const t=await fetch(a),i=await t.json();if(200===i.code&&i.data){const t={};return u.forEach(e=>{t[e]=i.data.timings[e]}),await this.cachePrayerTimes(e,t),console.log("[PrayerTimesService] Fetched prayer times from API"),t}throw new Error("Invalid API response")}catch(e){throw console.error("[PrayerTimesService] Prayer times fetch error:",e),e}}async cachePrayerTimes(e,t){const a=this.generatePrayerCacheKey(e);if(!a)return;const i={date:(new Date).toISOString(),prayerTimes:t,location:{latitude:e.latitude,longitude:e.longitude,quality:e.quality}},n=this.calculatePrayerTTL();await r.set(a,i,n)}async refreshPrayerTimesInBackground(e=this.location){try{const t=await this.fetchPrayerTimesFromAPI(e);this.prayerTimes=t,this.notifyListeners("prayer-times-updated")}catch(e){console.warn("[PrayerTimesService] Background refresh failed:",e)}}calculateNextPrayer(){if(!this.prayerTimes)return null;const e=new Date,t=60*e.getHours()+e.getMinutes(),a=u.map(e=>{const[t,a]=this.prayerTimes[e].split(":").map(Number);return{name:e,time:this.prayerTimes[e],minutes:60*t+a}});let i=null;for(const e of a)if(e.minutes>t){i=e;break}if(i)this.timeToNextPrayer=i.minutes-t;else{i=a[0];const e=1440-t;this.timeToNextPrayer=e+i.minutes}return this.nextPrayer=i,i}formatTimeToNextPrayer(){if(null===this.timeToNextPrayer)return"";const e=Math.floor(this.timeToNextPrayer/60),t=this.timeToNextPrayer%60;return e>0?`${e}h ${t}m`:`${t}m`}formatDate(){return(new Date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})}formatCurrentTime(e=!1){const t={hour:"2-digit",minute:"2-digit",hour12:!0};return e&&(t.second="2-digit"),(new Date).toLocaleTimeString("en-US",t)}formatLocation(){if(!this.location)return"Unknown";return`${this.location.city||"Unknown"}, ${this.location.country||"Unknown"}${this.location.quality===o?" (Fallback)":""}`}getState(){return{location:this.location,prayerTimes:this.prayerTimes,nextPrayer:this.nextPrayer,timeToNextPrayer:this.timeToNextPrayer,formattedTimeToNext:this.formatTimeToNextPrayer(),isLoading:this.isLoading,error:this.error,formattedDate:this.formatDate(),formattedTime:this.formatCurrentTime(),formattedLocation:this.formatLocation()}}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}notifyListeners(e,t){const a=this.getState();this.listeners.forEach(i=>{try{i(a,e,t)}catch(e){console.error("[PrayerTimesService] Listener error:",e)}})}setupEventHandlers(){window.addEventListener("online",this.handleOnline),window.addEventListener("offline",this.handleOffline),document.addEventListener("visibilitychange",this.handleVisibilityChange)}handleOnline(){console.log("[PrayerTimesService] Network restored, refreshing..."),this.refreshPrayerTimesInBackground()}handleOffline(){console.log("[PrayerTimesService] Network lost, using cached data")}handleVisibilityChange(){"visible"===document.visibilityState&&(this.calculateNextPrayer(),this.notifyListeners("visibility-change"))}setupUpdateInterval(){this.updateInterval&&clearInterval(this.updateInterval),this.updateInterval=setInterval(()=>{this.calculateNextPrayer(),this.notifyListeners("tick")},1e3)}setupDateChangeDetection(){this.lastDate=(new Date).toDateString(),setInterval(()=>{const e=(new Date).toDateString();this.lastDate!==e&&(console.log("[PrayerTimesService] Date changed, invalidating cache"),this.lastDate=e,this.invalidatePrayerTimesCache())},6e4)}async invalidateLocationCache(){await r.invalidateNamespace(a),this.location=null,this.notifyListeners("location-invalidated")}async invalidatePrayerTimesCache(){await r.invalidateNamespace(e),this.prayerTimes=null;try{this.prayerTimes=await this.fetchPrayerTimes(),this.calculateNextPrayer(),this.notifyListeners("prayer-times-updated")}catch(e){console.error("[PrayerTimesService] Failed to refresh prayer times:",e)}}async invalidateAllCaches(){await this.invalidateLocationCache(),await this.invalidatePrayerTimesCache()}async forceRefresh(){this.isLoading=!0,this.notifyListeners("loading");try{this.location=await this.getLocation({forceRefresh:!0}),this.prayerTimes=await this.fetchPrayerTimesFromAPI(this.location),this.calculateNextPrayer(),this.error=null,this.notifyListeners("refreshed")}catch(e){this.error=e,this.notifyListeners("error",e)}finally{this.isLoading=!1}}destroy(){this.updateInterval&&clearInterval(this.updateInterval),window.removeEventListener("online",this.handleOnline),window.removeEventListener("offline",this.handleOffline),document.removeEventListener("visibilitychange",this.handleVisibilityChange),this.listeners.clear(),this.initialized=!1}};"undefined"!=typeof window&&m.init().catch(e=>{console.warn("[PrayerTimesService] Auto-init failed:",e)});const y="darkMode";function g(){const e=new URLSearchParams(window.location.search),t=e.get("institution"),a=e.get("jurisdiction");return t?{type:"institution",name:t}:a?{type:"jurisdiction",name:a}:{type:"global",name:"Global Feed"}}let w=null,p=null;async function f(){const e=document.getElementById("prayer-times-widget");if(e){e.innerHTML='\n    <div class="prayer-widget-header">\n      <h3 class="prayer-widget-title">Prayer Time Widget</h3>\n    </div>\n    <div class="prayer-widget-loading">\n      <span class="loading-spinner"></span>\n      <span>Fetching your location...</span>\n    </div>\n  ';try{p=m.subscribe((t,a)=>{!function(e,t,a){switch(t){case"loading":a.innerHTML='\n        <div class="prayer-widget-header">\n          <h3 class="prayer-widget-title">Prayer Time Widget</h3>\n        </div>\n        <div class="prayer-widget-loading">\n          <span class="loading-spinner"></span>\n          <span>Updating...</span>\n        </div>\n      ';break;case"error":e.prayerTimes||(a.innerHTML=`\n          <div class="prayer-widget-header">\n            <h3 class="prayer-widget-title">Prayer Time Widget</h3>\n          </div>\n          <p class="text-center prayer-error">${e.error?.message||"Unable to load prayer times."}</p>\n        `);break;default:v()}}(t,a,e)}),await m.init(),v(),w=setInterval(()=>{v()},1e3)}catch(t){console.error("Error initializing prayer times widget:",t),e.innerHTML='<p class="text-center prayer-error">Unable to load prayer times.</p>'}}}function v(){const e=document.getElementById("prayer-times-widget");if(!e)return;const t=m.getState();if(t.isLoading&&!t.prayerTimes)return;if(t.error&&!t.prayerTimes)return;const a=t.location?.quality===o,i=a?" (Fallback)":"",r=a?"prayer-widget-location prayer-widget-location-fallback":"prayer-widget-location";e.innerHTML=`\n    <div class="prayer-widget-header">\n      <h3 class="prayer-widget-title">Prayer Time Widget</h3>\n    </div>\n    <div class="prayer-widget-header">\n      <span class="prayer-widget-date">${t.formattedDate}</span>\n      <span class="prayer-widget-clock">${t.formattedTime}</span>\n    </div>\n    <div class="${r}">üìç ${t.formattedLocation}${i}</div>\n    <div class="prayer-widget-next">\n      <span class="prayer-widget-next-label">Next Prayer:</span> ${t.nextPrayer?.name||"Unknown"} (${t.formattedTimeToNext||"--"})\n    </div>\n    <div class="prayer-widget-times">\n      <div class="prayer-widget-column">\n        <span class="prayer-widget-name">Fajr</span>\n        <span class="prayer-widget-time">${t.prayerTimes?.Fajr||"--:--"}</span>\n      </div>\n      <div class="prayer-widget-column">\n        <span class="prayer-widget-name">Dhuhr</span>\n        <span class="prayer-widget-time">${t.prayerTimes?.Dhuhr||"--:--"}</span>\n      </div>\n      <div class="prayer-widget-column">\n        <span class="prayer-widget-name">Asr</span>\n        <span class="prayer-widget-time">${t.prayerTimes?.Asr||"--:--"}</span>\n      </div>\n      <div class="prayer-widget-column">\n        <span class="prayer-widget-name">Maghrib</span>\n        <span class="prayer-widget-time">${t.prayerTimes?.Maghrib||"--:--"}</span>\n      </div>\n      <div class="prayer-widget-column">\n        <span class="prayer-widget-name">Isha</span>\n        <span class="prayer-widget-time">${t.prayerTimes?.Isha||"--:--"}</span>\n      </div>\n    </div>\n  `}async function P(e=!1){const t=g(),a=document.getElementById("prayer-times-widget");"institution"===t.type?await async function(e,t,a=!1){try{const{getInstitutionFeedConfig:i,getDocumentById:r}=await import("./config-CkCorqI0.js"),n=await i(e);if(n?.widget?.enabled?await f():t&&(t.style.display="none"),n?.carousel){a&&T();const e=await Promise.all(n.carousel.images.map(async e=>{const t=e.document_id?await r(e.document_id):null;return{...e,document:t}})),t={...n.carousel,images:e};b(t,n.carousel.post_to_jurisdictions?.[0]||"","institution")}}catch(e){console.error("Error initializing institution feed:",e)}}(t.name,a,e):"jurisdiction"===t.type?await async function(e,t,a=!1){try{const{getJurisdictionFeedConfig:i,getJurisdictionCarousels:r}=await import("./config-CkCorqI0.js"),n=await i(e);n?.widget?.enabled?await f():t&&(t.style.display="none"),a&&T();(await r(e)).forEach(e=>{b(e,e.institution,"jurisdiction")})}catch(e){console.error("Error initializing jurisdiction feed:",e)}}(t.name,a,e):await f()}function T(){const e=document.querySelector(".paper-sheet");if(!e)return;e.querySelectorAll(".feed-carousel").forEach(e=>e.remove())}function b(e,t,a){try{const i=document.querySelector(".paper-sheet");if(!i)return void console.error("Feed container not found");const r="institution"===a?`Posted in ${t.replace(/\s*\[.*?\]\s*/g,"").trim()}`:`Posted by ${t.replace(/\s*\[.*?\]\s*/g,"").trim()}`,n=`carousel-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,s=`\n      <div class="feed-carousel" id="${n}">\n        <div class="carousel-header">\n          <h3 class="carousel-title">${e.title}</h3>\n        </div>\n        <div class="carousel-container">\n          <div class="carousel-track" id="${n}-track">\n            ${e.images.map((e,t)=>{const a=e.document?.title||"Untitled",i=e.document?.filename||"#";return`\n              <div class="carousel-slide">\n                <img src="${e.url}" alt="${a}" loading="${0===t?"eager":"lazy"}" decoding="async" fetchpriority="${0===t?"high":"auto"}">\n                <div class="carousel-caption">\n                  <a href="${i}" class="carousel-caption-link">${a}</a>\n                </div>\n              </div>\n            `}).join("")}\n          </div>\n          <button class="carousel-nav prev" aria-label="Previous slide">‚Äπ</button>\n          <button class="carousel-nav next" aria-label="Next slide">‚Ä∫</button>\n        </div>\n        <div class="carousel-footer">\n          <div class="carousel-indicators">\n            ${e.images.map((e,t)=>`\n              <button class="carousel-indicator ${0===t?"active":""}" data-index="${t}" aria-label="Go to slide ${t+1}"></button>\n            `).join("")}\n          </div>\n          <span class="carousel-source">${r}</span>\n        </div>\n      </div>\n    `;i.insertAdjacentHTML("beforeend",s),function(e,t){const a=document.getElementById(e);if(!a)return;const i=document.getElementById(`${e}-track`),r=a.querySelector(".carousel-nav.prev"),n=a.querySelector(".carousel-nav.next"),s=a.querySelectorAll(".carousel-indicator");let o,c=0;function l(e){e<0&&(e=t-1),e>=t&&(e=0),c=e,i.style.transform=`translateX(-${100*c}%)`,s.forEach((e,t)=>{e.classList.toggle("active",t===c)})}function d(){l(c+1)}function h(){l(c-1)}function u(){o=setInterval(d,5e3)}function m(){clearInterval(o)}function y(){m(),u()}r.addEventListener("click",()=>{h(),y()}),n.addEventListener("click",()=>{d(),y()}),s.forEach((e,t)=>{e.addEventListener("click",()=>{l(t),y()})}),u(),a.addEventListener("mouseenter",m),a.addEventListener("mouseleave",u);let g=0,w=0;function p(){const e=50,t=g-w;Math.abs(t)>e&&(t>0?d():h())}a.addEventListener("touchstart",e=>{g=e.changedTouches[0].screenX,m()},{passive:!0}),a.addEventListener("touchend",e=>{w=e.changedTouches[0].screenX,p(),u()},{passive:!0})}(n,e.images.length)}catch(e){console.error("Error rendering carousel:",e)}}document.addEventListener("DOMContentLoaded",()=>{!function(){const e=document.querySelector(".admin-seal");if(!e)return;const t=localStorage.getItem(y),a=window.matchMedia("(prefers-color-scheme: dark)").matches;("true"===t||!t&&a)&&document.documentElement.classList.add("dark"),e.addEventListener("click",()=>{document.documentElement.classList.toggle("dark");const e=document.documentElement.classList.contains("dark");localStorage.setItem(y,e)})}(),function(){const e=g(),t=document.getElementById("feed-header");if(t)if("global"===e.type)t.textContent="Global Feed";else if("institution"===e.type){const a=e.name.replace(/\s*\[.*?\]\s*/g,"").trim();t.textContent=`${a} Feed`}else if("jurisdiction"===e.type){const a=e.name.replace(/\s*\[.*?\]\s*/g,"").trim();t.textContent=`${a} Feed`}}(),P(!1)}),window.addEventListener("pageshow",e=>{e.persisted&&P(!0)}),window.addEventListener("beforeunload",function(){w&&clearInterval(w),p&&p()});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmVlZC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vanMvaW5kZXhlZGRiLWNhY2hlLmpzIiwiLi4vLi4vanMvdW5pZmllZC1jYWNoZS5qcyIsIi4uLy4uL2pzL3ByYXllci10aW1lcy1zZXJ2aWNlLmpzIiwiLi4vLi4vanMvZmVlZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogSW5kZXhlZERCIENhY2hlIFV0aWxpdHlcclxuICogUHJvdmlkZXMgYSBwZXJzaXN0ZW50IGNhY2hpbmcgbWVjaGFuaXNtIHVzaW5nIEluZGV4ZWREQlxyXG4gKiBTdWl0YWJsZSBmb3IgbGFyZ2VyIGRhdGFzZXRzIHRoYXQgZG9uJ3QgZml0IGluIGxvY2FsU3RvcmFnZVxyXG4gKi9cclxuXHJcbmV4cG9ydCBjbGFzcyBJbmRleGVkREJDYWNoZSB7XHJcbiAgY29uc3RydWN0b3IoZGJOYW1lID0gJ3VtbWFoLWNhY2hlJywgc3RvcmVOYW1lID0gJ3Jlc3BvbnNlcycsIHZlcnNpb24gPSAxKSB7XHJcbiAgICB0aGlzLmRiTmFtZSA9IGRiTmFtZTtcclxuICAgIHRoaXMuc3RvcmVOYW1lID0gc3RvcmVOYW1lO1xyXG4gICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcclxuICAgIHRoaXMuZGIgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZSBJbmRleGVkREIgZGF0YWJhc2VcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxJREJEYXRhYmFzZT59IERhdGFiYXNlIGluc3RhbmNlXHJcbiAgICovXHJcbiAgYXN5bmMgaW5pdCgpIHtcclxuICAgIGlmICh0aGlzLmRiKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmRiO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleGVkREIub3Blbih0aGlzLmRiTmFtZSwgdGhpcy52ZXJzaW9uKTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChuZXcgRXJyb3IoYEZhaWxlZCB0byBvcGVuIGRhdGFiYXNlOiAke3JlcXVlc3QuZXJyb3J9YCkpO1xyXG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmRiID0gcmVxdWVzdC5yZXN1bHQ7XHJcbiAgICAgICAgcmVzb2x2ZSh0aGlzLmRiKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZGIgPSBldmVudC50YXJnZXQucmVzdWx0O1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgb2JqZWN0IHN0b3JlIGlmIGl0IGRvZXNuJ3QgZXhpc3RcclxuICAgICAgICBpZiAoIWRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnModGhpcy5zdG9yZU5hbWUpKSB7XHJcbiAgICAgICAgICBjb25zdCBzdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKHRoaXMuc3RvcmVOYW1lLCB7IGtleVBhdGg6ICdrZXknIH0pO1xyXG4gICAgICAgICAgc3RvcmUuY3JlYXRlSW5kZXgoJ3RpbWVzdGFtcCcsICd0aW1lc3RhbXAnLCB7IHVuaXF1ZTogZmFsc2UgfSk7XHJcbiAgICAgICAgICBzdG9yZS5jcmVhdGVJbmRleCgndHRsJywgJ3R0bCcsIHsgdW5pcXVlOiBmYWxzZSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBjYWNoZWQgdmFsdWVcclxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2FjaGUga2V5XHJcbiAgICogQHJldHVybnMge1Byb21pc2U8Kj59IENhY2hlZCB2YWx1ZSBvciBudWxsIGlmIG5vdCBmb3VuZC9leHBpcmVkXHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0KGtleSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGIgPSBhd2FpdCB0aGlzLmluaXQoKTtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKFt0aGlzLnN0b3JlTmFtZV0sICdyZWFkb25seScpO1xyXG4gICAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUodGhpcy5zdG9yZU5hbWUpO1xyXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5nZXQoa2V5KTtcclxuXHJcbiAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSByZXF1ZXN0LnJlc3VsdDtcclxuXHJcbiAgICAgICAgICBpZiAoIXJlc3VsdCkge1xyXG4gICAgICAgICAgICByZXNvbHZlKG51bGwpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY29uc3QgYWdlID0gRGF0ZS5ub3coKSAtIHJlc3VsdC50aW1lc3RhbXA7XHJcblxyXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgY2FjaGUgaXMgc3RpbGwgdmFsaWRcclxuICAgICAgICAgIGlmIChhZ2UgPCByZXN1bHQudHRsKSB7XHJcbiAgICAgICAgICAgIHJlc29sdmUocmVzdWx0LnZhbHVlKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIENhY2hlIGV4cGlyZWQsIGRlbGV0ZSBpdFxyXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZShrZXkpLmNhdGNoKGNvbnNvbGUud2Fybik7XHJcbiAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4gcmVqZWN0KG5ldyBFcnJvcihgRmFpbGVkIHRvIGdldCBmcm9tIGNhY2hlOiAke3JlcXVlc3QuZXJyb3J9YCkpO1xyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignSW5kZXhlZERCIGdldCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IGNhY2hlZCB2YWx1ZVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBDYWNoZSBrZXlcclxuICAgKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2FjaGVcclxuICAgKiBAcGFyYW0ge251bWJlcn0gdHRsIC0gVGltZSB0byBsaXZlIGluIG1pbGxpc2Vjb25kc1xyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxyXG4gICAqL1xyXG4gIGFzeW5jIHNldChrZXksIHZhbHVlLCB0dGwgPSA1ICogNjAgKiAxMDAwKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBkYiA9IGF3YWl0IHRoaXMuaW5pdCgpO1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gZGIudHJhbnNhY3Rpb24oW3RoaXMuc3RvcmVOYW1lXSwgJ3JlYWR3cml0ZScpO1xyXG4gICAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUodGhpcy5zdG9yZU5hbWUpO1xyXG5cclxuICAgICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgICAga2V5LFxyXG4gICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXHJcbiAgICAgICAgICB0dGxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUucHV0KGRhdGEpO1xyXG5cclxuICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUoKTtcclxuICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QobmV3IEVycm9yKGBGYWlsZWQgdG8gc2V0IGNhY2hlOiAke3JlcXVlc3QuZXJyb3J9YCkpO1xyXG5cclxuICAgICAgICB0cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gKCkgPT4gcmVzb2x2ZSgpO1xyXG4gICAgICAgIHRyYW5zYWN0aW9uLm9uZXJyb3IgPSAoKSA9PiByZWplY3QobmV3IEVycm9yKGBUcmFuc2FjdGlvbiBmYWlsZWQ6ICR7dHJhbnNhY3Rpb24uZXJyb3J9YCkpO1xyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignSW5kZXhlZERCIHNldCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgY2FjaGVkIHZhbHVlIG9yIGZldGNoIGlmIG5vdCBhdmFpbGFibGVcclxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2FjaGUga2V5XHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmV0Y2hGbiAtIEFzeW5jIGZ1bmN0aW9uIHRvIGZldGNoIGZyZXNoIGRhdGFcclxuICAgKiBAcGFyYW0ge251bWJlcn0gdHRsIC0gVGltZSB0byBsaXZlIGluIG1pbGxpc2Vjb25kc1xyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPCo+fSBDYWNoZWQgb3IgZmV0Y2hlZCB2YWx1ZVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldE9yRmV0Y2goa2V5LCBmZXRjaEZuLCB0dGwpIHtcclxuICAgIGNvbnN0IGNhY2hlZCA9IGF3YWl0IHRoaXMuZ2V0KGtleSk7XHJcbiAgICBpZiAoY2FjaGVkICE9PSBudWxsKSB7XHJcbiAgICAgIHJldHVybiBjYWNoZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdmFsdWUgPSBhd2FpdCBmZXRjaEZuKCk7XHJcbiAgICBhd2FpdCB0aGlzLnNldChrZXksIHZhbHVlLCB0dGwpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGNhY2hlZCB2YWx1ZSB3aXRoIHN0YWxlLXdoaWxlLXJldmFsaWRhdGUgcGF0dGVyblxyXG4gICAqIFJldHVybnMgY2FjaGVkIGRhdGEgaW1tZWRpYXRlbHkgYW5kIHJlZnJlc2hlcyBpbiBiYWNrZ3JvdW5kXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIENhY2hlIGtleVxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZldGNoRm4gLSBBc3luYyBmdW5jdGlvbiB0byBmZXRjaCBmcmVzaCBkYXRhXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHR0bCAtIFRpbWUgdG8gbGl2ZSBpbiBtaWxsaXNlY29uZHNcclxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RhbGVUVEwgLSBUaW1lIGJlZm9yZSBjb25zaWRlcmluZyBjYWNoZSBzdGFsZSAoZGVmYXVsdDogODAlIG9mIFRUTClcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTwqPn0gQ2FjaGVkIHZhbHVlXHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0T3JGZXRjaFN0YWxlKGtleSwgZmV0Y2hGbiwgdHRsLCBzdGFsZVRUTCA9IHR0bCAqIDAuOCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGIgPSBhd2FpdCB0aGlzLmluaXQoKTtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKFt0aGlzLnN0b3JlTmFtZV0sICdyZWFkb25seScpO1xyXG4gICAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUodGhpcy5zdG9yZU5hbWUpO1xyXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5nZXQoa2V5KTtcclxuXHJcbiAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSByZXF1ZXN0LnJlc3VsdDtcclxuXHJcbiAgICAgICAgICBpZiAoIXJlc3VsdCkge1xyXG4gICAgICAgICAgICAvLyBObyBjYWNoZSwgZmV0Y2ggZnJlc2ggZGF0YVxyXG4gICAgICAgICAgICBmZXRjaEZuKCkudGhlbih2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5zZXQoa2V5LCB2YWx1ZSwgdHRsKS5jYXRjaChjb25zb2xlLndhcm4pO1xyXG4gICAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xyXG4gICAgICAgICAgICB9KS5jYXRjaChyZWplY3QpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY29uc3QgYWdlID0gRGF0ZS5ub3coKSAtIHJlc3VsdC50aW1lc3RhbXA7XHJcblxyXG4gICAgICAgICAgLy8gUmV0dXJuIGNhY2hlZCBkYXRhIGltbWVkaWF0ZWx5XHJcbiAgICAgICAgICBpZiAoYWdlIDwgcmVzdWx0LnR0bCkge1xyXG4gICAgICAgICAgICAvLyBSZWZyZXNoIGluIGJhY2tncm91bmQgaWYgY2FjaGUgaXMgc3RhbGVcclxuICAgICAgICAgICAgaWYgKGFnZSA+IHN0YWxlVFRMKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoSW5CYWNrZ3JvdW5kKGtleSwgZmV0Y2hGbiwgdHRsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXNvbHZlKHJlc3VsdC52YWx1ZSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBDYWNoZSBleHBpcmVkLCBkZWxldGUgYW5kIGZldGNoIGZyZXNoIGRhdGFcclxuICAgICAgICAgICAgdGhpcy5kZWxldGUoa2V5KS5jYXRjaChjb25zb2xlLndhcm4pO1xyXG4gICAgICAgICAgICBmZXRjaEZuKCkudGhlbih2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5zZXQoa2V5LCB2YWx1ZSwgdHRsKS5jYXRjaChjb25zb2xlLndhcm4pO1xyXG4gICAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xyXG4gICAgICAgICAgICB9KS5jYXRjaChyZWplY3QpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcclxuICAgICAgICAgIC8vIE9uIGVycm9yLCBmZXRjaCBmcmVzaCBkYXRhXHJcbiAgICAgICAgICBmZXRjaEZuKCkudGhlbih2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgdmFsdWUsIHR0bCkuY2F0Y2goY29uc29sZS53YXJuKTtcclxuICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XHJcbiAgICAgICAgICB9KS5jYXRjaChyZWplY3QpO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdJbmRleGVkREIgZ2V0T3JGZXRjaFN0YWxlIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgLy8gRmFsbGJhY2sgdG8gZmV0Y2hcclxuICAgICAgcmV0dXJuIGZldGNoRm4oKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlZnJlc2ggY2FjaGUgaW4gYmFja2dyb3VuZCB3aXRob3V0IGJsb2NraW5nXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIENhY2hlIGtleVxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZldGNoRm4gLSBBc3luYyBmdW5jdGlvbiB0byBmZXRjaCBmcmVzaCBkYXRhXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHR0bCAtIFRpbWUgdG8gbGl2ZSBpbiBtaWxsaXNlY29uZHNcclxuICAgKi9cclxuICBhc3luYyByZWZyZXNoSW5CYWNrZ3JvdW5kKGtleSwgZmV0Y2hGbiwgdHRsKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IGZldGNoRm4oKTtcclxuICAgICAgYXdhaXQgdGhpcy5zZXQoa2V5LCB2YWx1ZSwgdHRsKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignQmFja2dyb3VuZCByZWZyZXNoIGZhaWxlZDonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZWxldGUgY2FjaGVkIHZhbHVlXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIENhY2hlIGtleVxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxyXG4gICAqL1xyXG4gIGFzeW5jIGRlbGV0ZShrZXkpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGRiID0gYXdhaXQgdGhpcy5pbml0KCk7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihbdGhpcy5zdG9yZU5hbWVdLCAncmVhZHdyaXRlJyk7XHJcbiAgICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZSh0aGlzLnN0b3JlTmFtZSk7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlLmRlbGV0ZShrZXkpO1xyXG5cclxuICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUoKTtcclxuICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QobmV3IEVycm9yKGBGYWlsZWQgdG8gZGVsZXRlIGZyb20gY2FjaGU6ICR7cmVxdWVzdC5lcnJvcn1gKSk7XHJcblxyXG4gICAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoKSA9PiByZXNvbHZlKCk7XHJcbiAgICAgICAgdHJhbnNhY3Rpb24ub25lcnJvciA9ICgpID0+IHJlamVjdChuZXcgRXJyb3IoYFRyYW5zYWN0aW9uIGZhaWxlZDogJHt0cmFuc2FjdGlvbi5lcnJvcn1gKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdJbmRleGVkREIgZGVsZXRlIGVycm9yOicsIGVycm9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENsZWFyIGFsbCBjYWNoZWQgdmFsdWVzXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XHJcbiAgICovXHJcbiAgYXN5bmMgY2xlYXIoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBkYiA9IGF3YWl0IHRoaXMuaW5pdCgpO1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gZGIudHJhbnNhY3Rpb24oW3RoaXMuc3RvcmVOYW1lXSwgJ3JlYWR3cml0ZScpO1xyXG4gICAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUodGhpcy5zdG9yZU5hbWUpO1xyXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5jbGVhcigpO1xyXG5cclxuICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUoKTtcclxuICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QobmV3IEVycm9yKGBGYWlsZWQgdG8gY2xlYXIgY2FjaGU6ICR7cmVxdWVzdC5lcnJvcn1gKSk7XHJcblxyXG4gICAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoKSA9PiByZXNvbHZlKCk7XHJcbiAgICAgICAgdHJhbnNhY3Rpb24ub25lcnJvciA9ICgpID0+IHJlamVjdChuZXcgRXJyb3IoYFRyYW5zYWN0aW9uIGZhaWxlZDogJHt0cmFuc2FjdGlvbi5lcnJvcn1gKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdJbmRleGVkREIgY2xlYXIgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2xlYXIgZXhwaXJlZCBjYWNoZSBlbnRyaWVzXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8bnVtYmVyPn0gTnVtYmVyIG9mIGVudHJpZXMgY2xlYXJlZFxyXG4gICAqL1xyXG4gIGFzeW5jIGNsZWFyRXhwaXJlZCgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGRiID0gYXdhaXQgdGhpcy5pbml0KCk7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihbdGhpcy5zdG9yZU5hbWVdLCAncmVhZHdyaXRlJyk7XHJcbiAgICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZSh0aGlzLnN0b3JlTmFtZSk7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSBzdG9yZS5pbmRleCgndGltZXN0YW1wJyk7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IGluZGV4Lm9wZW5DdXJzb3IoKTtcclxuXHJcbiAgICAgICAgbGV0IGNsZWFyZWRDb3VudCA9IDA7XHJcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgIGNvbnN0IGN1cnNvciA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XHJcblxyXG4gICAgICAgICAgaWYgKGN1cnNvcikge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gY3Vyc29yLnZhbHVlO1xyXG4gICAgICAgICAgICBjb25zdCBhZ2UgPSBub3cgLSBkYXRhLnRpbWVzdGFtcDtcclxuXHJcbiAgICAgICAgICAgIGlmIChhZ2UgPj0gZGF0YS50dGwpIHtcclxuICAgICAgICAgICAgICBjdXJzb3IuZGVsZXRlKCk7XHJcbiAgICAgICAgICAgICAgY2xlYXJlZENvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzb2x2ZShjbGVhcmVkQ291bnQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChuZXcgRXJyb3IoYEZhaWxlZCB0byBjbGVhciBleHBpcmVkOiAke3JlcXVlc3QuZXJyb3J9YCkpO1xyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignSW5kZXhlZERCIGNsZWFyRXhwaXJlZCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGFsbCBjYWNoZSBrZXlzXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8QXJyYXk8c3RyaW5nPj59IEFycmF5IG9mIGNhY2hlIGtleXNcclxuICAgKi9cclxuICBhc3luYyBrZXlzKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGIgPSBhd2FpdCB0aGlzLmluaXQoKTtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKFt0aGlzLnN0b3JlTmFtZV0sICdyZWFkb25seScpO1xyXG4gICAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUodGhpcy5zdG9yZU5hbWUpO1xyXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5nZXRBbGxLZXlzKCk7XHJcblxyXG4gICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZShyZXF1ZXN0LnJlc3VsdCk7XHJcbiAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4gcmVqZWN0KG5ldyBFcnJvcihgRmFpbGVkIHRvIGdldCBrZXlzOiAke3JlcXVlc3QuZXJyb3J9YCkpO1xyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignSW5kZXhlZERCIGtleXMgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgY2FjaGUgc3RhdGlzdGljc1xyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IENhY2hlIHN0YXRpc3RpY3NcclxuICAgKi9cclxuICBhc3luYyBnZXRTdGF0cygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGRiID0gYXdhaXQgdGhpcy5pbml0KCk7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihbdGhpcy5zdG9yZU5hbWVdLCAncmVhZG9ubHknKTtcclxuICAgICAgICBjb25zdCBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHRoaXMuc3RvcmVOYW1lKTtcclxuICAgICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUuZ2V0QWxsKCk7XHJcblxyXG4gICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgZW50cmllcyA9IHJlcXVlc3QucmVzdWx0O1xyXG4gICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgIGxldCB2YWxpZEVudHJpZXMgPSAwO1xyXG4gICAgICAgICAgbGV0IGV4cGlyZWRFbnRyaWVzID0gMDtcclxuICAgICAgICAgIGxldCB0b3RhbFNpemUgPSAwO1xyXG5cclxuICAgICAgICAgIGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNpemUgPSBKU09OLnN0cmluZ2lmeShlbnRyeSkubGVuZ3RoO1xyXG4gICAgICAgICAgICB0b3RhbFNpemUgKz0gc2l6ZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChub3cgLSBlbnRyeS50aW1lc3RhbXAgPCBlbnRyeS50dGwpIHtcclxuICAgICAgICAgICAgICB2YWxpZEVudHJpZXMrKztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBleHBpcmVkRW50cmllcysrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgdG90YWxFbnRyaWVzOiBlbnRyaWVzLmxlbmd0aCxcclxuICAgICAgICAgICAgdmFsaWRFbnRyaWVzLFxyXG4gICAgICAgICAgICBleHBpcmVkRW50cmllcyxcclxuICAgICAgICAgICAgdG90YWxCeXRlczogdG90YWxTaXplLFxyXG4gICAgICAgICAgICB0b3RhbEtCOiAodG90YWxTaXplIC8gMTAyNCkudG9GaXhlZCgyKSxcclxuICAgICAgICAgICAgYXZnRW50cnlTaXplOiBlbnRyaWVzLmxlbmd0aCA+IDAgPyAodG90YWxTaXplIC8gZW50cmllcy5sZW5ndGgpLnRvRml4ZWQoMikgOiAwXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QobmV3IEVycm9yKGBGYWlsZWQgdG8gZ2V0IHN0YXRzOiAke3JlcXVlc3QuZXJyb3J9YCkpO1xyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignSW5kZXhlZERCIGdldFN0YXRzIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB0b3RhbEVudHJpZXM6IDAsXHJcbiAgICAgICAgdmFsaWRFbnRyaWVzOiAwLFxyXG4gICAgICAgIGV4cGlyZWRFbnRyaWVzOiAwLFxyXG4gICAgICAgIHRvdGFsQnl0ZXM6IDAsXHJcbiAgICAgICAgdG90YWxLQjogMCxcclxuICAgICAgICBhdmdFbnRyeVNpemU6IDBcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENsb3NlIGRhdGFiYXNlIGNvbm5lY3Rpb25cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cclxuICAgKi9cclxuICBhc3luYyBjbG9zZSgpIHtcclxuICAgIGlmICh0aGlzLmRiKSB7XHJcbiAgICAgIHRoaXMuZGIuY2xvc2UoKTtcclxuICAgICAgdGhpcy5kYiA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZWxldGUgZW50aXJlIGRhdGFiYXNlXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XHJcbiAgICovXHJcbiAgYXN5bmMgZGVsZXRlRGF0YWJhc2UoKSB7XHJcbiAgICBhd2FpdCB0aGlzLmNsb3NlKCk7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKHRoaXMuZGJOYW1lKTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZSgpO1xyXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QobmV3IEVycm9yKGBGYWlsZWQgdG8gZGVsZXRlIGRhdGFiYXNlOiAke3JlcXVlc3QuZXJyb3J9YCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBDcmVhdGUgZGVmYXVsdCBJbmRleGVkREIgY2FjaGUgaW5zdGFuY2VcclxuZXhwb3J0IGNvbnN0IGRlZmF1bHRJREJDYWNoZSA9IG5ldyBJbmRleGVkREJDYWNoZSgpO1xyXG5cclxuLy8gRXhwb3J0IGNhY2hlIGNvbnN0YW50c1xyXG5leHBvcnQgY29uc3QgSURCX0NBQ0hFX1RUTCA9IHtcclxuICBTSE9SVDogNSAqIDYwICogMTAwMCwgICAgICAgICAgIC8vIDUgbWludXRlc1xyXG4gIE1FRElVTTogMTUgKiA2MCAqIDEwMDAsICAgICAgICAgLy8gMTUgbWludXRlc1xyXG4gIExPTkc6IDYwICogNjAgKiAxMDAwLCAgICAgICAgICAgLy8gMSBob3VyXHJcbiAgVkVSWV9MT05HOiAyNCAqIDYwICogNjAgKiAxMDAwICAvLyAyNCBob3Vyc1xyXG59O1xyXG4iLCIvKipcclxuICogVW5pZmllZCBDYWNoZSBNYW5hZ2VyXHJcbiAqIFNpbmdsZSBzb3VyY2Ugb2YgdHJ1dGggZm9yIGFsbCBjYWNoaW5nIG9wZXJhdGlvbnNcclxuICogQ29vcmRpbmF0ZXMgYmV0d2VlbiBtZW1vcnksIGxvY2FsU3RvcmFnZSwgYW5kIEluZGV4ZWREQlxyXG4gKiBcclxuICogRW5oYW5jZWQgd2l0aCB0aW1lem9uZS1hd2FyZSBjYWNoZSBrZXkgZ2VuZXJhdGlvbiBhbmQgVFRMIGNhbGN1bGF0aW9uXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgSW5kZXhlZERCQ2FjaGUgfSBmcm9tICcuL2luZGV4ZWRkYi1jYWNoZS5qcyc7XHJcblxyXG4vLyBDYWNoZSBuYW1lc3BhY2VzIGZvciBvcmdhbml6YXRpb25cclxuZXhwb3J0IGNvbnN0IENBQ0hFX05BTUVTUEFDRVMgPSB7XHJcbiAgUFJBWUVSX1RJTUVTOiAncHJheWVyJyxcclxuICBHRU9DT0RJTkc6ICdnZW9jb2RpbmcnLFxyXG4gIExPQ0FUSU9OOiAnbG9jYXRpb24nLFxyXG4gIENPTkZJRzogJ2NvbmZpZycsXHJcbiAgRkVFRDogJ2ZlZWQnXHJcbn07XHJcblxyXG4vLyBEZWZhdWx0IFRUTCB2YWx1ZXNcclxuZXhwb3J0IGNvbnN0IENBQ0hFX0RFRkFVTFRfVFRMID0ge1xyXG4gIFBSQVlFUl9USU1FUzogMjQgKiA2MCAqIDYwICogMTAwMCwgIC8vIDI0IGhvdXJzICh1bnRpbCBlbmQgb2YgZGF5KVxyXG4gIEdFT0NPRElORzogNyAqIDI0ICogNjAgKiA2MCAqIDEwMDAsIC8vIDcgZGF5c1xyXG4gIExPQ0FUSU9OOiAzMCAqIDYwICogMTAwMCwgICAgICAgICAgIC8vIDMwIG1pbnV0ZXMgKHJlYXNvbmFibGUgZm9yIHByYXllciB0aW1lcylcclxuICBDT05GSUc6IDUgKiA2MCAqIDEwMDAsICAgICAgICAgICAgICAgLy8gNSBtaW51dGVzXHJcbiAgRkVFRDogMTUgKiA2MCAqIDEwMDAgICAgICAgICAgICAgICAgIC8vIDE1IG1pbnV0ZXNcclxufTtcclxuXHJcbi8vIExvY2F0aW9uIHByZWNpc2lvbiBmb3IgY2FjaGUga2V5cyAoNCBkZWNpbWFscyA9IH4xMW0gYWNjdXJhY3kpXHJcbmV4cG9ydCBjb25zdCBMT0NBVElPTl9QUkVDSVNJT04gPSA0O1xyXG5cclxuLyoqXHJcbiAqIEdldCB0aGUgdXNlcidzIHRpbWV6b25lXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IElBTkEgdGltZXpvbmUgc3RyaW5nIChlLmcuLCBcIkFzaWEvSmFrYXJ0YVwiKVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJUaW1lem9uZSgpIHtcclxuICB0cnkge1xyXG4gICAgcmV0dXJuIEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZTtcclxuICB9IGNhdGNoIHtcclxuICAgIHJldHVybiAnVVRDJzsgLy8gRmFsbGJhY2sgdG8gVVRDXHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogR2V0IHRoZSBjdXJyZW50IGRhdGUgaW4gdGhlIHVzZXIncyB0aW1lem9uZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdGltZXpvbmUgLSBPcHRpb25hbCB0aW1lem9uZSBvdmVycmlkZVxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBEYXRlIHN0cmluZyBpbiBZWVlZLU1NLUREIGZvcm1hdFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldExvY2FsRGF0ZSh0aW1lem9uZSA9IG51bGwpIHtcclxuICBjb25zdCB0eiA9IHRpbWV6b25lIHx8IGdldFVzZXJUaW1lem9uZSgpO1xyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLUNBJywgeyB0aW1lWm9uZTogdHogfSk7XHJcbiAgfSBjYXRjaCB7XHJcbiAgICAvLyBGYWxsYmFjayBpZiB0aW1lem9uZSBpcyBpbnZhbGlkXHJcbiAgICByZXR1cm4gbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLUNBJyk7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQ2FsY3VsYXRlIFRUTCB1bnRpbCBlbmQgb2YgZGF5IGluIHRoZSBzcGVjaWZpZWQgdGltZXpvbmVcclxuICogQHBhcmFtIHtzdHJpbmd9IHRpbWV6b25lIC0gT3B0aW9uYWwgdGltZXpvbmUgb3ZlcnJpZGVcclxuICogQHJldHVybnMge251bWJlcn0gVFRMIGluIG1pbGxpc2Vjb25kc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUVuZE9mRGF5VFRMKHRpbWV6b25lID0gbnVsbCkge1xyXG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgY29uc3QgdHogPSB0aW1lem9uZSB8fCBnZXRVc2VyVGltZXpvbmUoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gR2V0IGVuZCBvZiBkYXkgaW4gdGhlIHNwZWNpZmllZCB0aW1lem9uZVxyXG4gICAgY29uc3QgbG9jYWxEYXRlID0gbm93LnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tQ0EnLCB7IHRpbWVab25lOiB0eiB9KTtcclxuICAgIGNvbnN0IGVuZE9mRGF5ID0gbmV3IERhdGUoYCR7bG9jYWxEYXRlfVQyMzo1OTo1OS45OTlgKTtcclxuICAgIFxyXG4gICAgLy8gQWRkIDUgbWludXRlIGJ1ZmZlciBmb3IgdGltZXpvbmUgZWRnZSBjYXNlc1xyXG4gICAgY29uc3QgdHRsID0gZW5kT2ZEYXkuZ2V0VGltZSgpIC0gbm93LmdldFRpbWUoKSArICg1ICogNjAgKiAxMDAwKTtcclxuICAgIFxyXG4gICAgLy8gTWluaW11bSAxIG1pbnV0ZSBUVExcclxuICAgIHJldHVybiBNYXRoLm1heCh0dGwsIDYwICogMTAwMCk7XHJcbiAgfSBjYXRjaCB7XHJcbiAgICAvLyBGYWxsYmFjazogMjQgaG91cnNcclxuICAgIHJldHVybiAyNCAqIDYwICogNjAgKiAxMDAwO1xyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgVW5pZmllZENhY2hlTWFuYWdlciB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLm1lbW9yeUNhY2hlID0gbmV3IE1hcCgpO1xyXG4gICAgdGhpcy5pZGJDYWNoZSA9IG5ldyBJbmRleGVkREJDYWNoZSgndW1tYWgtdW5pZmllZC1jYWNoZScsICdjYWNoZScpO1xyXG4gICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5pbml0UHJvbWlzZSA9IG51bGw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplIHRoZSBjYWNoZSBtYW5hZ2VyXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XHJcbiAgICovXHJcbiAgYXN5bmMgaW5pdCgpIHtcclxuICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSByZXR1cm47XHJcbiAgICBcclxuICAgIGlmICh0aGlzLmluaXRQcm9taXNlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmluaXRQcm9taXNlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuaW5pdFByb21pc2UgPSB0aGlzLl9kb0luaXQoKTtcclxuICAgIHJldHVybiB0aGlzLmluaXRQcm9taXNlO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgX2RvSW5pdCgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHRoaXMuaWRiQ2FjaGUuaW5pdCgpO1xyXG4gICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignVW5pZmllZENhY2hlTWFuYWdlcjogSW5kZXhlZERCIGluaXQgZmFpbGVkLCB1c2luZyBtZW1vcnktb25seSBtb2RlOicsIGVycm9yKTtcclxuICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7IC8vIENvbnRpbnVlIHdpdGggbWVtb3J5LW9ubHkgbW9kZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2VuZXJhdGUgc3RhbmRhcmRpemVkIGNhY2hlIGtleVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lc3BhY2UgLSBDYWNoZSBuYW1lc3BhY2VcclxuICAgKiBAcGFyYW0gey4uLnN0cmluZ30gcGFydHMgLSBLZXkgcGFydHNcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBGb3JtYXR0ZWQgY2FjaGUga2V5XHJcbiAgICovXHJcbiAgZ2VuZXJhdGVLZXkobmFtZXNwYWNlLCAuLi5wYXJ0cykge1xyXG4gICAgcmV0dXJuIGAke25hbWVzcGFjZX06JHtwYXJ0cy5qb2luKCc6Jyl9YDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXRlIGxvY2F0aW9uLWJhc2VkIGNhY2hlIGtleSB3aXRoIGNvbnNpc3RlbnQgcHJlY2lzaW9uXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVzcGFjZSAtIENhY2hlIG5hbWVzcGFjZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsYXRpdHVkZSAtIExvY2F0aW9uIGxhdGl0dWRlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxvbmdpdHVkZSAtIExvY2F0aW9uIGxvbmdpdHVkZVxyXG4gICAqIEBwYXJhbSB7Li4uc3RyaW5nfSBleHRyYVBhcnRzIC0gQWRkaXRpb25hbCBrZXkgcGFydHNcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBGb3JtYXR0ZWQgY2FjaGUga2V5XHJcbiAgICovXHJcbiAgZ2VuZXJhdGVMb2NhdGlvbktleShuYW1lc3BhY2UsIGxhdGl0dWRlLCBsb25naXR1ZGUsIC4uLmV4dHJhUGFydHMpIHtcclxuICAgIGNvbnN0IGxhdFN0ciA9IGxhdGl0dWRlLnRvRml4ZWQoTE9DQVRJT05fUFJFQ0lTSU9OKTtcclxuICAgIGNvbnN0IGxvblN0ciA9IGxvbmdpdHVkZS50b0ZpeGVkKExPQ0FUSU9OX1BSRUNJU0lPTik7XHJcbiAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZUtleShuYW1lc3BhY2UsIGxhdFN0ciwgbG9uU3RyLCAuLi5leHRyYVBhcnRzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBmcm9tIGNhY2hlIC0gY2hlY2tzIG1lbW9yeSBmaXJzdCwgdGhlbiBJbmRleGVkREJcclxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2FjaGUga2V5XHJcbiAgICogQHJldHVybnMge1Byb21pc2U8Kj59IENhY2hlZCB2YWx1ZSBvciBudWxsXHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0KGtleSkge1xyXG4gICAgLy8gTWVtb3J5IGNhY2hlIChmYXN0ZXN0KVxyXG4gICAgaWYgKHRoaXMubWVtb3J5Q2FjaGUuaGFzKGtleSkpIHtcclxuICAgICAgY29uc3QgY2FjaGVkID0gdGhpcy5tZW1vcnlDYWNoZS5nZXQoa2V5KTtcclxuICAgICAgY29uc3QgYWdlID0gRGF0ZS5ub3coKSAtIGNhY2hlZC50aW1lc3RhbXA7XHJcblxyXG4gICAgICBpZiAoYWdlIDwgY2FjaGVkLnR0bCkge1xyXG4gICAgICAgIHJldHVybiBjYWNoZWQudmFsdWU7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIEV4cGlyZWQsIHJlbW92ZSBmcm9tIG1lbW9yeVxyXG4gICAgICB0aGlzLm1lbW9yeUNhY2hlLmRlbGV0ZShrZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEluZGV4ZWREQiAocGVyc2lzdGVudClcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgdGhpcy5pZGJDYWNoZS5nZXQoa2V5KTtcclxuICAgICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgICAgLy8gUmVzdG9yZSB0byBtZW1vcnkgY2FjaGUgZm9yIGZhc3RlciBzdWJzZXF1ZW50IGFjY2Vzc1xyXG4gICAgICAgIHRoaXMubWVtb3J5Q2FjaGUuc2V0KGtleSwge1xyXG4gICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXHJcbiAgICAgICAgICB0dGw6IENBQ0hFX0RFRkFVTFRfVFRMLlBSQVlFUl9USU1FUyAvLyBEZWZhdWx0IFRUTCBmb3IgcmVzdG9yZWQgaXRlbXNcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignVW5pZmllZENhY2hlTWFuYWdlcjogSW5kZXhlZERCIGdldCBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IGNhY2hlIC0gd3JpdGVzIHRvIGJvdGggbWVtb3J5IGFuZCBJbmRleGVkREJcclxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2FjaGUga2V5XHJcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNhY2hlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHR0bCAtIFRpbWUgdG8gbGl2ZSBpbiBtaWxsaXNlY29uZHNcclxuICAgKi9cclxuICBhc3luYyBzZXQoa2V5LCB2YWx1ZSwgdHRsID0gQ0FDSEVfREVGQVVMVF9UVEwuUFJBWUVSX1RJTUVTKSB7XHJcbiAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICB2YWx1ZSxcclxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxyXG4gICAgICB0dGxcclxuICAgIH07XHJcblxyXG4gICAgLy8gU2V0IGluIG1lbW9yeSBjYWNoZSBpbW1lZGlhdGVseVxyXG4gICAgdGhpcy5tZW1vcnlDYWNoZS5zZXQoa2V5LCBkYXRhKTtcclxuXHJcbiAgICAvLyBTZXQgaW4gSW5kZXhlZERCIGZvciBwZXJzaXN0ZW5jZVxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgdGhpcy5pZGJDYWNoZS5zZXQoa2V5LCB2YWx1ZSwgdHRsKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignVW5pZmllZENhY2hlTWFuYWdlcjogSW5kZXhlZERCIHNldCBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgICAvLyBDb250aW51ZSAtIG1lbW9yeSBjYWNoZSBpcyBzdGlsbCB2YWxpZFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGVsZXRlIGEgc3BlY2lmaWMgY2FjaGUgZW50cnlcclxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2FjaGUga2V5XHJcbiAgICovXHJcbiAgYXN5bmMgZGVsZXRlKGtleSkge1xyXG4gICAgdGhpcy5tZW1vcnlDYWNoZS5kZWxldGUoa2V5KTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHRoaXMuaWRiQ2FjaGUuZGVsZXRlKGtleSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1VuaWZpZWRDYWNoZU1hbmFnZXI6IEluZGV4ZWREQiBkZWxldGUgZmFpbGVkOicsIGVycm9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEludmFsaWRhdGUgYWxsIGNhY2hlcyBmb3IgYSBuYW1lc3BhY2VcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZXNwYWNlIC0gQ2FjaGUgbmFtZXNwYWNlXHJcbiAgICovXHJcbiAgYXN5bmMgaW52YWxpZGF0ZU5hbWVzcGFjZShuYW1lc3BhY2UpIHtcclxuICAgIGNvbnN0IHByZWZpeCA9IG5hbWVzcGFjZSArICc6JztcclxuXHJcbiAgICAvLyBDbGVhciBtZW1vcnkgY2FjaGVcclxuICAgIGZvciAoY29uc3Qga2V5IG9mIHRoaXMubWVtb3J5Q2FjaGUua2V5cygpKSB7XHJcbiAgICAgIGlmIChrZXkuc3RhcnRzV2l0aChwcmVmaXgpKSB7XHJcbiAgICAgICAgdGhpcy5tZW1vcnlDYWNoZS5kZWxldGUoa2V5KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENsZWFyIEluZGV4ZWREQiBlbnRyaWVzXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBrZXlzID0gYXdhaXQgdGhpcy5pZGJDYWNoZS5rZXlzKCk7XHJcbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcclxuICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgocHJlZml4KSkge1xyXG4gICAgICAgICAgYXdhaXQgdGhpcy5pZGJDYWNoZS5kZWxldGUoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignVW5pZmllZENhY2hlTWFuYWdlcjogTmFtZXNwYWNlIGludmFsaWRhdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2xlYXIgYWxsIGNhY2hlc1xyXG4gICAqL1xyXG4gIGFzeW5jIGNsZWFyKCkge1xyXG4gICAgdGhpcy5tZW1vcnlDYWNoZS5jbGVhcigpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgdGhpcy5pZGJDYWNoZS5jbGVhcigpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdVbmlmaWVkQ2FjaGVNYW5hZ2VyOiBDbGVhciBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2xlYXIgZXhwaXJlZCBlbnRyaWVzIGZyb20gYWxsIGNhY2hlc1xyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPG51bWJlcj59IE51bWJlciBvZiBlbnRyaWVzIGNsZWFyZWRcclxuICAgKi9cclxuICBhc3luYyBjbGVhckV4cGlyZWQoKSB7XHJcbiAgICBsZXQgY2xlYXJlZCA9IDA7XHJcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgIC8vIENsZWFyIGV4cGlyZWQgbWVtb3J5IGNhY2hlIGVudHJpZXNcclxuICAgIGZvciAoY29uc3QgW2tleSwgZGF0YV0gb2YgdGhpcy5tZW1vcnlDYWNoZS5lbnRyaWVzKCkpIHtcclxuICAgICAgaWYgKG5vdyAtIGRhdGEudGltZXN0YW1wID49IGRhdGEudHRsKSB7XHJcbiAgICAgICAgdGhpcy5tZW1vcnlDYWNoZS5kZWxldGUoa2V5KTtcclxuICAgICAgICBjbGVhcmVkKys7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDbGVhciBleHBpcmVkIEluZGV4ZWREQiBlbnRyaWVzXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBpZGJDbGVhcmVkID0gYXdhaXQgdGhpcy5pZGJDYWNoZS5jbGVhckV4cGlyZWQoKTtcclxuICAgICAgY2xlYXJlZCArPSBpZGJDbGVhcmVkO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdVbmlmaWVkQ2FjaGVNYW5hZ2VyOiBFeHBpcmVkIGNsZWFyIGZhaWxlZDonLCBlcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNsZWFyZWQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgY2FjaGUgc3RhdGlzdGljc1xyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IENhY2hlIHN0YXRpc3RpY3NcclxuICAgKi9cclxuICBhc3luYyBnZXRTdGF0cygpIHtcclxuICAgIGNvbnN0IG1lbW9yeVNpemUgPSB0aGlzLm1lbW9yeUNhY2hlLnNpemU7XHJcbiAgICBsZXQgaWRiU3RhdHMgPSB7IHRvdGFsRW50cmllczogMCwgdmFsaWRFbnRyaWVzOiAwLCBleHBpcmVkRW50cmllczogMCB9O1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGlkYlN0YXRzID0gYXdhaXQgdGhpcy5pZGJDYWNoZS5nZXRTdGF0cygpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdVbmlmaWVkQ2FjaGVNYW5hZ2VyOiBTdGF0cyBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIG1lbW9yeUVudHJpZXM6IG1lbW9yeVNpemUsXHJcbiAgICAgIC4uLmlkYlN0YXRzLFxyXG4gICAgICB0b3RhbEVudHJpZXM6IG1lbW9yeVNpemUgKyBpZGJTdGF0cy50b3RhbEVudHJpZXNcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgY2FjaGVkIHZhbHVlIG9yIGZldGNoIGlmIG5vdCBhdmFpbGFibGVcclxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2FjaGUga2V5XHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmV0Y2hGbiAtIEFzeW5jIGZ1bmN0aW9uIHRvIGZldGNoIGZyZXNoIGRhdGFcclxuICAgKiBAcGFyYW0ge251bWJlcn0gdHRsIC0gVGltZSB0byBsaXZlIGluIG1pbGxpc2Vjb25kc1xyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPCo+fSBDYWNoZWQgb3IgZmV0Y2hlZCB2YWx1ZVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldE9yRmV0Y2goa2V5LCBmZXRjaEZuLCB0dGwpIHtcclxuICAgIGNvbnN0IGNhY2hlZCA9IGF3YWl0IHRoaXMuZ2V0KGtleSk7XHJcbiAgICBpZiAoY2FjaGVkICE9PSBudWxsKSB7XHJcbiAgICAgIHJldHVybiBjYWNoZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdmFsdWUgPSBhd2FpdCBmZXRjaEZuKCk7XHJcbiAgICBhd2FpdCB0aGlzLnNldChrZXksIHZhbHVlLCB0dGwpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGNhY2hlZCB2YWx1ZSB3aXRoIHN0YWxlLXdoaWxlLXJldmFsaWRhdGUgcGF0dGVyblxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBDYWNoZSBrZXlcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmZXRjaEZuIC0gQXN5bmMgZnVuY3Rpb24gdG8gZmV0Y2ggZnJlc2ggZGF0YVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0dGwgLSBUaW1lIHRvIGxpdmUgaW4gbWlsbGlzZWNvbmRzXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0YWxlVFRMIC0gVGltZSBiZWZvcmUgY29uc2lkZXJpbmcgY2FjaGUgc3RhbGUgKGRlZmF1bHQ6IDgwJSBvZiBUVEwpXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8e3ZhbHVlOiAqLCBpc1N0YWxlOiBib29sZWFufT59IENhY2hlZCB2YWx1ZSBhbmQgc3RhbGVuZXNzIGZsYWdcclxuICAgKi9cclxuICBhc3luYyBnZXRPckZldGNoU3RhbGUoa2V5LCBmZXRjaEZuLCB0dGwsIHN0YWxlVFRMID0gdHRsICogMC44KSB7XHJcbiAgICAvLyBDaGVjayBtZW1vcnkgY2FjaGUgZmlyc3RcclxuICAgIGlmICh0aGlzLm1lbW9yeUNhY2hlLmhhcyhrZXkpKSB7XHJcbiAgICAgIGNvbnN0IGNhY2hlZCA9IHRoaXMubWVtb3J5Q2FjaGUuZ2V0KGtleSk7XHJcbiAgICAgIGNvbnN0IGFnZSA9IERhdGUubm93KCkgLSBjYWNoZWQudGltZXN0YW1wO1xyXG5cclxuICAgICAgaWYgKGFnZSA8IGNhY2hlZC50dGwpIHtcclxuICAgICAgICBjb25zdCBpc1N0YWxlID0gYWdlID4gc3RhbGVUVEw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUmVmcmVzaCBpbiBiYWNrZ3JvdW5kIGlmIHN0YWxlXHJcbiAgICAgICAgaWYgKGlzU3RhbGUpIHtcclxuICAgICAgICAgIHRoaXMuX3JlZnJlc2hJbkJhY2tncm91bmQoa2V5LCBmZXRjaEZuLCB0dGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4geyB2YWx1ZTogY2FjaGVkLnZhbHVlLCBpc1N0YWxlIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBJbmRleGVkREJcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgdGhpcy5pZGJDYWNoZS5nZXQoa2V5KTtcclxuICAgICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgICAgLy8gUmVzdG9yZSB0byBtZW1vcnkgY2FjaGVcclxuICAgICAgICB0aGlzLm1lbW9yeUNhY2hlLnNldChrZXksIHsgdmFsdWUsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSwgdHRsIH0pO1xyXG4gICAgICAgIHJldHVybiB7IHZhbHVlLCBpc1N0YWxlOiB0cnVlIH07IC8vIEFzc3VtZSBzdGFsZSBpZiBmcm9tIElEQlxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1VuaWZpZWRDYWNoZU1hbmFnZXI6IElEQiBnZXQgZmFpbGVkOicsIGVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBObyBjYWNoZSwgZmV0Y2ggZnJlc2hcclxuICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgZmV0Y2hGbigpO1xyXG4gICAgYXdhaXQgdGhpcy5zZXQoa2V5LCB2YWx1ZSwgdHRsKTtcclxuICAgIHJldHVybiB7IHZhbHVlLCBpc1N0YWxlOiBmYWxzZSB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVmcmVzaCBjYWNoZSBpbiBiYWNrZ3JvdW5kXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBhc3luYyBfcmVmcmVzaEluQmFja2dyb3VuZChrZXksIGZldGNoRm4sIHR0bCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBmZXRjaEZuKCk7XHJcbiAgICAgIGF3YWl0IHRoaXMuc2V0KGtleSwgdmFsdWUsIHR0bCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1VuaWZpZWRDYWNoZU1hbmFnZXI6IEJhY2tncm91bmQgcmVmcmVzaCBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gU2luZ2xldG9uIGluc3RhbmNlXHJcbmV4cG9ydCBjb25zdCB1bmlmaWVkQ2FjaGUgPSBuZXcgVW5pZmllZENhY2hlTWFuYWdlcigpO1xyXG5cclxuLy8gQXV0by1pbml0aWFsaXplIG9uIGZpcnN0IGltcG9ydFxyXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICB1bmlmaWVkQ2FjaGUuaW5pdCgpLmNhdGNoKGNvbnNvbGUud2Fybik7XHJcbn1cclxuIiwiLyoqXHJcbiAqIFByYXllclRpbWVzU2VydmljZSAtIFNpbmdsZSBTb3VyY2Ugb2YgVHJ1dGggZm9yIFByYXllciBUaW1lc1xyXG4gKiBcclxuICogVGhpcyBzZXJ2aWNlIGNvbnNvbGlkYXRlcyBhbGwgcHJheWVyIHRpbWUgbG9naWMgdGhhdCB3YXMgcHJldmlvdXNseVxyXG4gKiBkdXBsaWNhdGVkIGJldHdlZW4gbWFycXVlZS5qcyBhbmQgZmVlZC5qcy4gSXQgcHJvdmlkZXM6XHJcbiAqIFxyXG4gKiAtIFVuaWZpZWQgbG9jYXRpb24gbWFuYWdlbWVudCB3aXRoIHF1YWxpdHkgdHJhY2tpbmdcclxuICogLSBUaW1lem9uZS1hd2FyZSBjYWNoZSBrZXlzIGFuZCBUVEwgY2FsY3VsYXRpb25cclxuICogLSBQcm9wZXIgZmFsbGJhY2sgY2hhaW4gKEdQUyDihpIgQ2FjaGVkIOKGkiBKYWthcnRhKVxyXG4gKiAtIEV2ZW50LWJhc2VkIGNhY2hlIGludmFsaWRhdGlvblxyXG4gKiAtIFN1YnNjcmliZXIgcGF0dGVybiBmb3IgVUkgdXBkYXRlc1xyXG4gKi9cclxuXHJcbmltcG9ydCB7IHVuaWZpZWRDYWNoZSwgQ0FDSEVfTkFNRVNQQUNFUywgQ0FDSEVfREVGQVVMVF9UVEwgfSBmcm9tICcuL3VuaWZpZWQtY2FjaGUuanMnO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBDb25zdGFudHNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIExvY2F0aW9uIHF1YWxpdHkgbGV2ZWxzIC0gdXNlZCBpbiBjYWNoZSBrZXlzIHRvIGRpc3Rpbmd1aXNoIGRhdGEgc291cmNlc1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IExPQ0FUSU9OX1FVQUxJVFkgPSB7XHJcbiAgR1BTX0ZSRVNIOiAnZ3BzX2ZyZXNoJywgICAgICAvLyBGcmVzaCBHUFMgY29vcmRpbmF0ZXMgZnJvbSBjdXJyZW50IHNlc3Npb25cclxuICBHUFNfQ0FDSEVEOiAnZ3BzX2NhY2hlZCcsICAgIC8vIENhY2hlZCBHUFMgY29vcmRpbmF0ZXMgZnJvbSBwcmV2aW91cyBzZXNzaW9uXHJcbiAgRkFMTEJBQ0s6ICdmYWxsYmFjaycgICAgICAgICAvLyBKYWthcnRhIGZhbGxiYWNrIChubyBHUFMgYXZhaWxhYmxlKVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEdlb2xvY2F0aW9uIG9wdGlvbnMgZm9yIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb25cclxuICovXHJcbmNvbnN0IEdFT0xPQ0FUSU9OX09QVElPTlMgPSB7XHJcbiAgZW5hYmxlSGlnaEFjY3VyYWN5OiBmYWxzZSwgICAvLyBGYXN0ZXIsIGxlc3MgYWNjdXJhdGUgaXMgT0sgZm9yIHByYXllciB0aW1lc1xyXG4gIHRpbWVvdXQ6IDEwMDAwLCAgICAgICAgICAgICAgLy8gMTAgc2Vjb25kcyBtYXhcclxuICBtYXhpbXVtQWdlOiAzMDAwMDAgICAgICAgICAgIC8vIEFsbG93IGJyb3dzZXIgY2FjaGUgdXAgdG8gNSBtaW51dGVzXHJcbn07XHJcblxyXG4vKipcclxuICogQ09SUyBwcm94eSBmYWxsYmFja3MgZm9yIGdlb2NvZGluZyAoTm9taW5hdGltIGRvZXNuJ3QgYWxsb3cgQ09SUylcclxuICovXHJcbmNvbnN0IENPUlNfUFJPWElFUyA9IFtcclxuICAnaHR0cHM6Ly9jb3JzcHJveHkuaW8vPycsXHJcbiAgJ2h0dHBzOi8vYXBpLmFsbG9yaWdpbnMud2luL3Jhdz91cmw9J1xyXG5dO1xyXG5cclxuLyoqXHJcbiAqIERlZmF1bHQgZmFsbGJhY2sgbG9jYXRpb24gKEpha2FydGEsIEluZG9uZXNpYSlcclxuICovXHJcbmNvbnN0IERFRkFVTFRfTE9DQVRJT04gPSB7XHJcbiAgbGF0aXR1ZGU6IC02LjIwODgsXHJcbiAgbG9uZ2l0dWRlOiAxMDYuODQ1NixcclxuICBjaXR5OiBcIkpha2FydGFcIixcclxuICBjb3VudHJ5OiBcIkluZG9uZXNpYVwiXHJcbn07XHJcblxyXG4vKipcclxuICogQ2FjaGUgVFRMIGNvbnN0YW50cyAoaW4gbWlsbGlzZWNvbmRzKVxyXG4gKi9cclxuY29uc3QgQ0FDSEVfVFRMID0ge1xyXG4gIExPQ0FUSU9OOiAzMCAqIDYwICogMTAwMCwgICAgICAgICAgIC8vIDMwIG1pbnV0ZXNcclxuICBQUkFZRVJfVElNRVM6IDI0ICogNjAgKiA2MCAqIDEwMDAsICAvLyAyNCBob3VycyAodW50aWwgZW5kIG9mIGRheSlcclxuICBHRU9DT0RJTkc6IDcgKiAyNCAqIDYwICogNjAgKiAxMDAwICAvLyA3IGRheXNcclxufTtcclxuXHJcbi8qKlxyXG4gKiBQcmF5ZXIgbmFtZXMgaW4gb3JkZXJcclxuICovXHJcbmNvbnN0IFBSQVlFUl9OQU1FUyA9IFsnRmFqcicsICdEaHVocicsICdBc3InLCAnTWFnaHJpYicsICdJc2hhJ107XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFByYXllclRpbWVzU2VydmljZSBDbGFzc1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5jbGFzcyBQcmF5ZXJUaW1lc1NlcnZpY2Uge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgLy8gU3RhdGVcclxuICAgIHRoaXMubG9jYXRpb24gPSBudWxsO1xyXG4gICAgdGhpcy5wcmF5ZXJUaW1lcyA9IG51bGw7XHJcbiAgICB0aGlzLm5leHRQcmF5ZXIgPSBudWxsO1xyXG4gICAgdGhpcy50aW1lVG9OZXh0UHJheWVyID0gbnVsbDtcclxuICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XHJcbiAgICB0aGlzLmVycm9yID0gbnVsbDtcclxuICAgIHRoaXMubGFzdERhdGUgPSBudWxsO1xyXG4gICAgXHJcbiAgICAvLyBTdWJzY3JpYmVycyBmb3Igc3RhdGUgY2hhbmdlc1xyXG4gICAgdGhpcy5saXN0ZW5lcnMgPSBuZXcgU2V0KCk7XHJcbiAgICBcclxuICAgIC8vIEluaXRpYWxpemF0aW9uIHN0YXRlXHJcbiAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmluaXRQcm9taXNlID0gbnVsbDtcclxuICAgIFxyXG4gICAgLy8gVXBkYXRlIGludGVydmFsXHJcbiAgICB0aGlzLnVwZGF0ZUludGVydmFsID0gbnVsbDtcclxuICAgIFxyXG4gICAgLy8gQmluZCBtZXRob2RzXHJcbiAgICB0aGlzLmhhbmRsZU9ubGluZSA9IHRoaXMuaGFuZGxlT25saW5lLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmhhbmRsZU9mZmxpbmUgPSB0aGlzLmhhbmRsZU9mZmxpbmUuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSA9IHRoaXMuaGFuZGxlVmlzaWJpbGl0eUNoYW5nZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBJbml0aWFsaXphdGlvblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemUgdGhlIHNlcnZpY2VcclxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIEluaXRpYWxpemF0aW9uIG9wdGlvbnNcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuZm9yY2VSZWZyZXNoIC0gRm9yY2UgcmVmcmVzaCBsb2NhdGlvbiBhbmQgcHJheWVyIHRpbWVzXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XHJcbiAgICovXHJcbiAgYXN5bmMgaW5pdChvcHRpb25zID0ge30pIHtcclxuICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSByZXR1cm47XHJcbiAgICBcclxuICAgIGlmICh0aGlzLmluaXRQcm9taXNlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmluaXRQcm9taXNlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuaW5pdFByb21pc2UgPSB0aGlzLl9kb0luaXQob3B0aW9ucyk7XHJcbiAgICByZXR1cm4gdGhpcy5pbml0UHJvbWlzZTtcclxuICB9XHJcblxyXG4gIGFzeW5jIF9kb0luaXQob3B0aW9ucykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xyXG4gICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycygnbG9hZGluZycpO1xyXG5cclxuICAgICAgLy8gSW5pdGlhbGl6ZSB1bmlmaWVkIGNhY2hlXHJcbiAgICAgIGF3YWl0IHVuaWZpZWRDYWNoZS5pbml0KCk7XHJcblxyXG4gICAgICAvLyBHZXQgbG9jYXRpb24gKHdpdGggY2FjaGUgY2hlY2spXHJcbiAgICAgIHRoaXMubG9jYXRpb24gPSBhd2FpdCB0aGlzLmdldExvY2F0aW9uKHsgXHJcbiAgICAgICAgZm9yY2VSZWZyZXNoOiBvcHRpb25zLmZvcmNlUmVmcmVzaCBcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBGZXRjaCBwcmF5ZXIgdGltZXMgKHdpdGggY2FjaGUgY2hlY2spXHJcbiAgICAgIHRoaXMucHJheWVyVGltZXMgPSBhd2FpdCB0aGlzLmZldGNoUHJheWVyVGltZXMoKTtcclxuXHJcbiAgICAgIC8vIENhbGN1bGF0ZSBuZXh0IHByYXllclxyXG4gICAgICB0aGlzLmNhbGN1bGF0ZU5leHRQcmF5ZXIoKTtcclxuXHJcbiAgICAgIC8vIFNldHVwIGV2ZW50IGhhbmRsZXJzXHJcbiAgICAgIHRoaXMuc2V0dXBFdmVudEhhbmRsZXJzKCk7XHJcblxyXG4gICAgICAvLyBTZXR1cCB1cGRhdGUgaW50ZXJ2YWwgKGV2ZXJ5IHNlY29uZCBmb3IgY2xvY2spXHJcbiAgICAgIHRoaXMuc2V0dXBVcGRhdGVJbnRlcnZhbCgpO1xyXG5cclxuICAgICAgLy8gU2V0dXAgZGF0ZSBjaGFuZ2UgZGV0ZWN0aW9uXHJcbiAgICAgIHRoaXMuc2V0dXBEYXRlQ2hhbmdlRGV0ZWN0aW9uKCk7XHJcblxyXG4gICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgdGhpcy5lcnJvciA9IG51bGw7XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycygnaW5pdGlhbGl6ZWQnKTtcclxuICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdQcmF5ZXJUaW1lc1NlcnZpY2UgaW5pdGlhbGl6YXRpb24gZmFpbGVkOicsIGVycm9yKTtcclxuICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xyXG4gICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycygnZXJyb3InLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBMb2NhdGlvbiBNYW5hZ2VtZW50XHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHVzZXIncyBsb2NhdGlvbiB3aXRoIHByb3BlciBjYWNoaW5nIGFuZCBmYWxsYmFja1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT3B0aW9uc1xyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5mb3JjZVJlZnJlc2ggLSBGb3JjZSBHUFMgcmVmcmVzaFxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLm1heEFnZSAtIE1heGltdW0gYWdlIG9mIGNhY2hlZCBsb2NhdGlvbiAobXMpXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gTG9jYXRpb24gb2JqZWN0IHdpdGggcXVhbGl0eVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldExvY2F0aW9uKG9wdGlvbnMgPSB7fSkge1xyXG4gICAgY29uc3QgeyBmb3JjZVJlZnJlc2ggPSBmYWxzZSwgbWF4QWdlID0gQ0FDSEVfVFRMLkxPQ0FUSU9OIH0gPSBvcHRpb25zO1xyXG4gICAgY29uc3QgY2FjaGVLZXkgPSB1bmlmaWVkQ2FjaGUuZ2VuZXJhdGVLZXkoQ0FDSEVfTkFNRVNQQUNFUy5MT0NBVElPTiwgJ2N1cnJlbnQnKTtcclxuXHJcbiAgICAvLyBDaGVjayBjYWNoZSBmaXJzdCAodW5sZXNzIGZvcmNlIHJlZnJlc2gpXHJcbiAgICBpZiAoIWZvcmNlUmVmcmVzaCkge1xyXG4gICAgICBjb25zdCBjYWNoZWQgPSBhd2FpdCB1bmlmaWVkQ2FjaGUuZ2V0KGNhY2hlS2V5KTtcclxuICAgICAgaWYgKGNhY2hlZCAmJiB0aGlzLmlzTG9jYXRpb25GcmVzaChjYWNoZWQsIG1heEFnZSkpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnW1ByYXllclRpbWVzU2VydmljZV0gVXNpbmcgY2FjaGVkIGxvY2F0aW9uOicsIGNhY2hlZCk7XHJcbiAgICAgICAgcmV0dXJuIHsgLi4uY2FjaGVkLCBxdWFsaXR5OiBMT0NBVElPTl9RVUFMSVRZLkdQU19DQUNIRUQgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlcXVlc3QgR1BTIHBvc2l0aW9uXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBwb3NpdGlvbiA9IGF3YWl0IHRoaXMucmVxdWVzdEdQU1Bvc2l0aW9uKCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBsb2NhdGlvbiA9IHtcclxuICAgICAgICBsYXRpdHVkZTogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLFxyXG4gICAgICAgIGxvbmdpdHVkZTogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSxcclxuICAgICAgICBhY2N1cmFjeTogcG9zaXRpb24uY29vcmRzLmFjY3VyYWN5LFxyXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcclxuICAgICAgICBxdWFsaXR5OiBMT0NBVElPTl9RVUFMSVRZLkdQU19GUkVTSFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gRmV0Y2ggY2l0eSBuYW1lIChhc3luYywgZG9uJ3Qgd2FpdClcclxuICAgICAgdGhpcy5mZXRjaENpdHlOYW1lKGxvY2F0aW9uKS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignW1ByYXllclRpbWVzU2VydmljZV0gR2VvY29kaW5nIGZhaWxlZDonLCBlcnIpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIENhY2hlIHRoZSBsb2NhdGlvblxyXG4gICAgICBhd2FpdCB1bmlmaWVkQ2FjaGUuc2V0KGNhY2hlS2V5LCBsb2NhdGlvbiwgQ0FDSEVfVFRMLkxPQ0FUSU9OKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCdbUHJheWVyVGltZXNTZXJ2aWNlXSBHb3QgZnJlc2ggR1BTIGxvY2F0aW9uOicsIGxvY2F0aW9uKTtcclxuICAgICAgcmV0dXJuIGxvY2F0aW9uO1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignW1ByYXllclRpbWVzU2VydmljZV0gR1BTIGZhaWxlZCwgdXNpbmcgZmFsbGJhY2s6JywgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgIHJldHVybiB0aGlzLmdldExvY2F0aW9uRmFsbGJhY2soZXJyb3IsIGNhY2hlS2V5KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlcXVlc3QgR1BTIHBvc2l0aW9uIHZpYSBuYXZpZ2F0b3IuZ2VvbG9jYXRpb25cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxHZW9sb2NhdGlvblBvc2l0aW9uPn1cclxuICAgKi9cclxuICByZXF1ZXN0R1BTUG9zaXRpb24oKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBpZiAoIW5hdmlnYXRvci5nZW9sb2NhdGlvbikge1xyXG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0dlb2xvY2F0aW9uIG5vdCBzdXBwb3J0ZWQnKSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKFxyXG4gICAgICAgIHJlc29sdmUsXHJcbiAgICAgICAgcmVqZWN0LFxyXG4gICAgICAgIEdFT0xPQ0FUSU9OX09QVElPTlNcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGZhbGxiYWNrIGxvY2F0aW9uIHdoZW4gR1BTIGZhaWxzXHJcbiAgICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgLSBUaGUgR1BTIGVycm9yXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNhY2hlS2V5IC0gQ2FjaGUga2V5IGZvciBleHBpcmVkIGNhY2hlIGxvb2t1cFxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IEZhbGxiYWNrIGxvY2F0aW9uXHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0TG9jYXRpb25GYWxsYmFjayhlcnJvciwgY2FjaGVLZXkpIHtcclxuICAgIC8vIFRyeSBleHBpcmVkIGNhY2hlIGZpcnN0XHJcbiAgICBjb25zdCBleHBpcmVkQ2FjaGUgPSBhd2FpdCB0aGlzLmdldEV4cGlyZWRMb2NhdGlvbkNhY2hlKGNhY2hlS2V5KTtcclxuICAgIGlmIChleHBpcmVkQ2FjaGUgJiYgZXhwaXJlZENhY2hlLnF1YWxpdHkgIT09IExPQ0FUSU9OX1FVQUxJVFkuRkFMTEJBQ0spIHtcclxuICAgICAgY29uc29sZS5sb2coJ1tQcmF5ZXJUaW1lc1NlcnZpY2VdIFVzaW5nIGV4cGlyZWQgY2FjaGUgYXMgZmFsbGJhY2s6JywgZXhwaXJlZENhY2hlKTtcclxuICAgICAgcmV0dXJuIHsgXHJcbiAgICAgICAgLi4uZXhwaXJlZENhY2hlLCBcclxuICAgICAgICBxdWFsaXR5OiBMT0NBVElPTl9RVUFMSVRZLkdQU19DQUNIRUQsXHJcbiAgICAgICAgaXNFeHBpcmVkOiB0cnVlIFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVzZSBKYWthcnRhIGZhbGxiYWNrXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAuLi5ERUZBVUxUX0xPQ0FUSU9OLFxyXG4gICAgICBxdWFsaXR5OiBMT0NBVElPTl9RVUFMSVRZLkZBTExCQUNLLFxyXG4gICAgICBmYWxsYmFja1JlYXNvbjogdGhpcy5nZXRHUFNFcnJvck1lc3NhZ2UoZXJyb3IpLFxyXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgZXhwaXJlZCBsb2NhdGlvbiBjYWNoZSAoaWdub3JpbmcgVFRMKVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjYWNoZUtleSAtIENhY2hlIGtleVxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdHxudWxsPn1cclxuICAgKi9cclxuICBhc3luYyBnZXRFeHBpcmVkTG9jYXRpb25DYWNoZShjYWNoZUtleSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gQWNjZXNzIEluZGV4ZWREQiBkaXJlY3RseSB0byBnZXQgZXhwaXJlZCBjYWNoZVxyXG4gICAgICBpZiAoIXVuaWZpZWRDYWNoZS5pZGJDYWNoZSB8fCAhdW5pZmllZENhY2hlLmlkYkNhY2hlLmRiKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGRiID0gdW5pZmllZENhY2hlLmlkYkNhY2hlLmRiO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihbJ2NhY2hlJ10sICdyZWFkb25seScpO1xyXG4gICAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoJ2NhY2hlJyk7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlLmdldChjYWNoZUtleSk7XHJcblxyXG4gICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVxdWVzdC5yZXN1bHQ7XHJcbiAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC52YWx1ZSkge1xyXG4gICAgICAgICAgICByZXNvbHZlKHJlc3VsdC52YWx1ZSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXNvbHZlKG51bGwpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlc29sdmUobnVsbCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBpZiBjYWNoZWQgbG9jYXRpb24gaXMgZnJlc2hcclxuICAgKiBAcGFyYW0ge09iamVjdH0gbG9jYXRpb24gLSBDYWNoZWQgbG9jYXRpb25cclxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4QWdlIC0gTWF4aW11bSBhZ2UgaW4gbXNcclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgKi9cclxuICBpc0xvY2F0aW9uRnJlc2gobG9jYXRpb24sIG1heEFnZSkge1xyXG4gICAgaWYgKCFsb2NhdGlvbiB8fCAhbG9jYXRpb24udGltZXN0YW1wKSByZXR1cm4gZmFsc2U7XHJcbiAgICByZXR1cm4gRGF0ZS5ub3coKSAtIGxvY2F0aW9uLnRpbWVzdGFtcCA8IG1heEFnZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBodW1hbi1yZWFkYWJsZSBHUFMgZXJyb3IgbWVzc2FnZVxyXG4gICAqIEBwYXJhbSB7R2VvbG9jYXRpb25Qb3NpdGlvbkVycm9yfSBlcnJvciBcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAqL1xyXG4gIGdldEdQU0Vycm9yTWVzc2FnZShlcnJvcikge1xyXG4gICAgc3dpdGNoIChlcnJvci5jb2RlKSB7XHJcbiAgICAgIGNhc2UgZXJyb3IuUEVSTUlTU0lPTl9ERU5JRUQ6XHJcbiAgICAgICAgcmV0dXJuICdQZXJtaXNzaW9uIGRlbmllZCc7XHJcbiAgICAgIGNhc2UgZXJyb3IuUE9TSVRJT05fVU5BVkFJTEFCTEU6XHJcbiAgICAgICAgcmV0dXJuICdQb3NpdGlvbiB1bmF2YWlsYWJsZSc7XHJcbiAgICAgIGNhc2UgZXJyb3IuVElNRU9VVDpcclxuICAgICAgICByZXR1cm4gJ1JlcXVlc3QgdGltZWQgb3V0JztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gZXJyb3IubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcic7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIEdlb2NvZGluZ1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIC8qKlxyXG4gICAqIEZldGNoIGNpdHkgbmFtZSB1c2luZyByZXZlcnNlIGdlb2NvZGluZ1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBsb2NhdGlvbiAtIExvY2F0aW9uIG9iamVjdCAobW9kaWZpZWQgaW4gcGxhY2UpXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XHJcbiAgICovXHJcbiAgYXN5bmMgZmV0Y2hDaXR5TmFtZShsb2NhdGlvbikge1xyXG4gICAgaWYgKCFsb2NhdGlvbiB8fCBsb2NhdGlvbi5xdWFsaXR5ID09PSBMT0NBVElPTl9RVUFMSVRZLkZBTExCQUNLKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBnZW9jb2RpbmcgY2FjaGUgZmlyc3RcclxuICAgIGNvbnN0IGdlb2NvZGluZ0tleSA9IHVuaWZpZWRDYWNoZS5nZW5lcmF0ZUxvY2F0aW9uS2V5KFxyXG4gICAgICBDQUNIRV9OQU1FU1BBQ0VTLkdFT0NPRElORyxcclxuICAgICAgbG9jYXRpb24ubGF0aXR1ZGUsXHJcbiAgICAgIGxvY2F0aW9uLmxvbmdpdHVkZVxyXG4gICAgKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBjYWNoZWQgPSBhd2FpdCB1bmlmaWVkQ2FjaGUuZ2V0KGdlb2NvZGluZ0tleSk7XHJcbiAgICAgIGlmIChjYWNoZWQpIHtcclxuICAgICAgICBsb2NhdGlvbi5jaXR5ID0gY2FjaGVkLmNpdHk7XHJcbiAgICAgICAgbG9jYXRpb24uY291bnRyeSA9IGNhY2hlZC5jb3VudHJ5O1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdbUHJheWVyVGltZXNTZXJ2aWNlXSBHZW9jb2RpbmcgY2FjaGUgcmVhZCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVHJ5IGVhY2ggQ09SUyBwcm94eVxyXG4gICAgY29uc3Qgbm9taW5hdGltVXJsID0gYGh0dHBzOi8vbm9taW5hdGltLm9wZW5zdHJlZXRtYXAub3JnL3JldmVyc2U/Zm9ybWF0PWpzb24mbGF0PSR7bG9jYXRpb24ubGF0aXR1ZGV9Jmxvbj0ke2xvY2F0aW9uLmxvbmdpdHVkZX1gO1xyXG5cclxuICAgIGZvciAoY29uc3QgcHJveHkgb2YgQ09SU19QUk9YSUVTKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcclxuICAgICAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgNTAwMCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgICAgICBgJHtwcm94eX0ke2VuY29kZVVSSUNvbXBvbmVudChub21pbmF0aW1VcmwpfWAsXHJcbiAgICAgICAgICB7IHNpZ25hbDogY29udHJvbGxlci5zaWduYWwgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcblxyXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxvY2F0aW9uLmNpdHkgPSBcclxuICAgICAgICAgIGRhdGEuYWRkcmVzcy5jaXR5IHx8XHJcbiAgICAgICAgICBkYXRhLmFkZHJlc3MudG93biB8fFxyXG4gICAgICAgICAgZGF0YS5hZGRyZXNzLnZpbGxhZ2UgfHxcclxuICAgICAgICAgIGRhdGEuYWRkcmVzcy5jb3VudHkgfHxcclxuICAgICAgICAgIFwiVW5rbm93blwiO1xyXG4gICAgICAgIGxvY2F0aW9uLmNvdW50cnkgPSBkYXRhLmFkZHJlc3MuY291bnRyeSB8fCBcIlVua25vd25cIjtcclxuXHJcbiAgICAgICAgLy8gQ2FjaGUgdGhlIHJlc3VsdFxyXG4gICAgICAgIGF3YWl0IHVuaWZpZWRDYWNoZS5zZXQoXHJcbiAgICAgICAgICBnZW9jb2RpbmdLZXksXHJcbiAgICAgICAgICB7IGNpdHk6IGxvY2F0aW9uLmNpdHksIGNvdW50cnk6IGxvY2F0aW9uLmNvdW50cnkgfSxcclxuICAgICAgICAgIENBQ0hFX1RUTC5HRU9DT0RJTkdcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBOb3RpZnkgbGlzdGVuZXJzIG9mIGxvY2F0aW9uIHVwZGF0ZVxyXG4gICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKCdsb2NhdGlvbi11cGRhdGVkJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oYFtQcmF5ZXJUaW1lc1NlcnZpY2VdIEdlb2NvZGluZyBwcm94eSAke3Byb3h5fSBmYWlsZWQ6YCwgZXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWxsIHByb3hpZXMgZmFpbGVkXHJcbiAgICBsb2NhdGlvbi5jaXR5ID0gXCJVbmtub3duXCI7XHJcbiAgICBsb2NhdGlvbi5jb3VudHJ5ID0gXCJVbmtub3duXCI7XHJcbiAgfVxyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIFByYXllciBUaW1lc1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXRlIHRpbWV6b25lLWF3YXJlIGNhY2hlIGtleSBmb3IgcHJheWVyIHRpbWVzXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGxvY2F0aW9uIC0gTG9jYXRpb24gb2JqZWN0XHJcbiAgICogQHJldHVybnMge3N0cmluZ30gQ2FjaGUga2V5XHJcbiAgICovXHJcbiAgZ2VuZXJhdGVQcmF5ZXJDYWNoZUtleShsb2NhdGlvbikge1xyXG4gICAgaWYgKCFsb2NhdGlvbikgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgLy8gR2V0IGxvY2FsIGRhdGUgaW4gdXNlcidzIHRpbWV6b25lXHJcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gICAgY29uc3QgbG9jYWxEYXRlID0gbm93LnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tQ0EnLCB7XHJcbiAgICAgIHRpbWVab25lOiBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmVcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB1bmlmaWVkQ2FjaGUuZ2VuZXJhdGVMb2NhdGlvbktleShcclxuICAgICAgQ0FDSEVfTkFNRVNQQUNFUy5QUkFZRVJfVElNRVMsXHJcbiAgICAgIGxvY2F0aW9uLmxhdGl0dWRlLFxyXG4gICAgICBsb2NhdGlvbi5sb25naXR1ZGUsXHJcbiAgICAgIGxvY2FsRGF0ZSxcclxuICAgICAgbG9jYXRpb24ucXVhbGl0eVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENhbGN1bGF0ZSBUVEwgdW50aWwgZW5kIG9mIGRheSBpbiB1c2VyJ3MgdGltZXpvbmVcclxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUVEwgaW4gbWlsbGlzZWNvbmRzXHJcbiAgICovXHJcbiAgY2FsY3VsYXRlUHJheWVyVFRMKCkge1xyXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuICAgIGNvbnN0IHRpbWV6b25lID0gSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lO1xyXG4gICAgXHJcbiAgICAvLyBHZXQgZW5kIG9mIGRheSBpbiB1c2VyJ3MgdGltZXpvbmVcclxuICAgIGNvbnN0IGVuZE9mRGF5U3RyID0gbm93LnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tQ0EnLCB7IHRpbWVab25lOiB0aW1lem9uZSB9KSArICdUMjM6NTk6NTknO1xyXG4gICAgY29uc3QgZW5kT2ZEYXkgPSBuZXcgRGF0ZShlbmRPZkRheVN0cik7XHJcbiAgICBcclxuICAgIC8vIEFkZCA1IG1pbnV0ZSBidWZmZXIgZm9yIHRpbWV6b25lIGVkZ2UgY2FzZXNcclxuICAgIGNvbnN0IHR0bCA9IGVuZE9mRGF5LmdldFRpbWUoKSAtIG5vdy5nZXRUaW1lKCkgKyAoNSAqIDYwICogMTAwMCk7XHJcbiAgICBcclxuICAgIC8vIE1pbmltdW0gMSBtaW51dGUgVFRMXHJcbiAgICByZXR1cm4gTWF0aC5tYXgodHRsLCA2MCAqIDEwMDApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRmV0Y2ggcHJheWVyIHRpbWVzIGZyb20gQVBJIG9yIGNhY2hlXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGxvY2F0aW9uIC0gT3B0aW9uYWwgbG9jYXRpb24gb3ZlcnJpZGVcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBQcmF5ZXIgdGltZXMgb2JqZWN0XHJcbiAgICovXHJcbiAgYXN5bmMgZmV0Y2hQcmF5ZXJUaW1lcyhsb2NhdGlvbiA9IHRoaXMubG9jYXRpb24pIHtcclxuICAgIGlmICghbG9jYXRpb24pIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb2NhdGlvbiBub3QgYXZhaWxhYmxlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY2FjaGVLZXkgPSB0aGlzLmdlbmVyYXRlUHJheWVyQ2FjaGVLZXkobG9jYXRpb24pO1xyXG4gICAgXHJcbiAgICAvLyBDaGVjayBjYWNoZSBmaXJzdFxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgY2FjaGVkID0gYXdhaXQgdW5pZmllZENhY2hlLmdldChjYWNoZUtleSk7XHJcbiAgICAgIGlmIChjYWNoZWQpIHtcclxuICAgICAgICAvLyBWZXJpZnkgY2FjaGUgaXMgZnJvbSB0b2RheVxyXG4gICAgICAgIGNvbnN0IGNhY2hlRGF0ZSA9IG5ldyBEYXRlKGNhY2hlZC5kYXRlKTtcclxuICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGNhY2hlRGF0ZS50b0RhdGVTdHJpbmcoKSA9PT0gdG9kYXkudG9EYXRlU3RyaW5nKCkpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdbUHJheWVyVGltZXNTZXJ2aWNlXSBVc2luZyBjYWNoZWQgcHJheWVyIHRpbWVzJyk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIENoZWNrIGlmIHN0YWxlIGFuZCByZWZyZXNoIGluIGJhY2tncm91bmRcclxuICAgICAgICAgIGNvbnN0IGNhY2hlQWdlID0gRGF0ZS5ub3coKSAtIG5ldyBEYXRlKGNhY2hlZC5kYXRlKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICBjb25zdCBTVEFMRV9USFJFU0hPTEQgPSAyMCAqIDYwICogNjAgKiAxMDAwOyAvLyAyMCBob3Vyc1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAoY2FjaGVBZ2UgPiBTVEFMRV9USFJFU0hPTEQpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoUHJheWVyVGltZXNJbkJhY2tncm91bmQobG9jYXRpb24pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICByZXR1cm4gY2FjaGVkLnByYXllclRpbWVzO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdbUHJheWVyVGltZXNTZXJ2aWNlXSBQcmF5ZXIgdGltZXMgY2FjaGUgcmVhZCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRmV0Y2ggZnJvbSBBUElcclxuICAgIHJldHVybiB0aGlzLmZldGNoUHJheWVyVGltZXNGcm9tQVBJKGxvY2F0aW9uKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEZldGNoIHByYXllciB0aW1lcyBmcm9tIEFsYWRoYW4gQVBJXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGxvY2F0aW9uIC0gTG9jYXRpb24gb2JqZWN0XHJcbiAgICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gUHJheWVyIHRpbWVzIG9iamVjdFxyXG4gICAqL1xyXG4gIGFzeW5jIGZldGNoUHJheWVyVGltZXNGcm9tQVBJKGxvY2F0aW9uKSB7XHJcbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XHJcbiAgICBjb25zdCBkYXRlID0gdG9kYXkuZ2V0RGF0ZSgpO1xyXG4gICAgY29uc3QgbW9udGggPSB0b2RheS5nZXRNb250aCgpICsgMTtcclxuICAgIGNvbnN0IHllYXIgPSB0b2RheS5nZXRGdWxsWWVhcigpO1xyXG5cclxuICAgIGNvbnN0IHVybCA9IGBodHRwczovL2FwaS5hbGFkaGFuLmNvbS92MS90aW1pbmdzLyR7ZGF0ZX0tJHttb250aH0tJHt5ZWFyfT9sYXRpdHVkZT0ke2xvY2F0aW9uLmxhdGl0dWRlfSZsb25naXR1ZGU9JHtsb2NhdGlvbi5sb25naXR1ZGV9Jm1ldGhvZD0yMGA7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwICYmIGRhdGEuZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHByYXllclRpbWVzID0ge307XHJcbiAgICAgICAgUFJBWUVSX05BTUVTLmZvckVhY2gobmFtZSA9PiB7XHJcbiAgICAgICAgICBwcmF5ZXJUaW1lc1tuYW1lXSA9IGRhdGEuZGF0YS50aW1pbmdzW25hbWVdO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBDYWNoZSB0aGUgcmVzdWx0XHJcbiAgICAgICAgYXdhaXQgdGhpcy5jYWNoZVByYXllclRpbWVzKGxvY2F0aW9uLCBwcmF5ZXJUaW1lcyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tQcmF5ZXJUaW1lc1NlcnZpY2VdIEZldGNoZWQgcHJheWVyIHRpbWVzIGZyb20gQVBJJyk7XHJcbiAgICAgICAgcmV0dXJuIHByYXllclRpbWVzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgQVBJIHJlc3BvbnNlJyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbUHJheWVyVGltZXNTZXJ2aWNlXSBQcmF5ZXIgdGltZXMgZmV0Y2ggZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENhY2hlIHByYXllciB0aW1lc1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBsb2NhdGlvbiAtIExvY2F0aW9uIG9iamVjdFxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwcmF5ZXJUaW1lcyAtIFByYXllciB0aW1lcyBvYmplY3RcclxuICAgKi9cclxuICBhc3luYyBjYWNoZVByYXllclRpbWVzKGxvY2F0aW9uLCBwcmF5ZXJUaW1lcykge1xyXG4gICAgY29uc3QgY2FjaGVLZXkgPSB0aGlzLmdlbmVyYXRlUHJheWVyQ2FjaGVLZXkobG9jYXRpb24pO1xyXG4gICAgaWYgKCFjYWNoZUtleSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgIGRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgcHJheWVyVGltZXM6IHByYXllclRpbWVzLFxyXG4gICAgICBsb2NhdGlvbjoge1xyXG4gICAgICAgIGxhdGl0dWRlOiBsb2NhdGlvbi5sYXRpdHVkZSxcclxuICAgICAgICBsb25naXR1ZGU6IGxvY2F0aW9uLmxvbmdpdHVkZSxcclxuICAgICAgICBxdWFsaXR5OiBsb2NhdGlvbi5xdWFsaXR5XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgdHRsID0gdGhpcy5jYWxjdWxhdGVQcmF5ZXJUVEwoKTtcclxuICAgIGF3YWl0IHVuaWZpZWRDYWNoZS5zZXQoY2FjaGVLZXksIGRhdGEsIHR0bCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWZyZXNoIHByYXllciB0aW1lcyBpbiBiYWNrZ3JvdW5kXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGxvY2F0aW9uIC0gTG9jYXRpb24gb2JqZWN0XHJcbiAgICovXHJcbiAgYXN5bmMgcmVmcmVzaFByYXllclRpbWVzSW5CYWNrZ3JvdW5kKGxvY2F0aW9uID0gdGhpcy5sb2NhdGlvbikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcHJheWVyVGltZXMgPSBhd2FpdCB0aGlzLmZldGNoUHJheWVyVGltZXNGcm9tQVBJKGxvY2F0aW9uKTtcclxuICAgICAgdGhpcy5wcmF5ZXJUaW1lcyA9IHByYXllclRpbWVzO1xyXG4gICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycygncHJheWVyLXRpbWVzLXVwZGF0ZWQnKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignW1ByYXllclRpbWVzU2VydmljZV0gQmFja2dyb3VuZCByZWZyZXNoIGZhaWxlZDonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIE5leHQgUHJheWVyIENhbGN1bGF0aW9uXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsY3VsYXRlIHRoZSBuZXh0IHByYXllciBhbmQgdGltZSByZW1haW5pbmdcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBOZXh0IHByYXllciBpbmZvXHJcbiAgICovXHJcbiAgY2FsY3VsYXRlTmV4dFByYXllcigpIHtcclxuICAgIGlmICghdGhpcy5wcmF5ZXJUaW1lcykgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuICAgIGNvbnN0IGN1cnJlbnRNaW51dGVzID0gbm93LmdldEhvdXJzKCkgKiA2MCArIG5vdy5nZXRNaW51dGVzKCk7XHJcblxyXG4gICAgLy8gQ29udmVydCBwcmF5ZXIgdGltZXMgdG8gbWludXRlc1xyXG4gICAgY29uc3QgcHJheWVyTWludXRlcyA9IFBSQVlFUl9OQU1FUy5tYXAobmFtZSA9PiB7XHJcbiAgICAgIGNvbnN0IFtob3VycywgbWludXRlc10gPSB0aGlzLnByYXllclRpbWVzW25hbWVdLnNwbGl0KCc6JykubWFwKE51bWJlcik7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICB0aW1lOiB0aGlzLnByYXllclRpbWVzW25hbWVdLFxyXG4gICAgICAgIG1pbnV0ZXM6IGhvdXJzICogNjAgKyBtaW51dGVzXHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBGaW5kIG5leHQgcHJheWVyXHJcbiAgICBsZXQgbmV4dFByYXllciA9IG51bGw7XHJcbiAgICBmb3IgKGNvbnN0IHByYXllciBvZiBwcmF5ZXJNaW51dGVzKSB7XHJcbiAgICAgIGlmIChwcmF5ZXIubWludXRlcyA+IGN1cnJlbnRNaW51dGVzKSB7XHJcbiAgICAgICAgbmV4dFByYXllciA9IHByYXllcjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIG5vIG5leHQgcHJheWVyIGZvdW5kIHRvZGF5LCB1c2UgRmFqciB0b21vcnJvd1xyXG4gICAgaWYgKCFuZXh0UHJheWVyKSB7XHJcbiAgICAgIG5leHRQcmF5ZXIgPSBwcmF5ZXJNaW51dGVzWzBdO1xyXG4gICAgICBjb25zdCBtaW51dGVzVW50aWxNaWRuaWdodCA9IDI0ICogNjAgLSBjdXJyZW50TWludXRlcztcclxuICAgICAgdGhpcy50aW1lVG9OZXh0UHJheWVyID0gbWludXRlc1VudGlsTWlkbmlnaHQgKyBuZXh0UHJheWVyLm1pbnV0ZXM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnRpbWVUb05leHRQcmF5ZXIgPSBuZXh0UHJheWVyLm1pbnV0ZXMgLSBjdXJyZW50TWludXRlcztcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm5leHRQcmF5ZXIgPSBuZXh0UHJheWVyO1xyXG4gICAgcmV0dXJuIG5leHRQcmF5ZXI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBGb3JtYXQgdGltZSB0byBuZXh0IHByYXllclxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IEZvcm1hdHRlZCB0aW1lIHN0cmluZ1xyXG4gICAqL1xyXG4gIGZvcm1hdFRpbWVUb05leHRQcmF5ZXIoKSB7XHJcbiAgICBpZiAodGhpcy50aW1lVG9OZXh0UHJheWVyID09PSBudWxsKSByZXR1cm4gXCJcIjtcclxuXHJcbiAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3IodGhpcy50aW1lVG9OZXh0UHJheWVyIC8gNjApO1xyXG4gICAgY29uc3QgbWludXRlcyA9IHRoaXMudGltZVRvTmV4dFByYXllciAlIDYwO1xyXG5cclxuICAgIGlmIChob3VycyA+IDApIHtcclxuICAgICAgcmV0dXJuIGAke2hvdXJzfWggJHttaW51dGVzfW1gO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGAke21pbnV0ZXN9bWA7XHJcbiAgfVxyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIEZvcm1hdHRpbmcgVXRpbGl0aWVzXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgLyoqXHJcbiAgICogRm9ybWF0IGN1cnJlbnQgZGF0ZVxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IEZvcm1hdHRlZCBkYXRlIHN0cmluZ1xyXG4gICAqL1xyXG4gIGZvcm1hdERhdGUoKSB7XHJcbiAgICByZXR1cm4gbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoXCJlbi1VU1wiLCB7XHJcbiAgICAgIHdlZWtkYXk6IFwic2hvcnRcIixcclxuICAgICAgbW9udGg6IFwic2hvcnRcIixcclxuICAgICAgZGF5OiBcIm51bWVyaWNcIixcclxuICAgICAgeWVhcjogXCJudW1lcmljXCIsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEZvcm1hdCBjdXJyZW50IHRpbWVcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluY2x1ZGVTZWNvbmRzIC0gSW5jbHVkZSBzZWNvbmRzIGluIG91dHB1dFxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IEZvcm1hdHRlZCB0aW1lIHN0cmluZ1xyXG4gICAqL1xyXG4gIGZvcm1hdEN1cnJlbnRUaW1lKGluY2x1ZGVTZWNvbmRzID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICAgIGhvdXI6IFwiMi1kaWdpdFwiLFxyXG4gICAgICBtaW51dGU6IFwiMi1kaWdpdFwiLFxyXG4gICAgICBob3VyMTI6IHRydWUsXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBpZiAoaW5jbHVkZVNlY29uZHMpIHtcclxuICAgICAgb3B0aW9ucy5zZWNvbmQgPSBcIjItZGlnaXRcIjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKFwiZW4tVVNcIiwgb3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBGb3JtYXQgbG9jYXRpb24gZm9yIGRpc3BsYXlcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBGb3JtYXR0ZWQgbG9jYXRpb24gc3RyaW5nXHJcbiAgICovXHJcbiAgZm9ybWF0TG9jYXRpb24oKSB7XHJcbiAgICBpZiAoIXRoaXMubG9jYXRpb24pIHJldHVybiBcIlVua25vd25cIjtcclxuICAgIFxyXG4gICAgY29uc3QgY2l0eSA9IHRoaXMubG9jYXRpb24uY2l0eSB8fCBcIlVua25vd25cIjtcclxuICAgIGNvbnN0IGNvdW50cnkgPSB0aGlzLmxvY2F0aW9uLmNvdW50cnkgfHwgXCJVbmtub3duXCI7XHJcbiAgICBjb25zdCBmYWxsYmFja0luZGljYXRvciA9IHRoaXMubG9jYXRpb24ucXVhbGl0eSA9PT0gTE9DQVRJT05fUVVBTElUWS5GQUxMQkFDSyA/ICcgKEZhbGxiYWNrKScgOiAnJztcclxuICAgIFxyXG4gICAgcmV0dXJuIGAke2NpdHl9LCAke2NvdW50cnl9JHtmYWxsYmFja0luZGljYXRvcn1gO1xyXG4gIH1cclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBTdGF0ZSBNYW5hZ2VtZW50XHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGN1cnJlbnQgc3RhdGVcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBDdXJyZW50IHN0YXRlXHJcbiAgICovXHJcbiAgZ2V0U3RhdGUoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBsb2NhdGlvbjogdGhpcy5sb2NhdGlvbixcclxuICAgICAgcHJheWVyVGltZXM6IHRoaXMucHJheWVyVGltZXMsXHJcbiAgICAgIG5leHRQcmF5ZXI6IHRoaXMubmV4dFByYXllcixcclxuICAgICAgdGltZVRvTmV4dFByYXllcjogdGhpcy50aW1lVG9OZXh0UHJheWVyLFxyXG4gICAgICBmb3JtYXR0ZWRUaW1lVG9OZXh0OiB0aGlzLmZvcm1hdFRpbWVUb05leHRQcmF5ZXIoKSxcclxuICAgICAgaXNMb2FkaW5nOiB0aGlzLmlzTG9hZGluZyxcclxuICAgICAgZXJyb3I6IHRoaXMuZXJyb3IsXHJcbiAgICAgIGZvcm1hdHRlZERhdGU6IHRoaXMuZm9ybWF0RGF0ZSgpLFxyXG4gICAgICBmb3JtYXR0ZWRUaW1lOiB0aGlzLmZvcm1hdEN1cnJlbnRUaW1lKCksXHJcbiAgICAgIGZvcm1hdHRlZExvY2F0aW9uOiB0aGlzLmZvcm1hdExvY2F0aW9uKClcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdWJzY3JpYmUgdG8gc3RhdGUgY2hhbmdlc1xyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIC0gQ2FsbGJhY2sgZnVuY3Rpb25cclxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFVuc3Vic2NyaWJlIGZ1bmN0aW9uXHJcbiAgICovXHJcbiAgc3Vic2NyaWJlKGxpc3RlbmVyKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xyXG4gICAgcmV0dXJuICgpID0+IHRoaXMubGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBOb3RpZnkgYWxsIGxpc3RlbmVycyBvZiBzdGF0ZSBjaGFuZ2VcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgLSBFdmVudCB0eXBlXHJcbiAgICogQHBhcmFtIHsqfSBkYXRhIC0gRXZlbnQgZGF0YVxyXG4gICAqL1xyXG4gIG5vdGlmeUxpc3RlbmVycyhldmVudCwgZGF0YSkge1xyXG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLmdldFN0YXRlKCk7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBsaXN0ZW5lcihzdGF0ZSwgZXZlbnQsIGRhdGEpO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tQcmF5ZXJUaW1lc1NlcnZpY2VdIExpc3RlbmVyIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIEV2ZW50IEhhbmRsZXJzXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0dXAgZXZlbnQgaGFuZGxlcnMgZm9yIG5ldHdvcmsgYW5kIHZpc2liaWxpdHlcclxuICAgKi9cclxuICBzZXR1cEV2ZW50SGFuZGxlcnMoKSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25saW5lJywgdGhpcy5oYW5kbGVPbmxpbmUpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29mZmxpbmUnLCB0aGlzLmhhbmRsZU9mZmxpbmUpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIHRoaXMuaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBIYW5kbGUgb25saW5lIGV2ZW50XHJcbiAgICovXHJcbiAgaGFuZGxlT25saW5lKCkge1xyXG4gICAgY29uc29sZS5sb2coJ1tQcmF5ZXJUaW1lc1NlcnZpY2VdIE5ldHdvcmsgcmVzdG9yZWQsIHJlZnJlc2hpbmcuLi4nKTtcclxuICAgIHRoaXMucmVmcmVzaFByYXllclRpbWVzSW5CYWNrZ3JvdW5kKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBIYW5kbGUgb2ZmbGluZSBldmVudFxyXG4gICAqL1xyXG4gIGhhbmRsZU9mZmxpbmUoKSB7XHJcbiAgICBjb25zb2xlLmxvZygnW1ByYXllclRpbWVzU2VydmljZV0gTmV0d29yayBsb3N0LCB1c2luZyBjYWNoZWQgZGF0YScpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSGFuZGxlIHZpc2liaWxpdHkgY2hhbmdlXHJcbiAgICovXHJcbiAgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSgpIHtcclxuICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICd2aXNpYmxlJykge1xyXG4gICAgICAvLyBSZWNhbGN1bGF0ZSBuZXh0IHByYXllciB3aGVuIHBhZ2UgYmVjb21lcyB2aXNpYmxlXHJcbiAgICAgIHRoaXMuY2FsY3VsYXRlTmV4dFByYXllcigpO1xyXG4gICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycygndmlzaWJpbGl0eS1jaGFuZ2UnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gVXBkYXRlIEludGVydmFsXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0dXAgdXBkYXRlIGludGVydmFsIGZvciBjbG9jayBhbmQgbmV4dCBwcmF5ZXJcclxuICAgKi9cclxuICBzZXR1cFVwZGF0ZUludGVydmFsKCkge1xyXG4gICAgLy8gQ2xlYXIgZXhpc3RpbmcgaW50ZXJ2YWxcclxuICAgIGlmICh0aGlzLnVwZGF0ZUludGVydmFsKSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy51cGRhdGVJbnRlcnZhbCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIGV2ZXJ5IHNlY29uZFxyXG4gICAgdGhpcy51cGRhdGVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgdGhpcy5jYWxjdWxhdGVOZXh0UHJheWVyKCk7XHJcbiAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKCd0aWNrJyk7XHJcbiAgICB9LCAxMDAwKTtcclxuICB9XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gRGF0ZSBDaGFuZ2UgRGV0ZWN0aW9uXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0dXAgZGF0ZSBjaGFuZ2UgZGV0ZWN0aW9uIGZvciBjYWNoZSBpbnZhbGlkYXRpb25cclxuICAgKi9cclxuICBzZXR1cERhdGVDaGFuZ2VEZXRlY3Rpb24oKSB7XHJcbiAgICB0aGlzLmxhc3REYXRlID0gbmV3IERhdGUoKS50b0RhdGVTdHJpbmcoKTtcclxuICAgIFxyXG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCkudG9EYXRlU3RyaW5nKCk7XHJcbiAgICAgIGlmICh0aGlzLmxhc3REYXRlICE9PSBjdXJyZW50RGF0ZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbUHJheWVyVGltZXNTZXJ2aWNlXSBEYXRlIGNoYW5nZWQsIGludmFsaWRhdGluZyBjYWNoZScpO1xyXG4gICAgICAgIHRoaXMubGFzdERhdGUgPSBjdXJyZW50RGF0ZTtcclxuICAgICAgICB0aGlzLmludmFsaWRhdGVQcmF5ZXJUaW1lc0NhY2hlKCk7XHJcbiAgICAgIH1cclxuICAgIH0sIDYwICogMTAwMCk7IC8vIENoZWNrIGV2ZXJ5IG1pbnV0ZVxyXG4gIH1cclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBDYWNoZSBJbnZhbGlkYXRpb25cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAvKipcclxuICAgKiBJbnZhbGlkYXRlIGxvY2F0aW9uIGNhY2hlXHJcbiAgICovXHJcbiAgYXN5bmMgaW52YWxpZGF0ZUxvY2F0aW9uQ2FjaGUoKSB7XHJcbiAgICBhd2FpdCB1bmlmaWVkQ2FjaGUuaW52YWxpZGF0ZU5hbWVzcGFjZShDQUNIRV9OQU1FU1BBQ0VTLkxPQ0FUSU9OKTtcclxuICAgIHRoaXMubG9jYXRpb24gPSBudWxsO1xyXG4gICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoJ2xvY2F0aW9uLWludmFsaWRhdGVkJyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbnZhbGlkYXRlIHByYXllciB0aW1lcyBjYWNoZVxyXG4gICAqL1xyXG4gIGFzeW5jIGludmFsaWRhdGVQcmF5ZXJUaW1lc0NhY2hlKCkge1xyXG4gICAgYXdhaXQgdW5pZmllZENhY2hlLmludmFsaWRhdGVOYW1lc3BhY2UoQ0FDSEVfTkFNRVNQQUNFUy5QUkFZRVJfVElNRVMpO1xyXG4gICAgdGhpcy5wcmF5ZXJUaW1lcyA9IG51bGw7XHJcbiAgICBcclxuICAgIC8vIFJlLWZldGNoIHByYXllciB0aW1lc1xyXG4gICAgdHJ5IHtcclxuICAgICAgdGhpcy5wcmF5ZXJUaW1lcyA9IGF3YWl0IHRoaXMuZmV0Y2hQcmF5ZXJUaW1lcygpO1xyXG4gICAgICB0aGlzLmNhbGN1bGF0ZU5leHRQcmF5ZXIoKTtcclxuICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoJ3ByYXllci10aW1lcy11cGRhdGVkJyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbUHJheWVyVGltZXNTZXJ2aWNlXSBGYWlsZWQgdG8gcmVmcmVzaCBwcmF5ZXIgdGltZXM6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW52YWxpZGF0ZSBhbGwgY2FjaGVzXHJcbiAgICovXHJcbiAgYXN5bmMgaW52YWxpZGF0ZUFsbENhY2hlcygpIHtcclxuICAgIGF3YWl0IHRoaXMuaW52YWxpZGF0ZUxvY2F0aW9uQ2FjaGUoKTtcclxuICAgIGF3YWl0IHRoaXMuaW52YWxpZGF0ZVByYXllclRpbWVzQ2FjaGUoKTtcclxuICB9XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gRm9yY2UgUmVmcmVzaFxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIC8qKlxyXG4gICAqIEZvcmNlIHJlZnJlc2ggbG9jYXRpb24gYW5kIHByYXllciB0aW1lc1xyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxyXG4gICAqL1xyXG4gIGFzeW5jIGZvcmNlUmVmcmVzaCgpIHtcclxuICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTtcclxuICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKCdsb2FkaW5nJyk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gR2V0IGZyZXNoIGxvY2F0aW9uXHJcbiAgICAgIHRoaXMubG9jYXRpb24gPSBhd2FpdCB0aGlzLmdldExvY2F0aW9uKHsgZm9yY2VSZWZyZXNoOiB0cnVlIH0pO1xyXG4gICAgICBcclxuICAgICAgLy8gR2V0IGZyZXNoIHByYXllciB0aW1lc1xyXG4gICAgICB0aGlzLnByYXllclRpbWVzID0gYXdhaXQgdGhpcy5mZXRjaFByYXllclRpbWVzRnJvbUFQSSh0aGlzLmxvY2F0aW9uKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFJlY2FsY3VsYXRlXHJcbiAgICAgIHRoaXMuY2FsY3VsYXRlTmV4dFByYXllcigpO1xyXG4gICAgICBcclxuICAgICAgdGhpcy5lcnJvciA9IG51bGw7XHJcbiAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKCdyZWZyZXNoZWQnKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcclxuICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoJ2Vycm9yJywgZXJyb3IpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gQ2xlYW51cFxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIC8qKlxyXG4gICAqIERlc3Ryb3kgdGhlIHNlcnZpY2UgYW5kIGNsZWFudXBcclxuICAgKi9cclxuICBkZXN0cm95KCkge1xyXG4gICAgaWYgKHRoaXMudXBkYXRlSW50ZXJ2YWwpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnVwZGF0ZUludGVydmFsKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29ubGluZScsIHRoaXMuaGFuZGxlT25saW5lKTtcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgdGhpcy5oYW5kbGVPZmZsaW5lKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCB0aGlzLmhhbmRsZVZpc2liaWxpdHlDaGFuZ2UpO1xyXG4gICAgXHJcbiAgICB0aGlzLmxpc3RlbmVycy5jbGVhcigpO1xyXG4gICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBTaW5nbGV0b24gSW5zdGFuY2VcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGNvbnN0IHByYXllclRpbWVzU2VydmljZSA9IG5ldyBQcmF5ZXJUaW1lc1NlcnZpY2UoKTtcclxuXHJcbi8vIEF1dG8taW5pdGlhbGl6ZSBvbiBmaXJzdCBpbXBvcnQgKG5vbi1ibG9ja2luZylcclxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgcHJheWVyVGltZXNTZXJ2aWNlLmluaXQoKS5jYXRjaChlcnIgPT4ge1xyXG4gICAgY29uc29sZS53YXJuKCdbUHJheWVyVGltZXNTZXJ2aWNlXSBBdXRvLWluaXQgZmFpbGVkOicsIGVycik7XHJcbiAgfSk7XHJcbn1cclxuIiwiLyoqXHJcbiAqIEZlZWQgUGFnZSBNb2R1bGVcclxuICogSGFuZGxlcyBmZWVkIHBhZ2UgbG9naWMgYW5kIHByYXllciB0aW1lcyB3aWRnZXRcclxuICogXHJcbiAqIFJFRkFDVE9SRUQ6IE5vdyB1c2VzIFByYXllclRpbWVzU2VydmljZSBhcyBzaW5nbGUgc291cmNlIG9mIHRydXRoXHJcbiAqIEFsbCBsb2NhdGlvbiwgZ2VvY29kaW5nLCBhbmQgcHJheWVyIHRpbWVzIGxvZ2ljIGhhcyBiZWVuIG1vdmVkIHRvIHRoZSBzZXJ2aWNlXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgcHJheWVyVGltZXNTZXJ2aWNlLCBMT0NBVElPTl9RVUFMSVRZIH0gZnJvbSAnLi9wcmF5ZXItdGltZXMtc2VydmljZS5qcyc7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIERhcmsgTW9kZSBUb2dnbGVcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuY29uc3QgREFSS19NT0RFX0tFWSA9ICdkYXJrTW9kZSc7XHJcblxyXG5mdW5jdGlvbiBpbml0RGFya01vZGUoKSB7XHJcbiAgY29uc3QgYWRtaW5TZWFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkbWluLXNlYWwnKTtcclxuICBpZiAoIWFkbWluU2VhbCkgcmV0dXJuO1xyXG5cclxuICBjb25zdCBzYXZlZE1vZGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShEQVJLX01PREVfS0VZKTtcclxuICBjb25zdCBwcmVmZXJzRGFyayA9IHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJykubWF0Y2hlcztcclxuICBcclxuICBpZiAoc2F2ZWRNb2RlID09PSAndHJ1ZScgfHwgKCFzYXZlZE1vZGUgJiYgcHJlZmVyc0RhcmspKSB7XHJcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZGFyaycpO1xyXG4gIH1cclxuXHJcbiAgYWRtaW5TZWFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2RhcmsnKTtcclxuICAgIGNvbnN0IGlzRGFyayA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2RhcmsnKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKERBUktfTU9ERV9LRVksIGlzRGFyayk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gRmVlZCBUeXBlIERldGVjdGlvblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogUGFyc2UgVVJMIHBhcmFtZXRlcnMgdG8gZGV0ZXJtaW5lIGZlZWQgdHlwZVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0RmVlZFR5cGUoKSB7XHJcbiAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcclxuICBjb25zdCBpbnN0aXR1dGlvbiA9IHBhcmFtcy5nZXQoJ2luc3RpdHV0aW9uJyk7XHJcbiAgY29uc3QganVyaXNkaWN0aW9uID0gcGFyYW1zLmdldCgnanVyaXNkaWN0aW9uJyk7XHJcblxyXG4gIGlmIChpbnN0aXR1dGlvbikge1xyXG4gICAgcmV0dXJuIHsgdHlwZTogJ2luc3RpdHV0aW9uJywgbmFtZTogaW5zdGl0dXRpb24gfTtcclxuICB9XHJcbiAgaWYgKGp1cmlzZGljdGlvbikge1xyXG4gICAgcmV0dXJuIHsgdHlwZTogJ2p1cmlzZGljdGlvbicsIG5hbWU6IGp1cmlzZGljdGlvbiB9O1xyXG4gIH1cclxuICByZXR1cm4geyB0eXBlOiAnZ2xvYmFsJywgbmFtZTogJ0dsb2JhbCBGZWVkJyB9O1xyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEZlZWQgSGVhZGVyXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiBVcGRhdGUgZmVlZCBoZWFkZXIgYmFzZWQgb24gZmVlZCB0eXBlXHJcbiAqL1xyXG5mdW5jdGlvbiB1cGRhdGVGZWVkSGVhZGVyKCkge1xyXG4gIGNvbnN0IGZlZWRUeXBlID0gZ2V0RmVlZFR5cGUoKTtcclxuICBjb25zdCBoZWFkZXJFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZlZWQtaGVhZGVyJyk7XHJcblxyXG4gIGlmICghaGVhZGVyRWxlbWVudCkgcmV0dXJuO1xyXG5cclxuICBpZiAoZmVlZFR5cGUudHlwZSA9PT0gJ2dsb2JhbCcpIHtcclxuICAgIGhlYWRlckVsZW1lbnQudGV4dENvbnRlbnQgPSAnR2xvYmFsIEZlZWQnO1xyXG4gIH0gZWxzZSBpZiAoZmVlZFR5cGUudHlwZSA9PT0gJ2luc3RpdHV0aW9uJykge1xyXG4gICAgLy8gUmVtb3ZlIGNvbnRlbnQgaW5zaWRlIHNxdWFyZSBicmFja2V0c1xyXG4gICAgY29uc3QgY2xlYW5OYW1lID0gZmVlZFR5cGUubmFtZS5yZXBsYWNlKC9cXHMqXFxbLio/XFxdXFxzKi9nLCAnJykudHJpbSgpO1xyXG4gICAgaGVhZGVyRWxlbWVudC50ZXh0Q29udGVudCA9IGAke2NsZWFuTmFtZX0gRmVlZGA7XHJcbiAgfSBlbHNlIGlmIChmZWVkVHlwZS50eXBlID09PSAnanVyaXNkaWN0aW9uJykge1xyXG4gICAgLy8gUmVtb3ZlIGNvbnRlbnQgaW5zaWRlIHNxdWFyZSBicmFja2V0c1xyXG4gICAgY29uc3QgY2xlYW5OYW1lID0gZmVlZFR5cGUubmFtZS5yZXBsYWNlKC9cXHMqXFxbLio/XFxdXFxzKi9nLCAnJykudHJpbSgpO1xyXG4gICAgaGVhZGVyRWxlbWVudC50ZXh0Q29udGVudCA9IGAke2NsZWFuTmFtZX0gRmVlZGA7XHJcbiAgfVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFByYXllciBUaW1lcyBXaWRnZXRcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxubGV0IHdpZGdldFVwZGF0ZUludGVydmFsID0gbnVsbDtcclxubGV0IHVuc3Vic2NyaWJlRnJvbVNlcnZpY2UgPSBudWxsO1xyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemUgcHJheWVyIHRpbWVzIHdpZGdldFxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gaW5pdFByYXllclRpbWVzV2lkZ2V0KCkge1xyXG4gIGNvbnN0IHdpZGdldEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJheWVyLXRpbWVzLXdpZGdldCcpO1xyXG4gIGlmICghd2lkZ2V0RWxlbWVudCkgcmV0dXJuO1xyXG5cclxuICAvLyBTaG93IGxvYWRpbmcgc3RhdGVcclxuICB3aWRnZXRFbGVtZW50LmlubmVySFRNTCA9IGBcclxuICAgIDxkaXYgY2xhc3M9XCJwcmF5ZXItd2lkZ2V0LWhlYWRlclwiPlxyXG4gICAgICA8aDMgY2xhc3M9XCJwcmF5ZXItd2lkZ2V0LXRpdGxlXCI+UHJheWVyIFRpbWUgV2lkZ2V0PC9oMz5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cInByYXllci13aWRnZXQtbG9hZGluZ1wiPlxyXG4gICAgICA8c3BhbiBjbGFzcz1cImxvYWRpbmctc3Bpbm5lclwiPjwvc3Bhbj5cclxuICAgICAgPHNwYW4+RmV0Y2hpbmcgeW91ciBsb2NhdGlvbi4uLjwvc3Bhbj5cclxuICAgIDwvZGl2PlxyXG4gIGA7XHJcblxyXG4gIHRyeSB7XHJcbiAgICAvLyBTdWJzY3JpYmUgdG8gc2VydmljZSB1cGRhdGVzXHJcbiAgICB1bnN1YnNjcmliZUZyb21TZXJ2aWNlID0gcHJheWVyVGltZXNTZXJ2aWNlLnN1YnNjcmliZSgoc3RhdGUsIGV2ZW50KSA9PiB7XHJcbiAgICAgIGhhbmRsZVdpZGdldFVwZGF0ZShzdGF0ZSwgZXZlbnQsIHdpZGdldEVsZW1lbnQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgc2VydmljZSAoaWYgbm90IGFscmVhZHkgaW5pdGlhbGl6ZWQpXHJcbiAgICBhd2FpdCBwcmF5ZXJUaW1lc1NlcnZpY2UuaW5pdCgpO1xyXG5cclxuICAgIC8vIEluaXRpYWwgcmVuZGVyXHJcbiAgICByZW5kZXJXaWRnZXQoKTtcclxuXHJcbiAgICAvLyBTZXR1cCB1cGRhdGUgaW50ZXJ2YWwgZm9yIGNsb2NrIChldmVyeSBzZWNvbmQpXHJcbiAgICB3aWRnZXRVcGRhdGVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgcmVuZGVyV2lkZ2V0KCk7XHJcbiAgICB9LCAxMDAwKTtcclxuXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluaXRpYWxpemluZyBwcmF5ZXIgdGltZXMgd2lkZ2V0OicsIGVycm9yKTtcclxuICAgIHdpZGdldEVsZW1lbnQuaW5uZXJIVE1MID0gJzxwIGNsYXNzPVwidGV4dC1jZW50ZXIgcHJheWVyLWVycm9yXCI+VW5hYmxlIHRvIGxvYWQgcHJheWVyIHRpbWVzLjwvcD4nO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEhhbmRsZSB1cGRhdGVzIGZyb20gUHJheWVyVGltZXNTZXJ2aWNlXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSAtIFNlcnZpY2Ugc3RhdGVcclxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IC0gRXZlbnQgdHlwZVxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB3aWRnZXRFbGVtZW50IC0gV2lkZ2V0IGVsZW1lbnRcclxuICovXHJcbmZ1bmN0aW9uIGhhbmRsZVdpZGdldFVwZGF0ZShzdGF0ZSwgZXZlbnQsIHdpZGdldEVsZW1lbnQpIHtcclxuICBzd2l0Y2ggKGV2ZW50KSB7XHJcbiAgICBjYXNlICdsb2FkaW5nJzpcclxuICAgICAgd2lkZ2V0RWxlbWVudC5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInByYXllci13aWRnZXQtaGVhZGVyXCI+XHJcbiAgICAgICAgICA8aDMgY2xhc3M9XCJwcmF5ZXItd2lkZ2V0LXRpdGxlXCI+UHJheWVyIFRpbWUgV2lkZ2V0PC9oMz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicHJheWVyLXdpZGdldC1sb2FkaW5nXCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImxvYWRpbmctc3Bpbm5lclwiPjwvc3Bhbj5cclxuICAgICAgICAgIDxzcGFuPlVwZGF0aW5nLi4uPC9zcGFuPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICBgO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ2Vycm9yJzpcclxuICAgICAgaWYgKCFzdGF0ZS5wcmF5ZXJUaW1lcykge1xyXG4gICAgICAgIHdpZGdldEVsZW1lbnQuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInByYXllci13aWRnZXQtaGVhZGVyXCI+XHJcbiAgICAgICAgICAgIDxoMyBjbGFzcz1cInByYXllci13aWRnZXQtdGl0bGVcIj5QcmF5ZXIgVGltZSBXaWRnZXQ8L2gzPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQtY2VudGVyIHByYXllci1lcnJvclwiPiR7c3RhdGUuZXJyb3I/Lm1lc3NhZ2UgfHwgJ1VuYWJsZSB0byBsb2FkIHByYXllciB0aW1lcy4nfTwvcD5cclxuICAgICAgICBgO1xyXG4gICAgICB9XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgLy8gdGljaywgaW5pdGlhbGl6ZWQsIHJlZnJlc2hlZCwgZXRjLiAtIGp1c3QgcmUtcmVuZGVyXHJcbiAgICAgIHJlbmRlcldpZGdldCgpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFJlbmRlciBwcmF5ZXIgdGltZXMgd2lkZ2V0XHJcbiAqL1xyXG5mdW5jdGlvbiByZW5kZXJXaWRnZXQoKSB7XHJcbiAgY29uc3Qgd2lkZ2V0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmF5ZXItdGltZXMtd2lkZ2V0Jyk7XHJcbiAgaWYgKCF3aWRnZXRFbGVtZW50KSByZXR1cm47XHJcblxyXG4gIGNvbnN0IHN0YXRlID0gcHJheWVyVGltZXNTZXJ2aWNlLmdldFN0YXRlKCk7XHJcbiAgXHJcbiAgLy8gRG9uJ3QgcmVuZGVyIGlmIHN0aWxsIGxvYWRpbmdcclxuICBpZiAoc3RhdGUuaXNMb2FkaW5nICYmICFzdGF0ZS5wcmF5ZXJUaW1lcykge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLy8gRG9uJ3QgcmVuZGVyIGlmIGVycm9yIGFuZCBubyBkYXRhXHJcbiAgaWYgKHN0YXRlLmVycm9yICYmICFzdGF0ZS5wcmF5ZXJUaW1lcykge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2hlY2sgaWYgbG9jYXRpb24gaXMgZmFsbGJhY2tcclxuICBjb25zdCBpc0ZhbGxiYWNrID0gc3RhdGUubG9jYXRpb24/LnF1YWxpdHkgPT09IExPQ0FUSU9OX1FVQUxJVFkuRkFMTEJBQ0s7XHJcbiAgY29uc3QgZmFsbGJhY2tJbmRpY2F0b3IgPSBpc0ZhbGxiYWNrID8gJyAoRmFsbGJhY2spJyA6ICcnO1xyXG4gIGNvbnN0IGxvY2F0aW9uQ2xhc3MgPSBpc0ZhbGxiYWNrID8gJ3ByYXllci13aWRnZXQtbG9jYXRpb24gcHJheWVyLXdpZGdldC1sb2NhdGlvbi1mYWxsYmFjaycgOiAncHJheWVyLXdpZGdldC1sb2NhdGlvbic7XHJcblxyXG4gIHdpZGdldEVsZW1lbnQuaW5uZXJIVE1MID0gYFxyXG4gICAgPGRpdiBjbGFzcz1cInByYXllci13aWRnZXQtaGVhZGVyXCI+XHJcbiAgICAgIDxoMyBjbGFzcz1cInByYXllci13aWRnZXQtdGl0bGVcIj5QcmF5ZXIgVGltZSBXaWRnZXQ8L2gzPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwicHJheWVyLXdpZGdldC1oZWFkZXJcIj5cclxuICAgICAgPHNwYW4gY2xhc3M9XCJwcmF5ZXItd2lkZ2V0LWRhdGVcIj4ke3N0YXRlLmZvcm1hdHRlZERhdGV9PC9zcGFuPlxyXG4gICAgICA8c3BhbiBjbGFzcz1cInByYXllci13aWRnZXQtY2xvY2tcIj4ke3N0YXRlLmZvcm1hdHRlZFRpbWV9PC9zcGFuPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwiJHtsb2NhdGlvbkNsYXNzfVwiPvCfk40gJHtzdGF0ZS5mb3JtYXR0ZWRMb2NhdGlvbn0ke2ZhbGxiYWNrSW5kaWNhdG9yfTwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cInByYXllci13aWRnZXQtbmV4dFwiPlxyXG4gICAgICA8c3BhbiBjbGFzcz1cInByYXllci13aWRnZXQtbmV4dC1sYWJlbFwiPk5leHQgUHJheWVyOjwvc3Bhbj4gJHtzdGF0ZS5uZXh0UHJheWVyPy5uYW1lIHx8ICdVbmtub3duJ30gKCR7c3RhdGUuZm9ybWF0dGVkVGltZVRvTmV4dCB8fCAnLS0nfSlcclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cInByYXllci13aWRnZXQtdGltZXNcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cInByYXllci13aWRnZXQtY29sdW1uXCI+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJwcmF5ZXItd2lkZ2V0LW5hbWVcIj5GYWpyPC9zcGFuPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzPVwicHJheWVyLXdpZGdldC10aW1lXCI+JHtzdGF0ZS5wcmF5ZXJUaW1lcz8uRmFqciB8fCAnLS06LS0nfTwvc3Bhbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJwcmF5ZXItd2lkZ2V0LWNvbHVtblwiPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzPVwicHJheWVyLXdpZGdldC1uYW1lXCI+RGh1aHI8L3NwYW4+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJwcmF5ZXItd2lkZ2V0LXRpbWVcIj4ke3N0YXRlLnByYXllclRpbWVzPy5EaHVociB8fCAnLS06LS0nfTwvc3Bhbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJwcmF5ZXItd2lkZ2V0LWNvbHVtblwiPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzPVwicHJheWVyLXdpZGdldC1uYW1lXCI+QXNyPC9zcGFuPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzPVwicHJheWVyLXdpZGdldC10aW1lXCI+JHtzdGF0ZS5wcmF5ZXJUaW1lcz8uQXNyIHx8ICctLTotLSd9PC9zcGFuPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cInByYXllci13aWRnZXQtY29sdW1uXCI+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJwcmF5ZXItd2lkZ2V0LW5hbWVcIj5NYWdocmliPC9zcGFuPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzPVwicHJheWVyLXdpZGdldC10aW1lXCI+JHtzdGF0ZS5wcmF5ZXJUaW1lcz8uTWFnaHJpYiB8fCAnLS06LS0nfTwvc3Bhbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJwcmF5ZXItd2lkZ2V0LWNvbHVtblwiPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzPVwicHJheWVyLXdpZGdldC1uYW1lXCI+SXNoYTwvc3Bhbj5cclxuICAgICAgICA8c3BhbiBjbGFzcz1cInByYXllci13aWRnZXQtdGltZVwiPiR7c3RhdGUucHJheWVyVGltZXM/LklzaGEgfHwgJy0tOi0tJ308L3NwYW4+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgYDtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBGZWVkIENvbnRlbnQgSW5pdGlhbGl6YXRpb25cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gSW5pdGlhbGl6ZSB3aGVuIERPTSBpcyByZWFkeVxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG4gIGluaXREYXJrTW9kZSgpO1xyXG4gIHVwZGF0ZUZlZWRIZWFkZXIoKTtcclxuICBpbml0RmVlZENvbnRlbnQoZmFsc2UpO1xyXG59KTtcclxuXHJcbi8vIEhhbmRsZSBiZmNhY2hlIHJlc3RvcmF0aW9uIChiYWNrIGJ1dHRvbiBuYXZpZ2F0aW9uKVxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncGFnZXNob3cnLCAoZXZlbnQpID0+IHtcclxuICBpZiAoZXZlbnQucGVyc2lzdGVkKSB7XHJcbiAgICAvLyBQYWdlIHdhcyByZXN0b3JlZCBmcm9tIGJhY2stZm9yd2FyZCBjYWNoZVxyXG4gICAgLy8gUmUtaW5pdGlhbGl6ZSBmZWVkIGNvbnRlbnQgdG8gZW5zdXJlIGRvY3VtZW50IGRhdGEgaXMgbG9hZGVkXHJcbiAgICBpbml0RmVlZENvbnRlbnQodHJ1ZSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBJbml0aWFsaXplIGZlZWQgY29udGVudCBiYXNlZCBvbiBmZWVkIHR5cGVcclxuICogQHBhcmFtIHtib29sZWFufSBpc0JmY2FjaGVSZXN0b3JlIC0gV2hldGhlciB0aGlzIGlzIGEgYmZjYWNoZSByZXN0b3JhdGlvblxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gaW5pdEZlZWRDb250ZW50KGlzQmZjYWNoZVJlc3RvcmUgPSBmYWxzZSkge1xyXG4gIGNvbnN0IGZlZWRUeXBlID0gZ2V0RmVlZFR5cGUoKTtcclxuICBjb25zdCB3aWRnZXRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByYXllci10aW1lcy13aWRnZXQnKTtcclxuXHJcbiAgaWYgKGZlZWRUeXBlLnR5cGUgPT09ICdpbnN0aXR1dGlvbicpIHtcclxuICAgIGF3YWl0IGluaXRJbnN0aXR1dGlvbkZlZWQoZmVlZFR5cGUubmFtZSwgd2lkZ2V0RWxlbWVudCwgaXNCZmNhY2hlUmVzdG9yZSk7XHJcbiAgfSBlbHNlIGlmIChmZWVkVHlwZS50eXBlID09PSAnanVyaXNkaWN0aW9uJykge1xyXG4gICAgYXdhaXQgaW5pdEp1cmlzZGljdGlvbkZlZWQoZmVlZFR5cGUubmFtZSwgd2lkZ2V0RWxlbWVudCwgaXNCZmNhY2hlUmVzdG9yZSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIEdsb2JhbCBmZWVkIC0gc2hvdyB3aWRnZXQgb25seVxyXG4gICAgYXdhaXQgaW5pdFByYXllclRpbWVzV2lkZ2V0KCk7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogSW5pdGlhbGl6ZSBpbnN0aXR1dGlvbiBmZWVkXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBpbnN0aXR1dGlvbk5hbWUgLSBUaGUgaW5zdGl0dXRpb24gbmFtZVxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB3aWRnZXRFbGVtZW50IC0gVGhlIHdpZGdldCBlbGVtZW50XHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNCZmNhY2hlUmVzdG9yZSAtIFdoZXRoZXIgdGhpcyBpcyBhIGJmY2FjaGUgcmVzdG9yYXRpb25cclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGluaXRJbnN0aXR1dGlvbkZlZWQoaW5zdGl0dXRpb25OYW1lLCB3aWRnZXRFbGVtZW50LCBpc0JmY2FjaGVSZXN0b3JlID0gZmFsc2UpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBnZXRJbnN0aXR1dGlvbkZlZWRDb25maWcsIGdldERvY3VtZW50QnlJZCB9ID0gYXdhaXQgaW1wb3J0KCcuL2NvbmZpZy5qcycpO1xyXG4gICAgY29uc3QgZmVlZENvbmZpZyA9IGF3YWl0IGdldEluc3RpdHV0aW9uRmVlZENvbmZpZyhpbnN0aXR1dGlvbk5hbWUpO1xyXG5cclxuICAgIC8vIFNob3cgd2lkZ2V0IGlmIGVuYWJsZWRcclxuICAgIGlmIChmZWVkQ29uZmlnPy53aWRnZXQ/LmVuYWJsZWQpIHtcclxuICAgICAgYXdhaXQgaW5pdFByYXllclRpbWVzV2lkZ2V0KCk7XHJcbiAgICB9IGVsc2UgaWYgKHdpZGdldEVsZW1lbnQpIHtcclxuICAgICAgd2lkZ2V0RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNob3cgY2Fyb3VzZWwgaWYgZXhpc3RzXHJcbiAgICBpZiAoZmVlZENvbmZpZz8uY2Fyb3VzZWwpIHtcclxuICAgICAgLy8gQ2xlYXIgZXhpc3RpbmcgY2Fyb3VzZWxzIG9ubHkgb24gYmZjYWNoZSByZXN0b3JhdGlvblxyXG4gICAgICBpZiAoaXNCZmNhY2hlUmVzdG9yZSkge1xyXG4gICAgICAgIGNsZWFyQ2Fyb3VzZWxzKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEZldGNoIGRvY3VtZW50IGRhdGEgZm9yIGVhY2ggaW1hZ2VcclxuICAgICAgY29uc3QgaW1hZ2VzV2l0aERvY3MgPSBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgICAgICBmZWVkQ29uZmlnLmNhcm91c2VsLmltYWdlcy5tYXAoYXN5bmMgKGltZykgPT4ge1xyXG4gICAgICAgICAgY29uc3QgZG9jID0gaW1nLmRvY3VtZW50X2lkID8gYXdhaXQgZ2V0RG9jdW1lbnRCeUlkKGltZy5kb2N1bWVudF9pZCkgOiBudWxsO1xyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLi4uaW1nLFxyXG4gICAgICAgICAgICBkb2N1bWVudDogZG9jXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCBjYXJvdXNlbFdpdGhEb2NzID0ge1xyXG4gICAgICAgIC4uLmZlZWRDb25maWcuY2Fyb3VzZWwsXHJcbiAgICAgICAgaW1hZ2VzOiBpbWFnZXNXaXRoRG9jc1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gRm9yIGluc3RpdHV0aW9uIGZlZWQsIHNob3cgdGhlIGp1cmlzZGljdGlvbiBuYW1lIHdoZXJlIGl0J3MgcG9zdGVkXHJcbiAgICAgIGNvbnN0IGp1cmlzZGljdGlvbk5hbWUgPSBmZWVkQ29uZmlnLmNhcm91c2VsLnBvc3RfdG9fanVyaXNkaWN0aW9ucz8uWzBdIHx8ICcnO1xyXG4gICAgICByZW5kZXJDYXJvdXNlbChjYXJvdXNlbFdpdGhEb2NzLCBqdXJpc2RpY3Rpb25OYW1lLCAnaW5zdGl0dXRpb24nKTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5pdGlhbGl6aW5nIGluc3RpdHV0aW9uIGZlZWQ6JywgZXJyb3IpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemUganVyaXNkaWN0aW9uIGZlZWRcclxuICogQHBhcmFtIHtzdHJpbmd9IGp1cmlzZGljdGlvbk5hbWUgLSBUaGUganVyaXNkaWN0aW9uIG5hbWVcclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gd2lkZ2V0RWxlbWVudCAtIFRoZSB3aWRnZXQgZWxlbWVudFxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzQmZjYWNoZVJlc3RvcmUgLSBXaGV0aGVyIHRoaXMgaXMgYSBiZmNhY2hlIHJlc3RvcmF0aW9uXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBpbml0SnVyaXNkaWN0aW9uRmVlZChqdXJpc2RpY3Rpb25OYW1lLCB3aWRnZXRFbGVtZW50LCBpc0JmY2FjaGVSZXN0b3JlID0gZmFsc2UpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBnZXRKdXJpc2RpY3Rpb25GZWVkQ29uZmlnLCBnZXRKdXJpc2RpY3Rpb25DYXJvdXNlbHMgfSA9IGF3YWl0IGltcG9ydCgnLi9jb25maWcuanMnKTtcclxuICAgIGNvbnN0IGZlZWRDb25maWcgPSBhd2FpdCBnZXRKdXJpc2RpY3Rpb25GZWVkQ29uZmlnKGp1cmlzZGljdGlvbk5hbWUpO1xyXG5cclxuICAgIC8vIFNob3cgd2lkZ2V0IGlmIGVuYWJsZWRcclxuICAgIGlmIChmZWVkQ29uZmlnPy53aWRnZXQ/LmVuYWJsZWQpIHtcclxuICAgICAgYXdhaXQgaW5pdFByYXllclRpbWVzV2lkZ2V0KCk7XHJcbiAgICB9IGVsc2UgaWYgKHdpZGdldEVsZW1lbnQpIHtcclxuICAgICAgd2lkZ2V0RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENsZWFyIGV4aXN0aW5nIGNhcm91c2VscyBvbmx5IG9uIGJmY2FjaGUgcmVzdG9yYXRpb25cclxuICAgIGlmIChpc0JmY2FjaGVSZXN0b3JlKSB7XHJcbiAgICAgIGNsZWFyQ2Fyb3VzZWxzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2hvdyBjYXJvdXNlbHMgZnJvbSBpbnN0aXR1dGlvbnNcclxuICAgIGNvbnN0IGNhcm91c2VscyA9IGF3YWl0IGdldEp1cmlzZGljdGlvbkNhcm91c2VscyhqdXJpc2RpY3Rpb25OYW1lKTtcclxuICAgIGNhcm91c2Vscy5mb3JFYWNoKGNhcm91c2VsID0+IHtcclxuICAgICAgcmVuZGVyQ2Fyb3VzZWwoY2Fyb3VzZWwsIGNhcm91c2VsLmluc3RpdHV0aW9uLCAnanVyaXNkaWN0aW9uJyk7XHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5pdGlhbGl6aW5nIGp1cmlzZGljdGlvbiBmZWVkOicsIGVycm9yKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDbGVhciBleGlzdGluZyBjYXJvdXNlbHMgZnJvbSB0aGUgZmVlZCBjb250YWluZXJcclxuICovXHJcbmZ1bmN0aW9uIGNsZWFyQ2Fyb3VzZWxzKCkge1xyXG4gIGNvbnN0IGZlZWRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFwZXItc2hlZXQnKTtcclxuICBpZiAoIWZlZWRDb250YWluZXIpIHJldHVybjtcclxuICBcclxuICBjb25zdCBleGlzdGluZ0Nhcm91c2VscyA9IGZlZWRDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmZlZWQtY2Fyb3VzZWwnKTtcclxuICBleGlzdGluZ0Nhcm91c2Vscy5mb3JFYWNoKGNhcm91c2VsID0+IGNhcm91c2VsLnJlbW92ZSgpKTtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBDYXJvdXNlbCBSZW5kZXJpbmdcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIFJlbmRlciBjYXJvdXNlbFxyXG4gKi9cclxuZnVuY3Rpb24gcmVuZGVyQ2Fyb3VzZWwoY2Fyb3VzZWwsIHNvdXJjZU5hbWUsIGZlZWRUeXBlKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGZlZWRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFwZXItc2hlZXQnKTtcclxuICAgIGlmICghZmVlZENvbnRhaW5lcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdGZWVkIGNvbnRhaW5lciBub3QgZm91bmQnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNvdXJjZUxhYmVsID0gZmVlZFR5cGUgPT09ICdpbnN0aXR1dGlvbidcclxuICAgICAgPyBgUG9zdGVkIGluICR7c291cmNlTmFtZS5yZXBsYWNlKC9cXHMqXFxbLio/XFxdXFxzKi9nLCAnJykudHJpbSgpfWBcclxuICAgICAgOiBgUG9zdGVkIGJ5ICR7c291cmNlTmFtZS5yZXBsYWNlKC9cXHMqXFxbLio/XFxdXFxzKi9nLCAnJykudHJpbSgpfWA7XHJcblxyXG4gICAgY29uc3QgY2Fyb3VzZWxJZCA9IGBjYXJvdXNlbC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XHJcblxyXG4gICAgY29uc3QgY2Fyb3VzZWxIVE1MID0gYFxyXG4gICAgICA8ZGl2IGNsYXNzPVwiZmVlZC1jYXJvdXNlbFwiIGlkPVwiJHtjYXJvdXNlbElkfVwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbC1oZWFkZXJcIj5cclxuICAgICAgICAgIDxoMyBjbGFzcz1cImNhcm91c2VsLXRpdGxlXCI+JHtjYXJvdXNlbC50aXRsZX08L2gzPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbC1jb250YWluZXJcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbC10cmFja1wiIGlkPVwiJHtjYXJvdXNlbElkfS10cmFja1wiPlxyXG4gICAgICAgICAgICAke2Nhcm91c2VsLmltYWdlcy5tYXAoKGltZywgaSkgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnN0IGNhcHRpb24gPSBpbWcuZG9jdW1lbnQ/LnRpdGxlIHx8ICdVbnRpdGxlZCc7XHJcbiAgICAgICAgICAgICAgY29uc3QgZG9jTGluayA9IGltZy5kb2N1bWVudD8uZmlsZW5hbWUgfHwgJyMnO1xyXG4gICAgICAgICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcm91c2VsLXNsaWRlXCI+XHJcbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7aW1nLnVybH1cIiBhbHQ9XCIke2NhcHRpb259XCIgbG9hZGluZz1cIiR7aSA9PT0gMCA/ICdlYWdlcicgOiAnbGF6eSd9XCIgZGVjb2Rpbmc9XCJhc3luY1wiIGZldGNocHJpb3JpdHk9XCIke2kgPT09IDAgPyAnaGlnaCcgOiAnYXV0byd9XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2Fyb3VzZWwtY2FwdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgICA8YSBocmVmPVwiJHtkb2NMaW5rfVwiIGNsYXNzPVwiY2Fyb3VzZWwtY2FwdGlvbi1saW5rXCI+JHtjYXB0aW9ufTwvYT5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBgfSkuam9pbignJyl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJjYXJvdXNlbC1uYXYgcHJldlwiIGFyaWEtbGFiZWw9XCJQcmV2aW91cyBzbGlkZVwiPuKAuTwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNhcm91c2VsLW5hdiBuZXh0XCIgYXJpYS1sYWJlbD1cIk5leHQgc2xpZGVcIj7igLo8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2Fyb3VzZWwtZm9vdGVyXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2Fyb3VzZWwtaW5kaWNhdG9yc1wiPlxyXG4gICAgICAgICAgICAke2Nhcm91c2VsLmltYWdlcy5tYXAoKF8sIGkpID0+IGBcclxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiY2Fyb3VzZWwtaW5kaWNhdG9yICR7aSA9PT0gMCA/ICdhY3RpdmUnIDogJyd9XCIgZGF0YS1pbmRleD1cIiR7aX1cIiBhcmlhLWxhYmVsPVwiR28gdG8gc2xpZGUgJHtpICsgMX1cIj48L2J1dHRvbj5cclxuICAgICAgICAgICAgYCkuam9pbignJyl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2Fyb3VzZWwtc291cmNlXCI+JHtzb3VyY2VMYWJlbH08L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxuXHJcbiAgICBmZWVkQ29udGFpbmVyLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgY2Fyb3VzZWxIVE1MKTtcclxuICAgIGluaXRDYXJvdXNlbE5hdmlnYXRpb24oY2Fyb3VzZWxJZCwgY2Fyb3VzZWwuaW1hZ2VzLmxlbmd0aCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlbmRlcmluZyBjYXJvdXNlbDonLCBlcnJvcik7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogSW5pdGlhbGl6ZSBjYXJvdXNlbCBuYXZpZ2F0aW9uXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0Q2Fyb3VzZWxOYXZpZ2F0aW9uKGNhcm91c2VsSWQsIHNsaWRlQ291bnQpIHtcclxuICBjb25zdCBjYXJvdXNlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhcm91c2VsSWQpO1xyXG4gIGlmICghY2Fyb3VzZWwpIHJldHVybjtcclxuXHJcbiAgY29uc3QgdHJhY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtjYXJvdXNlbElkfS10cmFja2ApO1xyXG4gIGNvbnN0IHByZXZCdG4gPSBjYXJvdXNlbC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWwtbmF2LnByZXYnKTtcclxuICBjb25zdCBuZXh0QnRuID0gY2Fyb3VzZWwucXVlcnlTZWxlY3RvcignLmNhcm91c2VsLW5hdi5uZXh0Jyk7XHJcbiAgY29uc3QgaW5kaWNhdG9ycyA9IGNhcm91c2VsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJvdXNlbC1pbmRpY2F0b3InKTtcclxuXHJcbiAgbGV0IGN1cnJlbnRJbmRleCA9IDA7XHJcbiAgbGV0IGF1dG9QbGF5SW50ZXJ2YWw7XHJcblxyXG4gIGZ1bmN0aW9uIGdvVG9TbGlkZShpbmRleCkge1xyXG4gICAgaWYgKGluZGV4IDwgMCkgaW5kZXggPSBzbGlkZUNvdW50IC0gMTtcclxuICAgIGlmIChpbmRleCA+PSBzbGlkZUNvdW50KSBpbmRleCA9IDA7XHJcbiAgICBjdXJyZW50SW5kZXggPSBpbmRleDtcclxuICAgIHRyYWNrLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke2N1cnJlbnRJbmRleCAqIDEwMH0lKWA7XHJcblxyXG4gICAgLy8gVXBkYXRlIGluZGljYXRvcnNcclxuICAgIGluZGljYXRvcnMuZm9yRWFjaCgoaW5kaWNhdG9yLCBpKSA9PiB7XHJcbiAgICAgIGluZGljYXRvci5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnLCBpID09PSBjdXJyZW50SW5kZXgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBuZXh0U2xpZGUoKSB7XHJcbiAgICBnb1RvU2xpZGUoY3VycmVudEluZGV4ICsgMSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBwcmV2U2xpZGUoKSB7XHJcbiAgICBnb1RvU2xpZGUoY3VycmVudEluZGV4IC0gMSk7XHJcbiAgfVxyXG5cclxuICAvLyBFdmVudCBsaXN0ZW5lcnNcclxuICBwcmV2QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgcHJldlNsaWRlKCk7XHJcbiAgICByZXNldEF1dG9QbGF5KCk7XHJcbiAgfSk7XHJcblxyXG4gIG5leHRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBuZXh0U2xpZGUoKTtcclxuICAgIHJlc2V0QXV0b1BsYXkoKTtcclxuICB9KTtcclxuXHJcbiAgaW5kaWNhdG9ycy5mb3JFYWNoKChpbmRpY2F0b3IsIGluZGV4KSA9PiB7XHJcbiAgICBpbmRpY2F0b3IuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIGdvVG9TbGlkZShpbmRleCk7XHJcbiAgICAgIHJlc2V0QXV0b1BsYXkoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICAvLyBBdXRvLXBsYXlcclxuICBmdW5jdGlvbiBzdGFydEF1dG9QbGF5KCkge1xyXG4gICAgYXV0b1BsYXlJbnRlcnZhbCA9IHNldEludGVydmFsKG5leHRTbGlkZSwgNTAwMCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzdG9wQXV0b1BsYXkoKSB7XHJcbiAgICBjbGVhckludGVydmFsKGF1dG9QbGF5SW50ZXJ2YWwpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVzZXRBdXRvUGxheSgpIHtcclxuICAgIHN0b3BBdXRvUGxheSgpO1xyXG4gICAgc3RhcnRBdXRvUGxheSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gU3RhcnQgYXV0by1wbGF5XHJcbiAgc3RhcnRBdXRvUGxheSgpO1xyXG5cclxuICAvLyBQYXVzZSBvbiBob3ZlclxyXG4gIGNhcm91c2VsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBzdG9wQXV0b1BsYXkpO1xyXG4gIGNhcm91c2VsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBzdGFydEF1dG9QbGF5KTtcclxuXHJcbiAgLy8gVG91Y2ggc3VwcG9ydFxyXG4gIGxldCB0b3VjaFN0YXJ0WCA9IDA7XHJcbiAgbGV0IHRvdWNoRW5kWCA9IDA7XHJcblxyXG4gIGNhcm91c2VsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoZSkgPT4ge1xyXG4gICAgdG91Y2hTdGFydFggPSBlLmNoYW5nZWRUb3VjaGVzWzBdLnNjcmVlblg7XHJcbiAgICBzdG9wQXV0b1BsYXkoKTtcclxuICB9LCB7IHBhc3NpdmU6IHRydWUgfSk7XHJcblxyXG4gIGNhcm91c2VsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKGUpID0+IHtcclxuICAgIHRvdWNoRW5kWCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uc2NyZWVuWDtcclxuICAgIGhhbmRsZVN3aXBlKCk7XHJcbiAgICBzdGFydEF1dG9QbGF5KCk7XHJcbiAgfSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVTd2lwZSgpIHtcclxuICAgIGNvbnN0IHN3aXBlVGhyZXNob2xkID0gNTA7XHJcbiAgICBjb25zdCBkaWZmID0gdG91Y2hTdGFydFggLSB0b3VjaEVuZFg7XHJcblxyXG4gICAgaWYgKE1hdGguYWJzKGRpZmYpID4gc3dpcGVUaHJlc2hvbGQpIHtcclxuICAgICAgaWYgKGRpZmYgPiAwKSB7XHJcbiAgICAgICAgbmV4dFNsaWRlKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcHJldlNsaWRlKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQ2xlYW51cFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogQ2xlYW51cCBmdW5jdGlvbiBmb3Igd2hlbiBsZWF2aW5nIHRoZSBwYWdlXHJcbiAqL1xyXG5mdW5jdGlvbiBjbGVhbnVwKCkge1xyXG4gIGlmICh3aWRnZXRVcGRhdGVJbnRlcnZhbCkge1xyXG4gICAgY2xlYXJJbnRlcnZhbCh3aWRnZXRVcGRhdGVJbnRlcnZhbCk7XHJcbiAgfVxyXG4gIGlmICh1bnN1YnNjcmliZUZyb21TZXJ2aWNlKSB7XHJcbiAgICB1bnN1YnNjcmliZUZyb21TZXJ2aWNlKCk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBDbGVhbnVwIG9uIHBhZ2UgdW5sb2FkXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBjbGVhbnVwKTtcclxuIl0sIm5hbWVzIjpbIkluZGV4ZWREQkNhY2hlIiwiY29uc3RydWN0b3IiLCJkYk5hbWUiLCJzdG9yZU5hbWUiLCJ2ZXJzaW9uIiwidGhpcyIsImRiIiwiaW5pdCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVxdWVzdCIsImluZGV4ZWREQiIsIm9wZW4iLCJvbmVycm9yIiwiRXJyb3IiLCJlcnJvciIsIm9uc3VjY2VzcyIsInJlc3VsdCIsIm9udXBncmFkZW5lZWRlZCIsImV2ZW50IiwidGFyZ2V0Iiwib2JqZWN0U3RvcmVOYW1lcyIsImNvbnRhaW5zIiwic3RvcmUiLCJjcmVhdGVPYmplY3RTdG9yZSIsImtleVBhdGgiLCJjcmVhdGVJbmRleCIsInVuaXF1ZSIsImdldCIsImtleSIsInRyYW5zYWN0aW9uIiwib2JqZWN0U3RvcmUiLCJEYXRlIiwibm93IiwidGltZXN0YW1wIiwidHRsIiwidmFsdWUiLCJkZWxldGUiLCJjYXRjaCIsImNvbnNvbGUiLCJ3YXJuIiwic2V0IiwiZGF0YSIsInB1dCIsIm9uY29tcGxldGUiLCJnZXRPckZldGNoIiwiZmV0Y2hGbiIsImNhY2hlZCIsImdldE9yRmV0Y2hTdGFsZSIsInN0YWxlVFRMIiwidGhlbiIsImFnZSIsInJlZnJlc2hJbkJhY2tncm91bmQiLCJjbGVhciIsImNsZWFyRXhwaXJlZCIsImluZGV4Iiwib3BlbkN1cnNvciIsImNsZWFyZWRDb3VudCIsImN1cnNvciIsImNvbnRpbnVlIiwia2V5cyIsImdldEFsbEtleXMiLCJnZXRTdGF0cyIsImdldEFsbCIsImVudHJpZXMiLCJ2YWxpZEVudHJpZXMiLCJleHBpcmVkRW50cmllcyIsInRvdGFsU2l6ZSIsImZvckVhY2giLCJlbnRyeSIsInNpemUiLCJKU09OIiwic3RyaW5naWZ5IiwibGVuZ3RoIiwidG90YWxFbnRyaWVzIiwidG90YWxCeXRlcyIsInRvdGFsS0IiLCJ0b0ZpeGVkIiwiYXZnRW50cnlTaXplIiwiY2xvc2UiLCJkZWxldGVEYXRhYmFzZSIsIkNBQ0hFX05BTUVTUEFDRVMiLCJDQUNIRV9ERUZBVUxUX1RUTCIsIlBSQVlFUl9USU1FUyIsInVuaWZpZWRDYWNoZSIsIm1lbW9yeUNhY2hlIiwiTWFwIiwiaWRiQ2FjaGUiLCJpbml0aWFsaXplZCIsImluaXRQcm9taXNlIiwiX2RvSW5pdCIsImdlbmVyYXRlS2V5IiwibmFtZXNwYWNlIiwicGFydHMiLCJqb2luIiwiZ2VuZXJhdGVMb2NhdGlvbktleSIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwiZXh0cmFQYXJ0cyIsImxhdFN0ciIsImxvblN0ciIsImhhcyIsImludmFsaWRhdGVOYW1lc3BhY2UiLCJwcmVmaXgiLCJzdGFydHNXaXRoIiwiY2xlYXJlZCIsIm1lbW9yeVNpemUiLCJpZGJTdGF0cyIsIm1lbW9yeUVudHJpZXMiLCJpc1N0YWxlIiwiX3JlZnJlc2hJbkJhY2tncm91bmQiLCJ3aW5kb3ciLCJMT0NBVElPTl9RVUFMSVRZIiwiR0VPTE9DQVRJT05fT1BUSU9OUyIsImVuYWJsZUhpZ2hBY2N1cmFjeSIsInRpbWVvdXQiLCJtYXhpbXVtQWdlIiwiQ09SU19QUk9YSUVTIiwiREVGQVVMVF9MT0NBVElPTiIsImNpdHkiLCJjb3VudHJ5IiwiQ0FDSEVfVFRMIiwiTE9DQVRJT04iLCJHRU9DT0RJTkciLCJQUkFZRVJfTkFNRVMiLCJwcmF5ZXJUaW1lc1NlcnZpY2UiLCJsb2NhdGlvbiIsInByYXllclRpbWVzIiwibmV4dFByYXllciIsInRpbWVUb05leHRQcmF5ZXIiLCJpc0xvYWRpbmciLCJsYXN0RGF0ZSIsImxpc3RlbmVycyIsIlNldCIsInVwZGF0ZUludGVydmFsIiwiaGFuZGxlT25saW5lIiwiYmluZCIsImhhbmRsZU9mZmxpbmUiLCJoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlIiwib3B0aW9ucyIsIm5vdGlmeUxpc3RlbmVycyIsImdldExvY2F0aW9uIiwiZm9yY2VSZWZyZXNoIiwiZmV0Y2hQcmF5ZXJUaW1lcyIsImNhbGN1bGF0ZU5leHRQcmF5ZXIiLCJzZXR1cEV2ZW50SGFuZGxlcnMiLCJzZXR1cFVwZGF0ZUludGVydmFsIiwic2V0dXBEYXRlQ2hhbmdlRGV0ZWN0aW9uIiwibWF4QWdlIiwiY2FjaGVLZXkiLCJpc0xvY2F0aW9uRnJlc2giLCJsb2ciLCJxdWFsaXR5IiwicG9zaXRpb24iLCJyZXF1ZXN0R1BTUG9zaXRpb24iLCJjb29yZHMiLCJhY2N1cmFjeSIsImZldGNoQ2l0eU5hbWUiLCJlcnIiLCJtZXNzYWdlIiwiZ2V0TG9jYXRpb25GYWxsYmFjayIsIm5hdmlnYXRvciIsImdlb2xvY2F0aW9uIiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwiZXhwaXJlZENhY2hlIiwiZ2V0RXhwaXJlZExvY2F0aW9uQ2FjaGUiLCJpc0V4cGlyZWQiLCJmYWxsYmFja1JlYXNvbiIsImdldEdQU0Vycm9yTWVzc2FnZSIsImNvZGUiLCJQRVJNSVNTSU9OX0RFTklFRCIsIlBPU0lUSU9OX1VOQVZBSUxBQkxFIiwiVElNRU9VVCIsImdlb2NvZGluZ0tleSIsIm5vbWluYXRpbVVybCIsInByb3h5IiwiY29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInRpbWVvdXRJZCIsInNldFRpbWVvdXQiLCJhYm9ydCIsInJlc3BvbnNlIiwiZmV0Y2giLCJlbmNvZGVVUklDb21wb25lbnQiLCJzaWduYWwiLCJjbGVhclRpbWVvdXQiLCJvayIsImpzb24iLCJhZGRyZXNzIiwidG93biIsInZpbGxhZ2UiLCJjb3VudHkiLCJnZW5lcmF0ZVByYXllckNhY2hlS2V5IiwibG9jYWxEYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwidGltZVpvbmUiLCJJbnRsIiwiRGF0ZVRpbWVGb3JtYXQiLCJyZXNvbHZlZE9wdGlvbnMiLCJjYWxjdWxhdGVQcmF5ZXJUVEwiLCJ0aW1lem9uZSIsImVuZE9mRGF5U3RyIiwiZ2V0VGltZSIsIk1hdGgiLCJtYXgiLCJjYWNoZURhdGUiLCJkYXRlIiwidG9kYXkiLCJ0b0RhdGVTdHJpbmciLCJjYWNoZUFnZSIsInJlZnJlc2hQcmF5ZXJUaW1lc0luQmFja2dyb3VuZCIsImZldGNoUHJheWVyVGltZXNGcm9tQVBJIiwidXJsIiwiZ2V0RGF0ZSIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJuYW1lIiwidGltaW5ncyIsImNhY2hlUHJheWVyVGltZXMiLCJ0b0lTT1N0cmluZyIsImN1cnJlbnRNaW51dGVzIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwicHJheWVyTWludXRlcyIsIm1hcCIsImhvdXJzIiwibWludXRlcyIsInNwbGl0IiwiTnVtYmVyIiwidGltZSIsInByYXllciIsIm1pbnV0ZXNVbnRpbE1pZG5pZ2h0IiwiZm9ybWF0VGltZVRvTmV4dFByYXllciIsImZsb29yIiwiZm9ybWF0RGF0ZSIsIndlZWtkYXkiLCJtb250aCIsImRheSIsInllYXIiLCJmb3JtYXRDdXJyZW50VGltZSIsImluY2x1ZGVTZWNvbmRzIiwiaG91ciIsIm1pbnV0ZSIsImhvdXIxMiIsInNlY29uZCIsInRvTG9jYWxlVGltZVN0cmluZyIsImZvcm1hdExvY2F0aW9uIiwiZ2V0U3RhdGUiLCJmb3JtYXR0ZWRUaW1lVG9OZXh0IiwiZm9ybWF0dGVkRGF0ZSIsImZvcm1hdHRlZFRpbWUiLCJmb3JtYXR0ZWRMb2NhdGlvbiIsInN1YnNjcmliZSIsImxpc3RlbmVyIiwiYWRkIiwic3RhdGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZG9jdW1lbnQiLCJ2aXNpYmlsaXR5U3RhdGUiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjdXJyZW50RGF0ZSIsImludmFsaWRhdGVQcmF5ZXJUaW1lc0NhY2hlIiwiaW52YWxpZGF0ZUxvY2F0aW9uQ2FjaGUiLCJpbnZhbGlkYXRlQWxsQ2FjaGVzIiwiZGVzdHJveSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJEQVJLX01PREVfS0VZIiwiZ2V0RmVlZFR5cGUiLCJwYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJzZWFyY2giLCJpbnN0aXR1dGlvbiIsImp1cmlzZGljdGlvbiIsInR5cGUiLCJ3aWRnZXRVcGRhdGVJbnRlcnZhbCIsInVuc3Vic2NyaWJlRnJvbVNlcnZpY2UiLCJhc3luYyIsImluaXRQcmF5ZXJUaW1lc1dpZGdldCIsIndpZGdldEVsZW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsInJlbmRlcldpZGdldCIsImhhbmRsZVdpZGdldFVwZGF0ZSIsImlzRmFsbGJhY2siLCJmYWxsYmFja0luZGljYXRvciIsImxvY2F0aW9uQ2xhc3MiLCJGYWpyIiwiRGh1aHIiLCJBc3IiLCJNYWdocmliIiwiSXNoYSIsImluaXRGZWVkQ29udGVudCIsImlzQmZjYWNoZVJlc3RvcmUiLCJmZWVkVHlwZSIsImluc3RpdHV0aW9uTmFtZSIsImdldEluc3RpdHV0aW9uRmVlZENvbmZpZyIsImdldERvY3VtZW50QnlJZCIsImltcG9ydCIsImZlZWRDb25maWciLCJ3aWRnZXQiLCJlbmFibGVkIiwic3R5bGUiLCJkaXNwbGF5IiwiY2Fyb3VzZWwiLCJjbGVhckNhcm91c2VscyIsImltYWdlc1dpdGhEb2NzIiwiYWxsIiwiaW1hZ2VzIiwiaW1nIiwiZG9jIiwiZG9jdW1lbnRfaWQiLCJjYXJvdXNlbFdpdGhEb2NzIiwicmVuZGVyQ2Fyb3VzZWwiLCJwb3N0X3RvX2p1cmlzZGljdGlvbnMiLCJpbml0SW5zdGl0dXRpb25GZWVkIiwianVyaXNkaWN0aW9uTmFtZSIsImdldEp1cmlzZGljdGlvbkZlZWRDb25maWciLCJnZXRKdXJpc2RpY3Rpb25DYXJvdXNlbHMiLCJpbml0SnVyaXNkaWN0aW9uRmVlZCIsImZlZWRDb250YWluZXIiLCJxdWVyeVNlbGVjdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsInJlbW92ZSIsInNvdXJjZU5hbWUiLCJzb3VyY2VMYWJlbCIsInJlcGxhY2UiLCJ0cmltIiwiY2Fyb3VzZWxJZCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwiY2Fyb3VzZWxIVE1MIiwidGl0bGUiLCJpIiwiY2FwdGlvbiIsImRvY0xpbmsiLCJmaWxlbmFtZSIsIl8iLCJpbnNlcnRBZGphY2VudEhUTUwiLCJzbGlkZUNvdW50IiwidHJhY2siLCJwcmV2QnRuIiwibmV4dEJ0biIsImluZGljYXRvcnMiLCJhdXRvUGxheUludGVydmFsIiwiY3VycmVudEluZGV4IiwiZ29Ub1NsaWRlIiwidHJhbnNmb3JtIiwiaW5kaWNhdG9yIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwibmV4dFNsaWRlIiwicHJldlNsaWRlIiwic3RhcnRBdXRvUGxheSIsInN0b3BBdXRvUGxheSIsInJlc2V0QXV0b1BsYXkiLCJ0b3VjaFN0YXJ0WCIsInRvdWNoRW5kWCIsImhhbmRsZVN3aXBlIiwic3dpcGVUaHJlc2hvbGQiLCJkaWZmIiwiYWJzIiwiZSIsImNoYW5nZWRUb3VjaGVzIiwic2NyZWVuWCIsInBhc3NpdmUiLCJpbml0Q2Fyb3VzZWxOYXZpZ2F0aW9uIiwiYWRtaW5TZWFsIiwic2F2ZWRNb2RlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInByZWZlcnNEYXJrIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJkb2N1bWVudEVsZW1lbnQiLCJpc0RhcmsiLCJzZXRJdGVtIiwiaW5pdERhcmtNb2RlIiwiaGVhZGVyRWxlbWVudCIsInRleHRDb250ZW50IiwiY2xlYW5OYW1lIiwidXBkYXRlRmVlZEhlYWRlciIsInBlcnNpc3RlZCJdLCJtYXBwaW5ncyI6IkFBTU8sTUFBTUEsZUFDWCxXQUFBQyxDQUFZQyxFQUFTLGNBQWVDLEVBQVksWUFBYUMsRUFBVSxHQUNyRUMsS0FBS0gsT0FBU0EsRUFDZEcsS0FBS0YsVUFBWUEsRUFDakJFLEtBQUtELFFBQVVBLEVBQ2ZDLEtBQUtDLEdBQUssSUFDWixDQU1BLFVBQU1DLEdBQ0osT0FBSUYsS0FBS0MsR0FDQUQsS0FBS0MsR0FHUCxJQUFJRSxRQUFRLENBQUNDLEVBQVNDLEtBQzNCLE1BQU1DLEVBQVVDLFVBQVVDLEtBQUtSLEtBQUtILE9BQVFHLEtBQUtELFNBRWpETyxFQUFRRyxRQUFVLElBQU1KLEVBQU8sSUFBSUssTUFBTSw0QkFBNEJKLEVBQVFLLFVBQzdFTCxFQUFRTSxVQUFZLEtBQ2xCWixLQUFLQyxHQUFLSyxFQUFRTyxPQUNsQlQsRUFBUUosS0FBS0MsS0FHZkssRUFBUVEsZ0JBQW1CQyxJQUN6QixNQUFNZCxFQUFLYyxFQUFNQyxPQUFPSCxPQUd4QixJQUFLWixFQUFHZ0IsaUJBQWlCQyxTQUFTbEIsS0FBS0YsV0FBWSxDQUNqRCxNQUFNcUIsRUFBUWxCLEVBQUdtQixrQkFBa0JwQixLQUFLRixVQUFXLENBQUV1QixRQUFTLFFB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
