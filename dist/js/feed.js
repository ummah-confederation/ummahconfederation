class IndexedDBCache{constructor(e="ummah-cache",t="responses",i=1){this.dbName=e,this.storeName=t,this.version=i,this.db=null}async init(){return this.db?this.db:new Promise((e,t)=>{const i=indexedDB.open(this.dbName,this.version);i.onerror=()=>t(new Error(`Failed to open database: ${i.error}`)),i.onsuccess=()=>{this.db=i.result,e(this.db)},i.onupgradeneeded=e=>{const t=e.target.result;if(!t.objectStoreNames.contains(this.storeName)){const e=t.createObjectStore(this.storeName,{keyPath:"key"});e.createIndex("timestamp","timestamp",{unique:!1}),e.createIndex("ttl","ttl",{unique:!1})}}})}async get(e){try{const t=await this.init();return new Promise((i,a)=>{const r=t.transaction([this.storeName],"readonly").objectStore(this.storeName).get(e);r.onsuccess=()=>{const t=r.result;if(!t)return void i(null);Date.now()-t.timestamp<t.ttl?i(t.value):(this.delete(e).catch(console.warn),i(null))},r.onerror=()=>a(new Error(`Failed to get from cache: ${r.error}`))})}catch(e){return console.warn("IndexedDB get error:",e),null}}async set(e,t,i=3e5){try{const a=await this.init();return new Promise((r,n)=>{const s=a.transaction([this.storeName],"readwrite"),o=s.objectStore(this.storeName),c={key:e,value:t,timestamp:Date.now(),ttl:i},l=o.put(c);l.onsuccess=()=>r(),l.onerror=()=>n(new Error(`Failed to set cache: ${l.error}`)),s.oncomplete=()=>r(),s.onerror=()=>n(new Error(`Transaction failed: ${s.error}`))})}catch(e){console.warn("IndexedDB set error:",e)}}async getOrFetch(e,t,i){const a=await this.get(e);if(null!==a)return a;const r=await t();return await this.set(e,r,i),r}async getOrFetchStale(e,t,i,a=.8*i){try{const r=await this.init();return new Promise((n,s)=>{const o=r.transaction([this.storeName],"readonly").objectStore(this.storeName).get(e);o.onsuccess=()=>{const r=o.result;if(!r)return void t().then(t=>{this.set(e,t,i).catch(console.warn),n(t)}).catch(s);const c=Date.now()-r.timestamp;c<r.ttl?(c>a&&this.refreshInBackground(e,t,i),n(r.value)):(this.delete(e).catch(console.warn),t().then(t=>{this.set(e,t,i).catch(console.warn),n(t)}).catch(s))},o.onerror=()=>{t().then(t=>{this.set(e,t,i).catch(console.warn),n(t)}).catch(s)}})}catch(e){return console.warn("IndexedDB getOrFetchStale error:",e),t()}}async refreshInBackground(e,t,i){try{const a=await t();await this.set(e,a,i)}catch(e){console.warn("Background refresh failed:",e)}}async delete(e){try{const t=await this.init();return new Promise((i,a)=>{const r=t.transaction([this.storeName],"readwrite"),n=r.objectStore(this.storeName).delete(e);n.onsuccess=()=>i(),n.onerror=()=>a(new Error(`Failed to delete from cache: ${n.error}`)),r.oncomplete=()=>i(),r.onerror=()=>a(new Error(`Transaction failed: ${r.error}`))})}catch(e){console.warn("IndexedDB delete error:",e)}}async clear(){try{const e=await this.init();return new Promise((t,i)=>{const a=e.transaction([this.storeName],"readwrite"),r=a.objectStore(this.storeName).clear();r.onsuccess=()=>t(),r.onerror=()=>i(new Error(`Failed to clear cache: ${r.error}`)),a.oncomplete=()=>t(),a.onerror=()=>i(new Error(`Transaction failed: ${a.error}`))})}catch(e){console.warn("IndexedDB clear error:",e)}}async clearExpired(){try{const e=await this.init();return new Promise((t,i)=>{const a=e.transaction([this.storeName],"readwrite").objectStore(this.storeName).index("timestamp").openCursor();let r=0;const n=Date.now();a.onsuccess=e=>{const i=e.target.result;if(i){const e=i.value;n-e.timestamp>=e.ttl&&(i.delete(),r++),i.continue()}else t(r)},a.onerror=()=>i(new Error(`Failed to clear expired: ${a.error}`))})}catch(e){return console.warn("IndexedDB clearExpired error:",e),0}}async keys(){try{const e=await this.init();return new Promise((t,i)=>{const a=e.transaction([this.storeName],"readonly").objectStore(this.storeName).getAllKeys();a.onsuccess=()=>t(a.result),a.onerror=()=>i(new Error(`Failed to get keys: ${a.error}`))})}catch(e){return console.warn("IndexedDB keys error:",e),[]}}async getStats(){try{const e=await this.init();return new Promise((t,i)=>{const a=e.transaction([this.storeName],"readonly").objectStore(this.storeName).getAll();a.onsuccess=()=>{const e=a.result,i=Date.now();let r=0,n=0,s=0;e.forEach(e=>{const t=JSON.stringify(e).length;s+=t,i-e.timestamp<e.ttl?r++:n++}),t({totalEntries:e.length,validEntries:r,expiredEntries:n,totalBytes:s,totalKB:(s/1024).toFixed(2),avgEntrySize:e.length>0?(s/e.length).toFixed(2):0})},a.onerror=()=>i(new Error(`Failed to get stats: ${a.error}`))})}catch(e){return console.warn("IndexedDB getStats error:",e),{totalEntries:0,validEntries:0,expiredEntries:0,totalBytes:0,totalKB:0,avgEntrySize:0}}}async close(){this.db&&(this.db.close(),this.db=null)}async deleteDatabase(){return await this.close(),new Promise((e,t)=>{const i=indexedDB.deleteDatabase(this.dbName);i.onsuccess=()=>e(),i.onerror=()=>t(new Error(`Failed to delete database: ${i.error}`))})}}const e="prayer",t="geocoding",i="location",a={PRAYER_TIMES:864e5};const r=new class{constructor(){this.memoryCache=new Map,this.idbCache=new IndexedDBCache("ummah-unified-cache","cache"),this.initialized=!1,this.initPromise=null}async init(){if(!this.initialized)return this.initPromise||(this.initPromise=this._doInit()),this.initPromise}async _doInit(){try{await this.idbCache.init(),this.initialized=!0}catch(e){console.warn("UnifiedCacheManager: IndexedDB init failed, using memory-only mode:",e),this.initialized=!0}}generateKey(e,...t){return`${e}:${t.join(":")}`}generateLocationKey(e,t,i,...a){const r=t.toFixed(4),n=i.toFixed(4);return this.generateKey(e,r,n,...a)}async get(e){if(this.memoryCache.has(e)){const t=this.memoryCache.get(e);if(Date.now()-t.timestamp<t.ttl)return t.value;this.memoryCache.delete(e)}try{const t=await this.idbCache.get(e);if(null!==t)return this.memoryCache.set(e,{value:t,timestamp:Date.now(),ttl:a.PRAYER_TIMES}),t}catch(e){console.warn("UnifiedCacheManager: IndexedDB get failed:",e)}return null}async set(e,t,i=a.PRAYER_TIMES){const r={value:t,timestamp:Date.now(),ttl:i};this.memoryCache.set(e,r);try{await this.idbCache.set(e,t,i)}catch(e){console.warn("UnifiedCacheManager: IndexedDB set failed:",e)}}async delete(e){this.memoryCache.delete(e);try{await this.idbCache.delete(e)}catch(e){console.warn("UnifiedCacheManager: IndexedDB delete failed:",e)}}async invalidateNamespace(e){const t=e+":";for(const e of this.memoryCache.keys())e.startsWith(t)&&this.memoryCache.delete(e);try{const e=await this.idbCache.keys();for(const i of e)i.startsWith(t)&&await this.idbCache.delete(i)}catch(e){console.warn("UnifiedCacheManager: Namespace invalidation failed:",e)}}async clear(){this.memoryCache.clear();try{await this.idbCache.clear()}catch(e){console.warn("UnifiedCacheManager: Clear failed:",e)}}async clearExpired(){let e=0;const t=Date.now();for(const[i,a]of this.memoryCache.entries())t-a.timestamp>=a.ttl&&(this.memoryCache.delete(i),e++);try{e+=await this.idbCache.clearExpired()}catch(e){console.warn("UnifiedCacheManager: Expired clear failed:",e)}return e}async getStats(){const e=this.memoryCache.size;let t={totalEntries:0,validEntries:0,expiredEntries:0};try{t=await this.idbCache.getStats()}catch(e){console.warn("UnifiedCacheManager: Stats failed:",e)}return{memoryEntries:e,...t,totalEntries:e+t.totalEntries}}async getOrFetch(e,t,i){const a=await this.get(e);if(null!==a)return a;const r=await t();return await this.set(e,r,i),r}async getOrFetchStale(e,t,i,a=.8*i){if(this.memoryCache.has(e)){const r=this.memoryCache.get(e),n=Date.now()-r.timestamp;if(n<r.ttl){const s=n>a;return s&&this._refreshInBackground(e,t,i),{value:r.value,isStale:s}}}try{const t=await this.idbCache.get(e);if(null!==t)return this.memoryCache.set(e,{value:t,timestamp:Date.now(),ttl:i}),{value:t,isStale:!0}}catch(e){console.warn("UnifiedCacheManager: IDB get failed:",e)}const r=await t();return await this.set(e,r,i),{value:r,isStale:!1}}async _refreshInBackground(e,t,i){try{const a=await t();await this.set(e,a,i)}catch(e){console.warn("UnifiedCacheManager: Background refresh failed:",e)}}};"undefined"!=typeof window&&r.init().catch(console.warn);const n="gps_fresh",s="gps_cached",o="fallback",c={enableHighAccuracy:!1,timeout:1e4,maximumAge:3e5},l=["https://corsproxy.io/?","https://api.allorigins.win/raw?url="],d={latitude:-6.2088,longitude:106.8456,city:"Jakarta",country:"Indonesia"},h={LOCATION:18e5,GEOCODING:6048e5},y=["Fajr","Dhuhr","Asr","Maghrib","Isha"];const m=new class{constructor(){this.location=null,this.prayerTimes=null,this.nextPrayer=null,this.timeToNextPrayer=null,this.isLoading=!1,this.error=null,this.lastDate=null,this.listeners=new Set,this.initialized=!1,this.initPromise=null,this.updateInterval=null,this.handleOnline=this.handleOnline.bind(this),this.handleOffline=this.handleOffline.bind(this),this.handleVisibilityChange=this.handleVisibilityChange.bind(this)}async init(e={}){if(!this.initialized)return this.initPromise||(this.initPromise=this._doInit(e)),this.initPromise}async _doInit(e){try{this.isLoading=!0,this.notifyListeners("loading"),await r.init(),this.location=await this.getLocation({forceRefresh:e.forceRefresh}),this.prayerTimes=await this.fetchPrayerTimes(),this.calculateNextPrayer(),this.setupEventHandlers(),this.setupUpdateInterval(),this.setupDateChangeDetection(),this.initialized=!0,this.isLoading=!1,this.error=null,this.notifyListeners("initialized")}catch(e){throw console.error("PrayerTimesService initialization failed:",e),this.error=e,this.isLoading=!1,this.notifyListeners("error",e),e}}async getLocation(e={}){const{forceRefresh:a=!1,maxAge:o=h.LOCATION}=e,c=r.generateKey(i,"current");if(!a){const e=await r.get(c);if(e&&this.isLocationFresh(e,o)){if((!e.city||"Unknown"===e.city)&&e.latitude&&e.longitude)try{const i=r.generateLocationKey(t,e.latitude,e.longitude),a=await r.get(i);a&&(e.city=a.city,e.country=a.country)}catch(e){}return console.log("[PrayerTimesService] Using cached location:",e),{...e,quality:s}}}try{const e=await this.requestGPSPosition(),t={latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy,timestamp:Date.now(),quality:n};try{await this.fetchCityName(t)}catch(e){console.warn("[PrayerTimesService] Geocoding failed:",e)}return await r.set(c,t,h.LOCATION),console.log("[PrayerTimesService] Got fresh GPS location:",t),t}catch(e){return console.warn("[PrayerTimesService] GPS failed, using fallback:",e.message),this.getLocationFallback(e,c)}}requestGPSPosition(){return new Promise((e,t)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e,t,c):t(new Error("Geolocation not supported"))})}async getLocationFallback(e,i){const a=await this.getExpiredLocationCache(i);if(a&&a.quality!==o){if(!a.city||"Unknown"===a.city)try{const e=r.generateLocationKey(t,a.latitude,a.longitude),i=await r.get(e);i&&(a.city=i.city,a.country=i.country)}catch(e){}return console.log("[PrayerTimesService] Using expired cache as fallback:",a),{...a,quality:s,isExpired:!0}}return{...d,quality:o,fallbackReason:this.getGPSErrorMessage(e),timestamp:Date.now()}}async getExpiredLocationCache(e){try{if(!r.idbCache||!r.idbCache.db)return null;const t=r.idbCache.db;return new Promise(i=>{const a=t.transaction(["cache"],"readonly").objectStore("cache").get(e);a.onsuccess=()=>{const e=a.result;e&&e.value?i(e.value):i(null)},a.onerror=()=>i(null)})}catch(e){return null}}isLocationFresh(e,t){return!(!e||!e.timestamp)&&Date.now()-e.timestamp<t}getGPSErrorMessage(e){switch(e.code){case e.PERMISSION_DENIED:return"Permission denied";case e.POSITION_UNAVAILABLE:return"Position unavailable";case e.TIMEOUT:return"Request timed out";default:return e.message||"Unknown error"}}async fetchCityName(e){if(!e||e.quality===o)return;const i=r.generateLocationKey(t,e.latitude,e.longitude);try{const t=await r.get(i);if(t)return e.city=t.city,void(e.country=t.country)}catch(e){console.warn("[PrayerTimesService] Geocoding cache read error:",e)}try{const t=new AbortController,a=setTimeout(()=>t.abort(),5e3),n=await fetch(`/api/geocode?lat=${e.latitude}&lon=${e.longitude}`,{signal:t.signal});if(clearTimeout(a),n.ok){const t=await n.json();return e.city=t.city||"Unknown",e.country=t.country||"Unknown",await r.set(i,{city:e.city,country:e.country},h.GEOCODING),void await this.updateLocationCache(e)}}catch(e){console.warn("[PrayerTimesService] Serverless geocoding failed, trying CORS proxies:",e)}const a=`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e.latitude}&lon=${e.longitude}`;for(const t of l)try{const n=new AbortController,s=setTimeout(()=>n.abort(),5e3),o=await fetch(`${t}${encodeURIComponent(a)}`,{signal:n.signal});if(clearTimeout(s),!o.ok)continue;const c=await o.json();return e.city=c.address.city||c.address.town||c.address.village||c.address.county||"Unknown",e.country=c.address.country||"Unknown",await r.set(i,{city:e.city,country:e.country},h.GEOCODING),void await this.updateLocationCache(e)}catch(e){console.warn(`[PrayerTimesService] Geocoding proxy ${t} failed:`,e)}e.city="Unknown",e.country="Unknown"}async updateLocationCache(e){if(!e)return;const t=r.generateKey(i,"current");try{await r.set(t,e,h.LOCATION)}catch(e){console.warn("[PrayerTimesService] Failed to update location cache:",e)}}generatePrayerCacheKey(t){if(!t)return null;const i=(new Date).toLocaleDateString("en-CA",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone});return r.generateLocationKey(e,t.latitude,t.longitude,i,t.quality)}calculatePrayerTTL(){const e=new Date,t=Intl.DateTimeFormat().resolvedOptions().timeZone,i=e.toLocaleDateString("en-CA",{timeZone:t})+"T23:59:59",a=new Date(i).getTime()-e.getTime()+3e5;return Math.max(a,6e4)}async fetchPrayerTimes(e=this.location){if(!e)throw new Error("Location not available");const t=this.generatePrayerCacheKey(e);try{const i=await r.get(t);if(i){const t=new Date(i.date),a=new Date;if(t.toDateString()===a.toDateString()){console.log("[PrayerTimesService] Using cached prayer times");const t=Date.now()-new Date(i.date).getTime();return t>72e6&&this.refreshPrayerTimesInBackground(e),i.prayerTimes}}}catch(e){console.warn("[PrayerTimesService] Prayer times cache read error:",e)}return this.fetchPrayerTimesFromAPI(e)}async fetchPrayerTimesFromAPI(e){const t=new Date,i=`https://api.aladhan.com/v1/timings/${t.getDate()}-${t.getMonth()+1}-${t.getFullYear()}?latitude=${e.latitude}&longitude=${e.longitude}&method=20`;try{const t=await fetch(i),a=await t.json();if(200===a.code&&a.data){const t={};return y.forEach(e=>{t[e]=a.data.timings[e]}),await this.cachePrayerTimes(e,t),console.log("[PrayerTimesService] Fetched prayer times from API"),t}throw new Error("Invalid API response")}catch(e){throw console.error("[PrayerTimesService] Prayer times fetch error:",e),e}}async cachePrayerTimes(e,t){const i=this.generatePrayerCacheKey(e);if(!i)return;const a={date:(new Date).toISOString(),prayerTimes:t,location:{latitude:e.latitude,longitude:e.longitude,quality:e.quality}},n=this.calculatePrayerTTL();await r.set(i,a,n)}async refreshPrayerTimesInBackground(e=this.location){try{const t=await this.fetchPrayerTimesFromAPI(e);this.prayerTimes=t,this.notifyListeners("prayer-times-updated")}catch(e){console.warn("[PrayerTimesService] Background refresh failed:",e)}}calculateNextPrayer(){if(!this.prayerTimes)return null;const e=new Date,t=60*e.getHours()+e.getMinutes(),i=y.map(e=>{const[t,i]=this.prayerTimes[e].split(":").map(Number);return{name:e,time:this.prayerTimes[e],minutes:60*t+i}});let a=null;for(const e of i)if(e.minutes>t){a=e;break}if(a)this.timeToNextPrayer=a.minutes-t;else{a=i[0];const e=1440-t;this.timeToNextPrayer=e+a.minutes}return this.nextPrayer=a,a}formatTimeToNextPrayer(){if(null===this.timeToNextPrayer)return"";const e=Math.floor(this.timeToNextPrayer/60),t=this.timeToNextPrayer%60;return e>0?`${e}h ${t}m`:`${t}m`}formatDate(){return(new Date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})}formatCurrentTime(e=!1){const t={hour:"2-digit",minute:"2-digit",hour12:!0};return e&&(t.second="2-digit"),(new Date).toLocaleTimeString("en-US",t)}formatLocation(){if(!this.location)return"Unknown";return`${this.location.city||"Unknown"}, ${this.location.country||"Unknown"}${this.location.quality===o?" (Fallback)":""}`}getState(){return{location:this.location,prayerTimes:this.prayerTimes,nextPrayer:this.nextPrayer,timeToNextPrayer:this.timeToNextPrayer,formattedTimeToNext:this.formatTimeToNextPrayer(),isLoading:this.isLoading,error:this.error,formattedDate:this.formatDate(),formattedTime:this.formatCurrentTime(),formattedLocation:this.formatLocation()}}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}notifyListeners(e,t){const i=this.getState();this.listeners.forEach(a=>{try{a(i,e,t)}catch(e){console.error("[PrayerTimesService] Listener error:",e)}})}setupEventHandlers(){window.addEventListener("online",this.handleOnline),window.addEventListener("offline",this.handleOffline),document.addEventListener("visibilitychange",this.handleVisibilityChange)}handleOnline(){console.log("[PrayerTimesService] Network restored, refreshing..."),this.refreshPrayerTimesInBackground()}handleOffline(){console.log("[PrayerTimesService] Network lost, using cached data")}handleVisibilityChange(){"visible"===document.visibilityState&&(this.calculateNextPrayer(),this.notifyListeners("visibility-change"))}setupUpdateInterval(){this.updateInterval&&clearInterval(this.updateInterval),this.updateInterval=setInterval(()=>{this.calculateNextPrayer(),this.notifyListeners("tick")},1e3)}setupDateChangeDetection(){this.lastDate=(new Date).toDateString(),setInterval(()=>{const e=(new Date).toDateString();this.lastDate!==e&&(console.log("[PrayerTimesService] Date changed, invalidating cache"),this.lastDate=e,this.invalidatePrayerTimesCache())},6e4)}async invalidateLocationCache(){await r.invalidateNamespace(i),this.location=null,this.notifyListeners("location-invalidated")}async invalidatePrayerTimesCache(){await r.invalidateNamespace(e),this.prayerTimes=null;try{this.prayerTimes=await this.fetchPrayerTimes(),this.calculateNextPrayer(),this.notifyListeners("prayer-times-updated")}catch(e){console.error("[PrayerTimesService] Failed to refresh prayer times:",e)}}async invalidateAllCaches(){await this.invalidateLocationCache(),await this.invalidatePrayerTimesCache()}async forceRefresh(){this.isLoading=!0,this.notifyListeners("loading");try{this.location=await this.getLocation({forceRefresh:!0}),this.prayerTimes=await this.fetchPrayerTimesFromAPI(this.location),this.calculateNextPrayer(),this.error=null,this.isLoading=!1,this.notifyListeners("refreshed")}catch(e){this.error=e,this.isLoading=!1,this.notifyListeners("error",e)}}destroy(){this.updateInterval&&clearInterval(this.updateInterval),window.removeEventListener("online",this.handleOnline),window.removeEventListener("offline",this.handleOffline),document.removeEventListener("visibilitychange",this.handleVisibilityChange),this.listeners.clear(),this.initialized=!1}},u="darkMode";function g(){const e=new URLSearchParams(window.location.search),t=e.get("institution"),i=e.get("jurisdiction");return t?{type:"institution",name:t}:i?{type:"jurisdiction",name:i}:{type:"global",name:"Global Feed"}}let w=null;async function p(){const e=document.getElementById("prayer-times-widget");if(e){e.innerHTML='\n    <div class="prayer-widget-header">\n      <h3 class="prayer-widget-title">Prayer Time Widget</h3>\n    </div>\n    <div class="prayer-widget-loading">\n      <span class="loading-spinner"></span>\n      <span>Fetching your location...</span>\n    </div>\n  ';try{w=m.subscribe((t,i)=>{!function(e,t,i){switch(t){case"loading":e.prayerTimes||(i.innerHTML='\n          <div class="prayer-widget-header">\n            <h3 class="prayer-widget-title">Prayer Time Widget</h3>\n          </div>\n          <div class="prayer-widget-loading">\n            <span class="loading-spinner"></span>\n            <span>Fetching your location...</span>\n          </div>\n        ');break;case"error":e.prayerTimes||(i.innerHTML=`\n          <div class="prayer-widget-header">\n            <h3 class="prayer-widget-title">Prayer Time Widget</h3>\n          </div>\n          <p class="text-center prayer-error">${e.error?.message||"Unable to load prayer times."}</p>\n        `);break;default:f()}}(t,i,e)}),await m.init(),f()}catch(t){console.error("Error initializing prayer times widget:",t),e.innerHTML='<p class="text-center prayer-error">Unable to load prayer times.</p>'}}}function f(){const e=document.getElementById("prayer-times-widget");if(!e)return;const t=m.getState();if(t.isLoading&&!t.prayerTimes)return;if(t.error&&!t.prayerTimes)return;const i=t.location?.quality===o?"prayer-widget-location prayer-widget-location-fallback":"prayer-widget-location";e.innerHTML=`\n    <div class="prayer-widget-header">\n      <h3 class="prayer-widget-title">Prayer Time Widget</h3>\n    </div>\n    <div class="prayer-widget-header">\n      <span class="prayer-widget-date">${t.formattedDate}</span>\n      <span class="prayer-widget-clock">${t.formattedTime}</span>\n    </div>\n    <div class="${i}">üìç ${t.formattedLocation}</div>\n    <div class="prayer-widget-next">\n      <span class="prayer-widget-next-label">Next Prayer:</span> ${t.nextPrayer?.name||"Unknown"} (${t.formattedTimeToNext||"--"})\n    </div>\n    <div class="prayer-widget-times">\n      <div class="prayer-widget-column">\n        <span class="prayer-widget-name">Fajr</span>\n        <span class="prayer-widget-time">${t.prayerTimes?.Fajr||"--:--"}</span>\n      </div>\n      <div class="prayer-widget-column">\n        <span class="prayer-widget-name">Dhuhr</span>\n        <span class="prayer-widget-time">${t.prayerTimes?.Dhuhr||"--:--"}</span>\n      </div>\n      <div class="prayer-widget-column">\n        <span class="prayer-widget-name">Asr</span>\n        <span class="prayer-widget-time">${t.prayerTimes?.Asr||"--:--"}</span>\n      </div>\n      <div class="prayer-widget-column">\n        <span class="prayer-widget-name">Maghrib</span>\n        <span class="prayer-widget-time">${t.prayerTimes?.Maghrib||"--:--"}</span>\n      </div>\n      <div class="prayer-widget-column">\n        <span class="prayer-widget-name">Isha</span>\n        <span class="prayer-widget-time">${t.prayerTimes?.Isha||"--:--"}</span>\n      </div>\n    </div>\n  `}async function v(){const e=g(),t=document.getElementById("prayer-times-widget");"institution"===e.type?await async function(e,t){try{const{getInstitutionFeedConfig:i}=await import("./config-CJ5QHLrp.js"),a=await i(e);a?.widget?.enabled?await p():t&&(t.style.display="none")}catch(e){console.error("Error initializing institution feed:",e)}}(e.name,t):"jurisdiction"===e.type?await async function(e,t){try{const{getJurisdictionFeedConfig:i}=await import("./config-CJ5QHLrp.js"),a=await i(e);a?.widget?.enabled?await p():t&&(t.style.display="none")}catch(e){console.error("Error initializing jurisdiction feed:",e)}}(e.name,t):await p()}document.addEventListener("DOMContentLoaded",()=>{!function(){const e=document.querySelector(".admin-seal");if(!e)return;const t=localStorage.getItem(u),i=window.matchMedia("(prefers-color-scheme: dark)").matches;("true"===t||!t&&i)&&document.documentElement.classList.add("dark"),e.addEventListener("click",()=>{document.documentElement.classList.toggle("dark");const e=document.documentElement.classList.contains("dark");localStorage.setItem(u,e)})}(),function(){const e=g(),t=document.getElementById("feed-header");if(t)if("global"===e.type)t.textContent="Global Feed";else if("institution"===e.type){const i=e.name.replace(/\s*\[.*?\]\s*/g,"").trim();t.textContent=`${i} Feed`}else if("jurisdiction"===e.type){const i=e.name.replace(/\s*\[.*?\]\s*/g,"").trim();t.textContent=`${i} Feed`}}(),v()}),window.addEventListener("pageshow",e=>{e.persisted&&v()}),window.addEventListener("beforeunload",function(){w&&w()});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmVlZC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vanMvaW5kZXhlZGRiLWNhY2hlLmpzIiwiLi4vLi4vanMvdW5pZmllZC1jYWNoZS5qcyIsIi4uLy4uL2pzL3ByYXllci10aW1lcy1zZXJ2aWNlLmpzIiwiLi4vLi4vanMvZmVlZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogSW5kZXhlZERCIENhY2hlIFV0aWxpdHlcclxuICogUHJvdmlkZXMgYSBwZXJzaXN0ZW50IGNhY2hpbmcgbWVjaGFuaXNtIHVzaW5nIEluZGV4ZWREQlxyXG4gKiBTdWl0YWJsZSBmb3IgbGFyZ2VyIGRhdGFzZXRzIHRoYXQgZG9uJ3QgZml0IGluIGxvY2FsU3RvcmFnZVxyXG4gKi9cclxuXHJcbmV4cG9ydCBjbGFzcyBJbmRleGVkREJDYWNoZSB7XHJcbiAgY29uc3RydWN0b3IoZGJOYW1lID0gJ3VtbWFoLWNhY2hlJywgc3RvcmVOYW1lID0gJ3Jlc3BvbnNlcycsIHZlcnNpb24gPSAxKSB7XHJcbiAgICB0aGlzLmRiTmFtZSA9IGRiTmFtZTtcclxuICAgIHRoaXMuc3RvcmVOYW1lID0gc3RvcmVOYW1lO1xyXG4gICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcclxuICAgIHRoaXMuZGIgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZSBJbmRleGVkREIgZGF0YWJhc2VcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxJREJEYXRhYmFzZT59IERhdGFiYXNlIGluc3RhbmNlXHJcbiAgICovXHJcbiAgYXN5bmMgaW5pdCgpIHtcclxuICAgIGlmICh0aGlzLmRiKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmRiO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleGVkREIub3Blbih0aGlzLmRiTmFtZSwgdGhpcy52ZXJzaW9uKTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChuZXcgRXJyb3IoYEZhaWxlZCB0byBvcGVuIGRhdGFiYXNlOiAke3JlcXVlc3QuZXJyb3J9YCkpO1xyXG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmRiID0gcmVxdWVzdC5yZXN1bHQ7XHJcbiAgICAgICAgcmVzb2x2ZSh0aGlzLmRiKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZGIgPSBldmVudC50YXJnZXQucmVzdWx0O1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgb2JqZWN0IHN0b3JlIGlmIGl0IGRvZXNuJ3QgZXhpc3RcclxuICAgICAgICBpZiAoIWRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnModGhpcy5zdG9yZU5hbWUpKSB7XHJcbiAgICAgICAgICBjb25zdCBzdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKHRoaXMuc3RvcmVOYW1lLCB7IGtleVBhdGg6ICdrZXknIH0pO1xyXG4gICAgICAgICAgc3RvcmUuY3JlYXRlSW5kZXgoJ3RpbWVzdGFtcCcsICd0aW1lc3RhbXAnLCB7IHVuaXF1ZTogZmFsc2UgfSk7XHJcbiAgICAgICAgICBzdG9yZS5jcmVhdGVJbmRleCgndHRsJywgJ3R0bCcsIHsgdW5pcXVlOiBmYWxzZSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBjYWNoZWQgdmFsdWVcclxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2FjaGUga2V5XHJcbiAgICogQHJldHVybnMge1Byb21pc2U8Kj59IENhY2hlZCB2YWx1ZSBvciBudWxsIGlmIG5vdCBmb3VuZC9leHBpcmVkXHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0KGtleSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGIgPSBhd2FpdCB0aGlzLmluaXQoKTtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKFt0aGlzLnN0b3JlTmFtZV0sICdyZWFkb25seScpO1xyXG4gICAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUodGhpcy5zdG9yZU5hbWUpO1xyXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5nZXQoa2V5KTtcclxuXHJcbiAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSByZXF1ZXN0LnJlc3VsdDtcclxuXHJcbiAgICAgICAgICBpZiAoIXJlc3VsdCkge1xyXG4gICAgICAgICAgICByZXNvbHZlKG51bGwpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY29uc3QgYWdlID0gRGF0ZS5ub3coKSAtIHJlc3VsdC50aW1lc3RhbXA7XHJcblxyXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgY2FjaGUgaXMgc3RpbGwgdmFsaWRcclxuICAgICAgICAgIGlmIChhZ2UgPCByZXN1bHQudHRsKSB7XHJcbiAgICAgICAgICAgIHJlc29sdmUocmVzdWx0LnZhbHVlKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIENhY2hlIGV4cGlyZWQsIGRlbGV0ZSBpdFxyXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZShrZXkpLmNhdGNoKGNvbnNvbGUud2Fybik7XHJcbiAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4gcmVqZWN0KG5ldyBFcnJvcihgRmFpbGVkIHRvIGdldCBmcm9tIGNhY2hlOiAke3JlcXVlc3QuZXJyb3J9YCkpO1xyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignSW5kZXhlZERCIGdldCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IGNhY2hlZCB2YWx1ZVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBDYWNoZSBrZXlcclxuICAgKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2FjaGVcclxuICAgKiBAcGFyYW0ge251bWJlcn0gdHRsIC0gVGltZSB0byBsaXZlIGluIG1pbGxpc2Vjb25kc1xyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxyXG4gICAqL1xyXG4gIGFzeW5jIHNldChrZXksIHZhbHVlLCB0dGwgPSA1ICogNjAgKiAxMDAwKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBkYiA9IGF3YWl0IHRoaXMuaW5pdCgpO1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gZGIudHJhbnNhY3Rpb24oW3RoaXMuc3RvcmVOYW1lXSwgJ3JlYWR3cml0ZScpO1xyXG4gICAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUodGhpcy5zdG9yZU5hbWUpO1xyXG5cclxuICAgICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgICAga2V5LFxyXG4gICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXHJcbiAgICAgICAgICB0dGxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUucHV0KGRhdGEpO1xyXG5cclxuICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUoKTtcclxuICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QobmV3IEVycm9yKGBGYWlsZWQgdG8gc2V0IGNhY2hlOiAke3JlcXVlc3QuZXJyb3J9YCkpO1xyXG5cclxuICAgICAgICB0cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gKCkgPT4gcmVzb2x2ZSgpO1xyXG4gICAgICAgIHRyYW5zYWN0aW9uLm9uZXJyb3IgPSAoKSA9PiByZWplY3QobmV3IEVycm9yKGBUcmFuc2FjdGlvbiBmYWlsZWQ6ICR7dHJhbnNhY3Rpb24uZXJyb3J9YCkpO1xyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignSW5kZXhlZERCIHNldCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgY2FjaGVkIHZhbHVlIG9yIGZldGNoIGlmIG5vdCBhdmFpbGFibGVcclxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2FjaGUga2V5XHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmV0Y2hGbiAtIEFzeW5jIGZ1bmN0aW9uIHRvIGZldGNoIGZyZXNoIGRhdGFcclxuICAgKiBAcGFyYW0ge251bWJlcn0gdHRsIC0gVGltZSB0byBsaXZlIGluIG1pbGxpc2Vjb25kc1xyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPCo+fSBDYWNoZWQgb3IgZmV0Y2hlZCB2YWx1ZVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldE9yRmV0Y2goa2V5LCBmZXRjaEZuLCB0dGwpIHtcclxuICAgIGNvbnN0IGNhY2hlZCA9IGF3YWl0IHRoaXMuZ2V0KGtleSk7XHJcbiAgICBpZiAoY2FjaGVkICE9PSBudWxsKSB7XHJcbiAgICAgIHJldHVybiBjYWNoZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdmFsdWUgPSBhd2FpdCBmZXRjaEZuKCk7XHJcbiAgICBhd2FpdCB0aGlzLnNldChrZXksIHZhbHVlLCB0dGwpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGNhY2hlZCB2YWx1ZSB3aXRoIHN0YWxlLXdoaWxlLXJldmFsaWRhdGUgcGF0dGVyblxyXG4gICAqIFJldHVybnMgY2FjaGVkIGRhdGEgaW1tZWRpYXRlbHkgYW5kIHJlZnJlc2hlcyBpbiBiYWNrZ3JvdW5kXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIENhY2hlIGtleVxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZldGNoRm4gLSBBc3luYyBmdW5jdGlvbiB0byBmZXRjaCBmcmVzaCBkYXRhXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHR0bCAtIFRpbWUgdG8gbGl2ZSBpbiBtaWxsaXNlY29uZHNcclxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RhbGVUVEwgLSBUaW1lIGJlZm9yZSBjb25zaWRlcmluZyBjYWNoZSBzdGFsZSAoZGVmYXVsdDogODAlIG9mIFRUTClcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTwqPn0gQ2FjaGVkIHZhbHVlXHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0T3JGZXRjaFN0YWxlKGtleSwgZmV0Y2hGbiwgdHRsLCBzdGFsZVRUTCA9IHR0bCAqIDAuOCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGIgPSBhd2FpdCB0aGlzLmluaXQoKTtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKFt0aGlzLnN0b3JlTmFtZV0sICdyZWFkb25seScpO1xyXG4gICAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUodGhpcy5zdG9yZU5hbWUpO1xyXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5nZXQoa2V5KTtcclxuXHJcbiAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSByZXF1ZXN0LnJlc3VsdDtcclxuXHJcbiAgICAgICAgICBpZiAoIXJlc3VsdCkge1xyXG4gICAgICAgICAgICAvLyBObyBjYWNoZSwgZmV0Y2ggZnJlc2ggZGF0YVxyXG4gICAgICAgICAgICBmZXRjaEZuKCkudGhlbih2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5zZXQoa2V5LCB2YWx1ZSwgdHRsKS5jYXRjaChjb25zb2xlLndhcm4pO1xyXG4gICAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xyXG4gICAgICAgICAgICB9KS5jYXRjaChyZWplY3QpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY29uc3QgYWdlID0gRGF0ZS5ub3coKSAtIHJlc3VsdC50aW1lc3RhbXA7XHJcblxyXG4gICAgICAgICAgLy8gUmV0dXJuIGNhY2hlZCBkYXRhIGltbWVkaWF0ZWx5XHJcbiAgICAgICAgICBpZiAoYWdlIDwgcmVzdWx0LnR0bCkge1xyXG4gICAgICAgICAgICAvLyBSZWZyZXNoIGluIGJhY2tncm91bmQgaWYgY2FjaGUgaXMgc3RhbGVcclxuICAgICAgICAgICAgaWYgKGFnZSA+IHN0YWxlVFRMKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoSW5CYWNrZ3JvdW5kKGtleSwgZmV0Y2hGbiwgdHRsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXNvbHZlKHJlc3VsdC52YWx1ZSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBDYWNoZSBleHBpcmVkLCBkZWxldGUgYW5kIGZldGNoIGZyZXNoIGRhdGFcclxuICAgICAgICAgICAgdGhpcy5kZWxldGUoa2V5KS5jYXRjaChjb25zb2xlLndhcm4pO1xyXG4gICAgICAgICAgICBmZXRjaEZuKCkudGhlbih2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5zZXQoa2V5LCB2YWx1ZSwgdHRsKS5jYXRjaChjb25zb2xlLndhcm4pO1xyXG4gICAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xyXG4gICAgICAgICAgICB9KS5jYXRjaChyZWplY3QpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcclxuICAgICAgICAgIC8vIE9uIGVycm9yLCBmZXRjaCBmcmVzaCBkYXRhXHJcbiAgICAgICAgICBmZXRjaEZuKCkudGhlbih2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgdmFsdWUsIHR0bCkuY2F0Y2goY29uc29sZS53YXJuKTtcclxuICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XHJcbiAgICAgICAgICB9KS5jYXRjaChyZWplY3QpO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdJbmRleGVkREIgZ2V0T3JGZXRjaFN0YWxlIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgLy8gRmFsbGJhY2sgdG8gZmV0Y2hcclxuICAgICAgcmV0dXJuIGZldGNoRm4oKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlZnJlc2ggY2FjaGUgaW4gYmFja2dyb3VuZCB3aXRob3V0IGJsb2NraW5nXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIENhY2hlIGtleVxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZldGNoRm4gLSBBc3luYyBmdW5jdGlvbiB0byBmZXRjaCBmcmVzaCBkYXRhXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHR0bCAtIFRpbWUgdG8gbGl2ZSBpbiBtaWxsaXNlY29uZHNcclxuICAgKi9cclxuICBhc3luYyByZWZyZXNoSW5CYWNrZ3JvdW5kKGtleSwgZmV0Y2hGbiwgdHRsKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IGZldGNoRm4oKTtcclxuICAgICAgYXdhaXQgdGhpcy5zZXQoa2V5LCB2YWx1ZSwgdHRsKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignQmFja2dyb3VuZCByZWZyZXNoIGZhaWxlZDonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZWxldGUgY2FjaGVkIHZhbHVlXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIENhY2hlIGtleVxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxyXG4gICAqL1xyXG4gIGFzeW5jIGRlbGV0ZShrZXkpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGRiID0gYXdhaXQgdGhpcy5pbml0KCk7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihbdGhpcy5zdG9yZU5hbWVdLCAncmVhZHdyaXRlJyk7XHJcbiAgICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZSh0aGlzLnN0b3JlTmFtZSk7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlLmRlbGV0ZShrZXkpO1xyXG5cclxuICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUoKTtcclxuICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QobmV3IEVycm9yKGBGYWlsZWQgdG8gZGVsZXRlIGZyb20gY2FjaGU6ICR7cmVxdWVzdC5lcnJvcn1gKSk7XHJcblxyXG4gICAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoKSA9PiByZXNvbHZlKCk7XHJcbiAgICAgICAgdHJhbnNhY3Rpb24ub25lcnJvciA9ICgpID0+IHJlamVjdChuZXcgRXJyb3IoYFRyYW5zYWN0aW9uIGZhaWxlZDogJHt0cmFuc2FjdGlvbi5lcnJvcn1gKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdJbmRleGVkREIgZGVsZXRlIGVycm9yOicsIGVycm9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENsZWFyIGFsbCBjYWNoZWQgdmFsdWVzXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XHJcbiAgICovXHJcbiAgYXN5bmMgY2xlYXIoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBkYiA9IGF3YWl0IHRoaXMuaW5pdCgpO1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gZGIudHJhbnNhY3Rpb24oW3RoaXMuc3RvcmVOYW1lXSwgJ3JlYWR3cml0ZScpO1xyXG4gICAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUodGhpcy5zdG9yZU5hbWUpO1xyXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5jbGVhcigpO1xyXG5cclxuICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUoKTtcclxuICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QobmV3IEVycm9yKGBGYWlsZWQgdG8gY2xlYXIgY2FjaGU6ICR7cmVxdWVzdC5lcnJvcn1gKSk7XHJcblxyXG4gICAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoKSA9PiByZXNvbHZlKCk7XHJcbiAgICAgICAgdHJhbnNhY3Rpb24ub25lcnJvciA9ICgpID0+IHJlamVjdChuZXcgRXJyb3IoYFRyYW5zYWN0aW9uIGZhaWxlZDogJHt0cmFuc2FjdGlvbi5lcnJvcn1gKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdJbmRleGVkREIgY2xlYXIgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2xlYXIgZXhwaXJlZCBjYWNoZSBlbnRyaWVzXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8bnVtYmVyPn0gTnVtYmVyIG9mIGVudHJpZXMgY2xlYXJlZFxyXG4gICAqL1xyXG4gIGFzeW5jIGNsZWFyRXhwaXJlZCgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGRiID0gYXdhaXQgdGhpcy5pbml0KCk7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihbdGhpcy5zdG9yZU5hbWVdLCAncmVhZHdyaXRlJyk7XHJcbiAgICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZSh0aGlzLnN0b3JlTmFtZSk7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSBzdG9yZS5pbmRleCgndGltZXN0YW1wJyk7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IGluZGV4Lm9wZW5DdXJzb3IoKTtcclxuXHJcbiAgICAgICAgbGV0IGNsZWFyZWRDb3VudCA9IDA7XHJcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgIGNvbnN0IGN1cnNvciA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XHJcblxyXG4gICAgICAgICAgaWYgKGN1cnNvcikge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gY3Vyc29yLnZhbHVlO1xyXG4gICAgICAgICAgICBjb25zdCBhZ2UgPSBub3cgLSBkYXRhLnRpbWVzdGFtcDtcclxuXHJcbiAgICAgICAgICAgIGlmIChhZ2UgPj0gZGF0YS50dGwpIHtcclxuICAgICAgICAgICAgICBjdXJzb3IuZGVsZXRlKCk7XHJcbiAgICAgICAgICAgICAgY2xlYXJlZENvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzb2x2ZShjbGVhcmVkQ291bnQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChuZXcgRXJyb3IoYEZhaWxlZCB0byBjbGVhciBleHBpcmVkOiAke3JlcXVlc3QuZXJyb3J9YCkpO1xyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignSW5kZXhlZERCIGNsZWFyRXhwaXJlZCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGFsbCBjYWNoZSBrZXlzXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8QXJyYXk8c3RyaW5nPj59IEFycmF5IG9mIGNhY2hlIGtleXNcclxuICAgKi9cclxuICBhc3luYyBrZXlzKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGIgPSBhd2FpdCB0aGlzLmluaXQoKTtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKFt0aGlzLnN0b3JlTmFtZV0sICdyZWFkb25seScpO1xyXG4gICAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUodGhpcy5zdG9yZU5hbWUpO1xyXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5nZXRBbGxLZXlzKCk7XHJcblxyXG4gICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZShyZXF1ZXN0LnJlc3VsdCk7XHJcbiAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4gcmVqZWN0KG5ldyBFcnJvcihgRmFpbGVkIHRvIGdldCBrZXlzOiAke3JlcXVlc3QuZXJyb3J9YCkpO1xyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignSW5kZXhlZERCIGtleXMgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgY2FjaGUgc3RhdGlzdGljc1xyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IENhY2hlIHN0YXRpc3RpY3NcclxuICAgKi9cclxuICBhc3luYyBnZXRTdGF0cygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGRiID0gYXdhaXQgdGhpcy5pbml0KCk7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihbdGhpcy5zdG9yZU5hbWVdLCAncmVhZG9ubHknKTtcclxuICAgICAgICBjb25zdCBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHRoaXMuc3RvcmVOYW1lKTtcclxuICAgICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUuZ2V0QWxsKCk7XHJcblxyXG4gICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgZW50cmllcyA9IHJlcXVlc3QucmVzdWx0O1xyXG4gICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgIGxldCB2YWxpZEVudHJpZXMgPSAwO1xyXG4gICAgICAgICAgbGV0IGV4cGlyZWRFbnRyaWVzID0gMDtcclxuICAgICAgICAgIGxldCB0b3RhbFNpemUgPSAwO1xyXG5cclxuICAgICAgICAgIGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNpemUgPSBKU09OLnN0cmluZ2lmeShlbnRyeSkubGVuZ3RoO1xyXG4gICAgICAgICAgICB0b3RhbFNpemUgKz0gc2l6ZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChub3cgLSBlbnRyeS50aW1lc3RhbXAgPCBlbnRyeS50dGwpIHtcclxuICAgICAgICAgICAgICB2YWxpZEVudHJpZXMrKztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBleHBpcmVkRW50cmllcysrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgdG90YWxFbnRyaWVzOiBlbnRyaWVzLmxlbmd0aCxcclxuICAgICAgICAgICAgdmFsaWRFbnRyaWVzLFxyXG4gICAgICAgICAgICBleHBpcmVkRW50cmllcyxcclxuICAgICAgICAgICAgdG90YWxCeXRlczogdG90YWxTaXplLFxyXG4gICAgICAgICAgICB0b3RhbEtCOiAodG90YWxTaXplIC8gMTAyNCkudG9GaXhlZCgyKSxcclxuICAgICAgICAgICAgYXZnRW50cnlTaXplOiBlbnRyaWVzLmxlbmd0aCA+IDAgPyAodG90YWxTaXplIC8gZW50cmllcy5sZW5ndGgpLnRvRml4ZWQoMikgOiAwXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QobmV3IEVycm9yKGBGYWlsZWQgdG8gZ2V0IHN0YXRzOiAke3JlcXVlc3QuZXJyb3J9YCkpO1xyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignSW5kZXhlZERCIGdldFN0YXRzIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB0b3RhbEVudHJpZXM6IDAsXHJcbiAgICAgICAgdmFsaWRFbnRyaWVzOiAwLFxyXG4gICAgICAgIGV4cGlyZWRFbnRyaWVzOiAwLFxyXG4gICAgICAgIHRvdGFsQnl0ZXM6IDAsXHJcbiAgICAgICAgdG90YWxLQjogMCxcclxuICAgICAgICBhdmdFbnRyeVNpemU6IDBcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENsb3NlIGRhdGFiYXNlIGNvbm5lY3Rpb25cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cclxuICAgKi9cclxuICBhc3luYyBjbG9zZSgpIHtcclxuICAgIGlmICh0aGlzLmRiKSB7XHJcbiAgICAgIHRoaXMuZGIuY2xvc2UoKTtcclxuICAgICAgdGhpcy5kYiA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZWxldGUgZW50aXJlIGRhdGFiYXNlXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XHJcbiAgICovXHJcbiAgYXN5bmMgZGVsZXRlRGF0YWJhc2UoKSB7XHJcbiAgICBhd2FpdCB0aGlzLmNsb3NlKCk7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKHRoaXMuZGJOYW1lKTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZSgpO1xyXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QobmV3IEVycm9yKGBGYWlsZWQgdG8gZGVsZXRlIGRhdGFiYXNlOiAke3JlcXVlc3QuZXJyb3J9YCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBDcmVhdGUgZGVmYXVsdCBJbmRleGVkREIgY2FjaGUgaW5zdGFuY2VcclxuZXhwb3J0IGNvbnN0IGRlZmF1bHRJREJDYWNoZSA9IG5ldyBJbmRleGVkREJDYWNoZSgpO1xyXG5cclxuLy8gRXhwb3J0IGNhY2hlIGNvbnN0YW50c1xyXG5leHBvcnQgY29uc3QgSURCX0NBQ0hFX1RUTCA9IHtcclxuICBTSE9SVDogNSAqIDYwICogMTAwMCwgICAgICAgICAgIC8vIDUgbWludXRlc1xyXG4gIE1FRElVTTogMTUgKiA2MCAqIDEwMDAsICAgICAgICAgLy8gMTUgbWludXRlc1xyXG4gIExPTkc6IDYwICogNjAgKiAxMDAwLCAgICAgICAgICAgLy8gMSBob3VyXHJcbiAgVkVSWV9MT05HOiAyNCAqIDYwICogNjAgKiAxMDAwICAvLyAyNCBob3Vyc1xyXG59O1xyXG4iLCIvKipcclxuICogVW5pZmllZCBDYWNoZSBNYW5hZ2VyXHJcbiAqIFNpbmdsZSBzb3VyY2Ugb2YgdHJ1dGggZm9yIGFsbCBjYWNoaW5nIG9wZXJhdGlvbnNcclxuICogQ29vcmRpbmF0ZXMgYmV0d2VlbiBtZW1vcnksIGxvY2FsU3RvcmFnZSwgYW5kIEluZGV4ZWREQlxyXG4gKiBcclxuICogRW5oYW5jZWQgd2l0aCB0aW1lem9uZS1hd2FyZSBjYWNoZSBrZXkgZ2VuZXJhdGlvbiBhbmQgVFRMIGNhbGN1bGF0aW9uXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgSW5kZXhlZERCQ2FjaGUgfSBmcm9tICcuL2luZGV4ZWRkYi1jYWNoZS5qcyc7XHJcblxyXG4vLyBDYWNoZSBuYW1lc3BhY2VzIGZvciBvcmdhbml6YXRpb25cclxuZXhwb3J0IGNvbnN0IENBQ0hFX05BTUVTUEFDRVMgPSB7XHJcbiAgUFJBWUVSX1RJTUVTOiAncHJheWVyJyxcclxuICBHRU9DT0RJTkc6ICdnZW9jb2RpbmcnLFxyXG4gIExPQ0FUSU9OOiAnbG9jYXRpb24nLFxyXG4gIENPTkZJRzogJ2NvbmZpZycsXHJcbiAgRkVFRDogJ2ZlZWQnXHJcbn07XHJcblxyXG4vLyBEZWZhdWx0IFRUTCB2YWx1ZXNcclxuZXhwb3J0IGNvbnN0IENBQ0hFX0RFRkFVTFRfVFRMID0ge1xyXG4gIFBSQVlFUl9USU1FUzogMjQgKiA2MCAqIDYwICogMTAwMCwgIC8vIDI0IGhvdXJzICh1bnRpbCBlbmQgb2YgZGF5KVxyXG4gIEdFT0NPRElORzogNyAqIDI0ICogNjAgKiA2MCAqIDEwMDAsIC8vIDcgZGF5c1xyXG4gIExPQ0FUSU9OOiAzMCAqIDYwICogMTAwMCwgICAgICAgICAgIC8vIDMwIG1pbnV0ZXMgKHJlYXNvbmFibGUgZm9yIHByYXllciB0aW1lcylcclxuICBDT05GSUc6IDUgKiA2MCAqIDEwMDAsICAgICAgICAgICAgICAgLy8gNSBtaW51dGVzXHJcbiAgRkVFRDogMTUgKiA2MCAqIDEwMDAgICAgICAgICAgICAgICAgIC8vIDE1IG1pbnV0ZXNcclxufTtcclxuXHJcbi8vIExvY2F0aW9uIHByZWNpc2lvbiBmb3IgY2FjaGUga2V5cyAoNCBkZWNpbWFscyA9IH4xMW0gYWNjdXJhY3kpXHJcbmV4cG9ydCBjb25zdCBMT0NBVElPTl9QUkVDSVNJT04gPSA0O1xyXG5cclxuLyoqXHJcbiAqIEdldCB0aGUgdXNlcidzIHRpbWV6b25lXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IElBTkEgdGltZXpvbmUgc3RyaW5nIChlLmcuLCBcIkFzaWEvSmFrYXJ0YVwiKVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJUaW1lem9uZSgpIHtcclxuICB0cnkge1xyXG4gICAgcmV0dXJuIEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZTtcclxuICB9IGNhdGNoIHtcclxuICAgIHJldHVybiAnVVRDJzsgLy8gRmFsbGJhY2sgdG8gVVRDXHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogR2V0IHRoZSBjdXJyZW50IGRhdGUgaW4gdGhlIHVzZXIncyB0aW1lem9uZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdGltZXpvbmUgLSBPcHRpb25hbCB0aW1lem9uZSBvdmVycmlkZVxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBEYXRlIHN0cmluZyBpbiBZWVlZLU1NLUREIGZvcm1hdFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldExvY2FsRGF0ZSh0aW1lem9uZSA9IG51bGwpIHtcclxuICBjb25zdCB0eiA9IHRpbWV6b25lIHx8IGdldFVzZXJUaW1lem9uZSgpO1xyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLUNBJywgeyB0aW1lWm9uZTogdHogfSk7XHJcbiAgfSBjYXRjaCB7XHJcbiAgICAvLyBGYWxsYmFjayBpZiB0aW1lem9uZSBpcyBpbnZhbGlkXHJcbiAgICByZXR1cm4gbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLUNBJyk7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQ2FsY3VsYXRlIFRUTCB1bnRpbCBlbmQgb2YgZGF5IGluIHRoZSBzcGVjaWZpZWQgdGltZXpvbmVcclxuICogQHBhcmFtIHtzdHJpbmd9IHRpbWV6b25lIC0gT3B0aW9uYWwgdGltZXpvbmUgb3ZlcnJpZGVcclxuICogQHJldHVybnMge251bWJlcn0gVFRMIGluIG1pbGxpc2Vjb25kc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUVuZE9mRGF5VFRMKHRpbWV6b25lID0gbnVsbCkge1xyXG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgY29uc3QgdHogPSB0aW1lem9uZSB8fCBnZXRVc2VyVGltZXpvbmUoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gR2V0IGVuZCBvZiBkYXkgaW4gdGhlIHNwZWNpZmllZCB0aW1lem9uZVxyXG4gICAgY29uc3QgbG9jYWxEYXRlID0gbm93LnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tQ0EnLCB7IHRpbWVab25lOiB0eiB9KTtcclxuICAgIGNvbnN0IGVuZE9mRGF5ID0gbmV3IERhdGUoYCR7bG9jYWxEYXRlfVQyMzo1OTo1OS45OTlgKTtcclxuICAgIFxyXG4gICAgLy8gQWRkIDUgbWludXRlIGJ1ZmZlciBmb3IgdGltZXpvbmUgZWRnZSBjYXNlc1xyXG4gICAgY29uc3QgdHRsID0gZW5kT2ZEYXkuZ2V0VGltZSgpIC0gbm93LmdldFRpbWUoKSArICg1ICogNjAgKiAxMDAwKTtcclxuICAgIFxyXG4gICAgLy8gTWluaW11bSAxIG1pbnV0ZSBUVExcclxuICAgIHJldHVybiBNYXRoLm1heCh0dGwsIDYwICogMTAwMCk7XHJcbiAgfSBjYXRjaCB7XHJcbiAgICAvLyBGYWxsYmFjazogMjQgaG91cnNcclxuICAgIHJldHVybiAyNCAqIDYwICogNjAgKiAxMDAwO1xyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgVW5pZmllZENhY2hlTWFuYWdlciB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLm1lbW9yeUNhY2hlID0gbmV3IE1hcCgpO1xyXG4gICAgdGhpcy5pZGJDYWNoZSA9IG5ldyBJbmRleGVkREJDYWNoZSgndW1tYWgtdW5pZmllZC1jYWNoZScsICdjYWNoZScpO1xyXG4gICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5pbml0UHJvbWlzZSA9IG51bGw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplIHRoZSBjYWNoZSBtYW5hZ2VyXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XHJcbiAgICovXHJcbiAgYXN5bmMgaW5pdCgpIHtcclxuICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSByZXR1cm47XHJcbiAgICBcclxuICAgIGlmICh0aGlzLmluaXRQcm9taXNlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmluaXRQcm9taXNlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuaW5pdFByb21pc2UgPSB0aGlzLl9kb0luaXQoKTtcclxuICAgIHJldHVybiB0aGlzLmluaXRQcm9taXNlO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgX2RvSW5pdCgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHRoaXMuaWRiQ2FjaGUuaW5pdCgpO1xyXG4gICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignVW5pZmllZENhY2hlTWFuYWdlcjogSW5kZXhlZERCIGluaXQgZmFpbGVkLCB1c2luZyBtZW1vcnktb25seSBtb2RlOicsIGVycm9yKTtcclxuICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7IC8vIENvbnRpbnVlIHdpdGggbWVtb3J5LW9ubHkgbW9kZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2VuZXJhdGUgc3RhbmRhcmRpemVkIGNhY2hlIGtleVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lc3BhY2UgLSBDYWNoZSBuYW1lc3BhY2VcclxuICAgKiBAcGFyYW0gey4uLnN0cmluZ30gcGFydHMgLSBLZXkgcGFydHNcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBGb3JtYXR0ZWQgY2FjaGUga2V5XHJcbiAgICovXHJcbiAgZ2VuZXJhdGVLZXkobmFtZXNwYWNlLCAuLi5wYXJ0cykge1xyXG4gICAgcmV0dXJuIGAke25hbWVzcGFjZX06JHtwYXJ0cy5qb2luKCc6Jyl9YDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXRlIGxvY2F0aW9uLWJhc2VkIGNhY2hlIGtleSB3aXRoIGNvbnNpc3RlbnQgcHJlY2lzaW9uXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVzcGFjZSAtIENhY2hlIG5hbWVzcGFjZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsYXRpdHVkZSAtIExvY2F0aW9uIGxhdGl0dWRlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxvbmdpdHVkZSAtIExvY2F0aW9uIGxvbmdpdHVkZVxyXG4gICAqIEBwYXJhbSB7Li4uc3RyaW5nfSBleHRyYVBhcnRzIC0gQWRkaXRpb25hbCBrZXkgcGFydHNcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBGb3JtYXR0ZWQgY2FjaGUga2V5XHJcbiAgICovXHJcbiAgZ2VuZXJhdGVMb2NhdGlvbktleShuYW1lc3BhY2UsIGxhdGl0dWRlLCBsb25naXR1ZGUsIC4uLmV4dHJhUGFydHMpIHtcclxuICAgIGNvbnN0IGxhdFN0ciA9IGxhdGl0dWRlLnRvRml4ZWQoTE9DQVRJT05fUFJFQ0lTSU9OKTtcclxuICAgIGNvbnN0IGxvblN0ciA9IGxvbmdpdHVkZS50b0ZpeGVkKExPQ0FUSU9OX1BSRUNJU0lPTik7XHJcbiAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZUtleShuYW1lc3BhY2UsIGxhdFN0ciwgbG9uU3RyLCAuLi5leHRyYVBhcnRzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBmcm9tIGNhY2hlIC0gY2hlY2tzIG1lbW9yeSBmaXJzdCwgdGhlbiBJbmRleGVkREJcclxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2FjaGUga2V5XHJcbiAgICogQHJldHVybnMge1Byb21pc2U8Kj59IENhY2hlZCB2YWx1ZSBvciBudWxsXHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0KGtleSkge1xyXG4gICAgLy8gTWVtb3J5IGNhY2hlIChmYXN0ZXN0KVxyXG4gICAgaWYgKHRoaXMubWVtb3J5Q2FjaGUuaGFzKGtleSkpIHtcclxuICAgICAgY29uc3QgY2FjaGVkID0gdGhpcy5tZW1vcnlDYWNoZS5nZXQoa2V5KTtcclxuICAgICAgY29uc3QgYWdlID0gRGF0ZS5ub3coKSAtIGNhY2hlZC50aW1lc3RhbXA7XHJcblxyXG4gICAgICBpZiAoYWdlIDwgY2FjaGVkLnR0bCkge1xyXG4gICAgICAgIHJldHVybiBjYWNoZWQudmFsdWU7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIEV4cGlyZWQsIHJlbW92ZSBmcm9tIG1lbW9yeVxyXG4gICAgICB0aGlzLm1lbW9yeUNhY2hlLmRlbGV0ZShrZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEluZGV4ZWREQiAocGVyc2lzdGVudClcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgdGhpcy5pZGJDYWNoZS5nZXQoa2V5KTtcclxuICAgICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgICAgLy8gUmVzdG9yZSB0byBtZW1vcnkgY2FjaGUgZm9yIGZhc3RlciBzdWJzZXF1ZW50IGFjY2Vzc1xyXG4gICAgICAgIHRoaXMubWVtb3J5Q2FjaGUuc2V0KGtleSwge1xyXG4gICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXHJcbiAgICAgICAgICB0dGw6IENBQ0hFX0RFRkFVTFRfVFRMLlBSQVlFUl9USU1FUyAvLyBEZWZhdWx0IFRUTCBmb3IgcmVzdG9yZWQgaXRlbXNcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignVW5pZmllZENhY2hlTWFuYWdlcjogSW5kZXhlZERCIGdldCBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IGNhY2hlIC0gd3JpdGVzIHRvIGJvdGggbWVtb3J5IGFuZCBJbmRleGVkREJcclxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2FjaGUga2V5XHJcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNhY2hlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHR0bCAtIFRpbWUgdG8gbGl2ZSBpbiBtaWxsaXNlY29uZHNcclxuICAgKi9cclxuICBhc3luYyBzZXQoa2V5LCB2YWx1ZSwgdHRsID0gQ0FDSEVfREVGQVVMVF9UVEwuUFJBWUVSX1RJTUVTKSB7XHJcbiAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICB2YWx1ZSxcclxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxyXG4gICAgICB0dGxcclxuICAgIH07XHJcblxyXG4gICAgLy8gU2V0IGluIG1lbW9yeSBjYWNoZSBpbW1lZGlhdGVseVxyXG4gICAgdGhpcy5tZW1vcnlDYWNoZS5zZXQoa2V5LCBkYXRhKTtcclxuXHJcbiAgICAvLyBTZXQgaW4gSW5kZXhlZERCIGZvciBwZXJzaXN0ZW5jZVxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgdGhpcy5pZGJDYWNoZS5zZXQoa2V5LCB2YWx1ZSwgdHRsKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignVW5pZmllZENhY2hlTWFuYWdlcjogSW5kZXhlZERCIHNldCBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgICAvLyBDb250aW51ZSAtIG1lbW9yeSBjYWNoZSBpcyBzdGlsbCB2YWxpZFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGVsZXRlIGEgc3BlY2lmaWMgY2FjaGUgZW50cnlcclxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2FjaGUga2V5XHJcbiAgICovXHJcbiAgYXN5bmMgZGVsZXRlKGtleSkge1xyXG4gICAgdGhpcy5tZW1vcnlDYWNoZS5kZWxldGUoa2V5KTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHRoaXMuaWRiQ2FjaGUuZGVsZXRlKGtleSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1VuaWZpZWRDYWNoZU1hbmFnZXI6IEluZGV4ZWREQiBkZWxldGUgZmFpbGVkOicsIGVycm9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEludmFsaWRhdGUgYWxsIGNhY2hlcyBmb3IgYSBuYW1lc3BhY2VcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZXNwYWNlIC0gQ2FjaGUgbmFtZXNwYWNlXHJcbiAgICovXHJcbiAgYXN5bmMgaW52YWxpZGF0ZU5hbWVzcGFjZShuYW1lc3BhY2UpIHtcclxuICAgIGNvbnN0IHByZWZpeCA9IG5hbWVzcGFjZSArICc6JztcclxuXHJcbiAgICAvLyBDbGVhciBtZW1vcnkgY2FjaGVcclxuICAgIGZvciAoY29uc3Qga2V5IG9mIHRoaXMubWVtb3J5Q2FjaGUua2V5cygpKSB7XHJcbiAgICAgIGlmIChrZXkuc3RhcnRzV2l0aChwcmVmaXgpKSB7XHJcbiAgICAgICAgdGhpcy5tZW1vcnlDYWNoZS5kZWxldGUoa2V5KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENsZWFyIEluZGV4ZWREQiBlbnRyaWVzXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBrZXlzID0gYXdhaXQgdGhpcy5pZGJDYWNoZS5rZXlzKCk7XHJcbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcclxuICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgocHJlZml4KSkge1xyXG4gICAgICAgICAgYXdhaXQgdGhpcy5pZGJDYWNoZS5kZWxldGUoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignVW5pZmllZENhY2hlTWFuYWdlcjogTmFtZXNwYWNlIGludmFsaWRhdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2xlYXIgYWxsIGNhY2hlc1xyXG4gICAqL1xyXG4gIGFzeW5jIGNsZWFyKCkge1xyXG4gICAgdGhpcy5tZW1vcnlDYWNoZS5jbGVhcigpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgdGhpcy5pZGJDYWNoZS5jbGVhcigpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdVbmlmaWVkQ2FjaGVNYW5hZ2VyOiBDbGVhciBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2xlYXIgZXhwaXJlZCBlbnRyaWVzIGZyb20gYWxsIGNhY2hlc1xyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPG51bWJlcj59IE51bWJlciBvZiBlbnRyaWVzIGNsZWFyZWRcclxuICAgKi9cclxuICBhc3luYyBjbGVhckV4cGlyZWQoKSB7XHJcbiAgICBsZXQgY2xlYXJlZCA9IDA7XHJcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgIC8vIENsZWFyIGV4cGlyZWQgbWVtb3J5IGNhY2hlIGVudHJpZXNcclxuICAgIGZvciAoY29uc3QgW2tleSwgZGF0YV0gb2YgdGhpcy5tZW1vcnlDYWNoZS5lbnRyaWVzKCkpIHtcclxuICAgICAgaWYgKG5vdyAtIGRhdGEudGltZXN0YW1wID49IGRhdGEudHRsKSB7XHJcbiAgICAgICAgdGhpcy5tZW1vcnlDYWNoZS5kZWxldGUoa2V5KTtcclxuICAgICAgICBjbGVhcmVkKys7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDbGVhciBleHBpcmVkIEluZGV4ZWREQiBlbnRyaWVzXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBpZGJDbGVhcmVkID0gYXdhaXQgdGhpcy5pZGJDYWNoZS5jbGVhckV4cGlyZWQoKTtcclxuICAgICAgY2xlYXJlZCArPSBpZGJDbGVhcmVkO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdVbmlmaWVkQ2FjaGVNYW5hZ2VyOiBFeHBpcmVkIGNsZWFyIGZhaWxlZDonLCBlcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNsZWFyZWQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgY2FjaGUgc3RhdGlzdGljc1xyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IENhY2hlIHN0YXRpc3RpY3NcclxuICAgKi9cclxuICBhc3luYyBnZXRTdGF0cygpIHtcclxuICAgIGNvbnN0IG1lbW9yeVNpemUgPSB0aGlzLm1lbW9yeUNhY2hlLnNpemU7XHJcbiAgICBsZXQgaWRiU3RhdHMgPSB7IHRvdGFsRW50cmllczogMCwgdmFsaWRFbnRyaWVzOiAwLCBleHBpcmVkRW50cmllczogMCB9O1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGlkYlN0YXRzID0gYXdhaXQgdGhpcy5pZGJDYWNoZS5nZXRTdGF0cygpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdVbmlmaWVkQ2FjaGVNYW5hZ2VyOiBTdGF0cyBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIG1lbW9yeUVudHJpZXM6IG1lbW9yeVNpemUsXHJcbiAgICAgIC4uLmlkYlN0YXRzLFxyXG4gICAgICB0b3RhbEVudHJpZXM6IG1lbW9yeVNpemUgKyBpZGJTdGF0cy50b3RhbEVudHJpZXNcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgY2FjaGVkIHZhbHVlIG9yIGZldGNoIGlmIG5vdCBhdmFpbGFibGVcclxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2FjaGUga2V5XHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmV0Y2hGbiAtIEFzeW5jIGZ1bmN0aW9uIHRvIGZldGNoIGZyZXNoIGRhdGFcclxuICAgKiBAcGFyYW0ge251bWJlcn0gdHRsIC0gVGltZSB0byBsaXZlIGluIG1pbGxpc2Vjb25kc1xyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPCo+fSBDYWNoZWQgb3IgZmV0Y2hlZCB2YWx1ZVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldE9yRmV0Y2goa2V5LCBmZXRjaEZuLCB0dGwpIHtcclxuICAgIGNvbnN0IGNhY2hlZCA9IGF3YWl0IHRoaXMuZ2V0KGtleSk7XHJcbiAgICBpZiAoY2FjaGVkICE9PSBudWxsKSB7XHJcbiAgICAgIHJldHVybiBjYWNoZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdmFsdWUgPSBhd2FpdCBmZXRjaEZuKCk7XHJcbiAgICBhd2FpdCB0aGlzLnNldChrZXksIHZhbHVlLCB0dGwpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGNhY2hlZCB2YWx1ZSB3aXRoIHN0YWxlLXdoaWxlLXJldmFsaWRhdGUgcGF0dGVyblxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBDYWNoZSBrZXlcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmZXRjaEZuIC0gQXN5bmMgZnVuY3Rpb24gdG8gZmV0Y2ggZnJlc2ggZGF0YVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0dGwgLSBUaW1lIHRvIGxpdmUgaW4gbWlsbGlzZWNvbmRzXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0YWxlVFRMIC0gVGltZSBiZWZvcmUgY29uc2lkZXJpbmcgY2FjaGUgc3RhbGUgKGRlZmF1bHQ6IDgwJSBvZiBUVEwpXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8e3ZhbHVlOiAqLCBpc1N0YWxlOiBib29sZWFufT59IENhY2hlZCB2YWx1ZSBhbmQgc3RhbGVuZXNzIGZsYWdcclxuICAgKi9cclxuICBhc3luYyBnZXRPckZldGNoU3RhbGUoa2V5LCBmZXRjaEZuLCB0dGwsIHN0YWxlVFRMID0gdHRsICogMC44KSB7XHJcbiAgICAvLyBDaGVjayBtZW1vcnkgY2FjaGUgZmlyc3RcclxuICAgIGlmICh0aGlzLm1lbW9yeUNhY2hlLmhhcyhrZXkpKSB7XHJcbiAgICAgIGNvbnN0IGNhY2hlZCA9IHRoaXMubWVtb3J5Q2FjaGUuZ2V0KGtleSk7XHJcbiAgICAgIGNvbnN0IGFnZSA9IERhdGUubm93KCkgLSBjYWNoZWQudGltZXN0YW1wO1xyXG5cclxuICAgICAgaWYgKGFnZSA8IGNhY2hlZC50dGwpIHtcclxuICAgICAgICBjb25zdCBpc1N0YWxlID0gYWdlID4gc3RhbGVUVEw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUmVmcmVzaCBpbiBiYWNrZ3JvdW5kIGlmIHN0YWxlXHJcbiAgICAgICAgaWYgKGlzU3RhbGUpIHtcclxuICAgICAgICAgIHRoaXMuX3JlZnJlc2hJbkJhY2tncm91bmQoa2V5LCBmZXRjaEZuLCB0dGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4geyB2YWx1ZTogY2FjaGVkLnZhbHVlLCBpc1N0YWxlIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBJbmRleGVkREJcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgdGhpcy5pZGJDYWNoZS5nZXQoa2V5KTtcclxuICAgICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgICAgLy8gUmVzdG9yZSB0byBtZW1vcnkgY2FjaGVcclxuICAgICAgICB0aGlzLm1lbW9yeUNhY2hlLnNldChrZXksIHsgdmFsdWUsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSwgdHRsIH0pO1xyXG4gICAgICAgIHJldHVybiB7IHZhbHVlLCBpc1N0YWxlOiB0cnVlIH07IC8vIEFzc3VtZSBzdGFsZSBpZiBmcm9tIElEQlxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1VuaWZpZWRDYWNoZU1hbmFnZXI6IElEQiBnZXQgZmFpbGVkOicsIGVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBObyBjYWNoZSwgZmV0Y2ggZnJlc2hcclxuICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgZmV0Y2hGbigpO1xyXG4gICAgYXdhaXQgdGhpcy5zZXQoa2V5LCB2YWx1ZSwgdHRsKTtcclxuICAgIHJldHVybiB7IHZhbHVlLCBpc1N0YWxlOiBmYWxzZSB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVmcmVzaCBjYWNoZSBpbiBiYWNrZ3JvdW5kXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBhc3luYyBfcmVmcmVzaEluQmFja2dyb3VuZChrZXksIGZldGNoRm4sIHR0bCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBmZXRjaEZuKCk7XHJcbiAgICAgIGF3YWl0IHRoaXMuc2V0KGtleSwgdmFsdWUsIHR0bCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1VuaWZpZWRDYWNoZU1hbmFnZXI6IEJhY2tncm91bmQgcmVmcmVzaCBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gU2luZ2xldG9uIGluc3RhbmNlXHJcbmV4cG9ydCBjb25zdCB1bmlmaWVkQ2FjaGUgPSBuZXcgVW5pZmllZENhY2hlTWFuYWdlcigpO1xyXG5cclxuLy8gQXV0by1pbml0aWFsaXplIG9uIGZpcnN0IGltcG9ydFxyXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICB1bmlmaWVkQ2FjaGUuaW5pdCgpLmNhdGNoKGNvbnNvbGUud2Fybik7XHJcbn1cclxuIiwiLyoqXHJcbiAqIFByYXllclRpbWVzU2VydmljZSAtIFNpbmdsZSBTb3VyY2Ugb2YgVHJ1dGggZm9yIFByYXllciBUaW1lc1xyXG4gKiBcclxuICogVGhpcyBzZXJ2aWNlIGNvbnNvbGlkYXRlcyBhbGwgcHJheWVyIHRpbWUgbG9naWMgdGhhdCB3YXMgcHJldmlvdXNseVxyXG4gKiBkdXBsaWNhdGVkIGJldHdlZW4gbWFycXVlZS5qcyBhbmQgZmVlZC5qcy4gSXQgcHJvdmlkZXM6XHJcbiAqIFxyXG4gKiAtIFVuaWZpZWQgbG9jYXRpb24gbWFuYWdlbWVudCB3aXRoIHF1YWxpdHkgdHJhY2tpbmdcclxuICogLSBUaW1lem9uZS1hd2FyZSBjYWNoZSBrZXlzIGFuZCBUVEwgY2FsY3VsYXRpb25cclxuICogLSBQcm9wZXIgZmFsbGJhY2sgY2hhaW4gKEdQUyDihpIgQ2FjaGVkIOKGkiBKYWthcnRhKVxyXG4gKiAtIEV2ZW50LWJhc2VkIGNhY2hlIGludmFsaWRhdGlvblxyXG4gKiAtIFN1YnNjcmliZXIgcGF0dGVybiBmb3IgVUkgdXBkYXRlc1xyXG4gKi9cclxuXHJcbmltcG9ydCB7IHVuaWZpZWRDYWNoZSwgQ0FDSEVfTkFNRVNQQUNFUywgQ0FDSEVfREVGQVVMVF9UVEwgfSBmcm9tICcuL3VuaWZpZWQtY2FjaGUuanMnO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBDb25zdGFudHNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIExvY2F0aW9uIHF1YWxpdHkgbGV2ZWxzIC0gdXNlZCBpbiBjYWNoZSBrZXlzIHRvIGRpc3Rpbmd1aXNoIGRhdGEgc291cmNlc1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IExPQ0FUSU9OX1FVQUxJVFkgPSB7XHJcbiAgR1BTX0ZSRVNIOiAnZ3BzX2ZyZXNoJywgICAgICAvLyBGcmVzaCBHUFMgY29vcmRpbmF0ZXMgZnJvbSBjdXJyZW50IHNlc3Npb25cclxuICBHUFNfQ0FDSEVEOiAnZ3BzX2NhY2hlZCcsICAgIC8vIENhY2hlZCBHUFMgY29vcmRpbmF0ZXMgZnJvbSBwcmV2aW91cyBzZXNzaW9uXHJcbiAgRkFMTEJBQ0s6ICdmYWxsYmFjaycgICAgICAgICAvLyBKYWthcnRhIGZhbGxiYWNrIChubyBHUFMgYXZhaWxhYmxlKVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEdlb2xvY2F0aW9uIG9wdGlvbnMgZm9yIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb25cclxuICovXHJcbmNvbnN0IEdFT0xPQ0FUSU9OX09QVElPTlMgPSB7XHJcbiAgZW5hYmxlSGlnaEFjY3VyYWN5OiBmYWxzZSwgICAvLyBGYXN0ZXIsIGxlc3MgYWNjdXJhdGUgaXMgT0sgZm9yIHByYXllciB0aW1lc1xyXG4gIHRpbWVvdXQ6IDEwMDAwLCAgICAgICAgICAgICAgLy8gMTAgc2Vjb25kcyBtYXhcclxuICBtYXhpbXVtQWdlOiAzMDAwMDAgICAgICAgICAgIC8vIEFsbG93IGJyb3dzZXIgY2FjaGUgdXAgdG8gNSBtaW51dGVzXHJcbn07XHJcblxyXG4vKipcclxuICogQ09SUyBwcm94eSBmYWxsYmFja3MgZm9yIGdlb2NvZGluZyAoTm9taW5hdGltIGRvZXNuJ3QgYWxsb3cgQ09SUylcclxuICovXHJcbmNvbnN0IENPUlNfUFJPWElFUyA9IFtcclxuICAnaHR0cHM6Ly9jb3JzcHJveHkuaW8vPycsXHJcbiAgJ2h0dHBzOi8vYXBpLmFsbG9yaWdpbnMud2luL3Jhdz91cmw9J1xyXG5dO1xyXG5cclxuLyoqXHJcbiAqIERlZmF1bHQgZmFsbGJhY2sgbG9jYXRpb24gKEpha2FydGEsIEluZG9uZXNpYSlcclxuICovXHJcbmNvbnN0IERFRkFVTFRfTE9DQVRJT04gPSB7XHJcbiAgbGF0aXR1ZGU6IC02LjIwODgsXHJcbiAgbG9uZ2l0dWRlOiAxMDYuODQ1NixcclxuICBjaXR5OiBcIkpha2FydGFcIixcclxuICBjb3VudHJ5OiBcIkluZG9uZXNpYVwiXHJcbn07XHJcblxyXG4vKipcclxuICogQ2FjaGUgVFRMIGNvbnN0YW50cyAoaW4gbWlsbGlzZWNvbmRzKVxyXG4gKi9cclxuY29uc3QgQ0FDSEVfVFRMID0ge1xyXG4gIExPQ0FUSU9OOiAzMCAqIDYwICogMTAwMCwgICAgICAgICAgIC8vIDMwIG1pbnV0ZXNcclxuICBQUkFZRVJfVElNRVM6IDI0ICogNjAgKiA2MCAqIDEwMDAsICAvLyAyNCBob3VycyAodW50aWwgZW5kIG9mIGRheSlcclxuICBHRU9DT0RJTkc6IDcgKiAyNCAqIDYwICogNjAgKiAxMDAwICAvLyA3IGRheXNcclxufTtcclxuXHJcbi8qKlxyXG4gKiBQcmF5ZXIgbmFtZXMgaW4gb3JkZXJcclxuICovXHJcbmNvbnN0IFBSQVlFUl9OQU1FUyA9IFsnRmFqcicsICdEaHVocicsICdBc3InLCAnTWFnaHJpYicsICdJc2hhJ107XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFByYXllclRpbWVzU2VydmljZSBDbGFzc1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5jbGFzcyBQcmF5ZXJUaW1lc1NlcnZpY2Uge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgLy8gU3RhdGVcclxuICAgIHRoaXMubG9jYXRpb24gPSBudWxsO1xyXG4gICAgdGhpcy5wcmF5ZXJUaW1lcyA9IG51bGw7XHJcbiAgICB0aGlzLm5leHRQcmF5ZXIgPSBudWxsO1xyXG4gICAgdGhpcy50aW1lVG9OZXh0UHJheWVyID0gbnVsbDtcclxuICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XHJcbiAgICB0aGlzLmVycm9yID0gbnVsbDtcclxuICAgIHRoaXMubGFzdERhdGUgPSBudWxsO1xyXG4gICAgXHJcbiAgICAvLyBTdWJzY3JpYmVycyBmb3Igc3RhdGUgY2hhbmdlc1xyXG4gICAgdGhpcy5saXN0ZW5lcnMgPSBuZXcgU2V0KCk7XHJcbiAgICBcclxuICAgIC8vIEluaXRpYWxpemF0aW9uIHN0YXRlXHJcbiAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmluaXRQcm9taXNlID0gbnVsbDtcclxuICAgIFxyXG4gICAgLy8gVXBkYXRlIGludGVydmFsXHJcbiAgICB0aGlzLnVwZGF0ZUludGVydmFsID0gbnVsbDtcclxuICAgIFxyXG4gICAgLy8gQmluZCBtZXRob2RzXHJcbiAgICB0aGlzLmhhbmRsZU9ubGluZSA9IHRoaXMuaGFuZGxlT25saW5lLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmhhbmRsZU9mZmxpbmUgPSB0aGlzLmhhbmRsZU9mZmxpbmUuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSA9IHRoaXMuaGFuZGxlVmlzaWJpbGl0eUNoYW5nZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBJbml0aWFsaXphdGlvblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemUgdGhlIHNlcnZpY2VcclxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIEluaXRpYWxpemF0aW9uIG9wdGlvbnNcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuZm9yY2VSZWZyZXNoIC0gRm9yY2UgcmVmcmVzaCBsb2NhdGlvbiBhbmQgcHJheWVyIHRpbWVzXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XHJcbiAgICovXHJcbiAgYXN5bmMgaW5pdChvcHRpb25zID0ge30pIHtcclxuICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSByZXR1cm47XHJcbiAgICBcclxuICAgIGlmICh0aGlzLmluaXRQcm9taXNlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmluaXRQcm9taXNlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuaW5pdFByb21pc2UgPSB0aGlzLl9kb0luaXQob3B0aW9ucyk7XHJcbiAgICByZXR1cm4gdGhpcy5pbml0UHJvbWlzZTtcclxuICB9XHJcblxyXG4gIGFzeW5jIF9kb0luaXQob3B0aW9ucykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xyXG4gICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycygnbG9hZGluZycpO1xyXG5cclxuICAgICAgLy8gSW5pdGlhbGl6ZSB1bmlmaWVkIGNhY2hlXHJcbiAgICAgIGF3YWl0IHVuaWZpZWRDYWNoZS5pbml0KCk7XHJcblxyXG4gICAgICAvLyBHZXQgbG9jYXRpb24gKHdpdGggY2FjaGUgY2hlY2spXHJcbiAgICAgIHRoaXMubG9jYXRpb24gPSBhd2FpdCB0aGlzLmdldExvY2F0aW9uKHsgXHJcbiAgICAgICAgZm9yY2VSZWZyZXNoOiBvcHRpb25zLmZvcmNlUmVmcmVzaCBcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBGZXRjaCBwcmF5ZXIgdGltZXMgKHdpdGggY2FjaGUgY2hlY2spXHJcbiAgICAgIHRoaXMucHJheWVyVGltZXMgPSBhd2FpdCB0aGlzLmZldGNoUHJheWVyVGltZXMoKTtcclxuXHJcbiAgICAgIC8vIENhbGN1bGF0ZSBuZXh0IHByYXllclxyXG4gICAgICB0aGlzLmNhbGN1bGF0ZU5leHRQcmF5ZXIoKTtcclxuXHJcbiAgICAgIC8vIFNldHVwIGV2ZW50IGhhbmRsZXJzXHJcbiAgICAgIHRoaXMuc2V0dXBFdmVudEhhbmRsZXJzKCk7XHJcblxyXG4gICAgICAvLyBTZXR1cCB1cGRhdGUgaW50ZXJ2YWwgKGV2ZXJ5IHNlY29uZCBmb3IgY2xvY2spXHJcbiAgICAgIHRoaXMuc2V0dXBVcGRhdGVJbnRlcnZhbCgpO1xyXG5cclxuICAgICAgLy8gU2V0dXAgZGF0ZSBjaGFuZ2UgZGV0ZWN0aW9uXHJcbiAgICAgIHRoaXMuc2V0dXBEYXRlQ2hhbmdlRGV0ZWN0aW9uKCk7XHJcblxyXG4gICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgdGhpcy5lcnJvciA9IG51bGw7XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycygnaW5pdGlhbGl6ZWQnKTtcclxuICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdQcmF5ZXJUaW1lc1NlcnZpY2UgaW5pdGlhbGl6YXRpb24gZmFpbGVkOicsIGVycm9yKTtcclxuICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xyXG4gICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycygnZXJyb3InLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBMb2NhdGlvbiBNYW5hZ2VtZW50XHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHVzZXIncyBsb2NhdGlvbiB3aXRoIHByb3BlciBjYWNoaW5nIGFuZCBmYWxsYmFja1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT3B0aW9uc1xyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5mb3JjZVJlZnJlc2ggLSBGb3JjZSBHUFMgcmVmcmVzaFxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLm1heEFnZSAtIE1heGltdW0gYWdlIG9mIGNhY2hlZCBsb2NhdGlvbiAobXMpXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gTG9jYXRpb24gb2JqZWN0IHdpdGggcXVhbGl0eVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldExvY2F0aW9uKG9wdGlvbnMgPSB7fSkge1xyXG4gICAgY29uc3QgeyBmb3JjZVJlZnJlc2ggPSBmYWxzZSwgbWF4QWdlID0gQ0FDSEVfVFRMLkxPQ0FUSU9OIH0gPSBvcHRpb25zO1xyXG4gICAgY29uc3QgY2FjaGVLZXkgPSB1bmlmaWVkQ2FjaGUuZ2VuZXJhdGVLZXkoQ0FDSEVfTkFNRVNQQUNFUy5MT0NBVElPTiwgJ2N1cnJlbnQnKTtcclxuXHJcbiAgICAvLyBDaGVjayBjYWNoZSBmaXJzdCAodW5sZXNzIGZvcmNlIHJlZnJlc2gpXHJcbiAgICBpZiAoIWZvcmNlUmVmcmVzaCkge1xyXG4gICAgICBjb25zdCBjYWNoZWQgPSBhd2FpdCB1bmlmaWVkQ2FjaGUuZ2V0KGNhY2hlS2V5KTtcclxuICAgICAgaWYgKGNhY2hlZCAmJiB0aGlzLmlzTG9jYXRpb25GcmVzaChjYWNoZWQsIG1heEFnZSkpIHtcclxuICAgICAgICAvLyBJZiBjYWNoZWQgbG9jYXRpb24gaXMgbWlzc2luZyBjaXR5L2NvdW50cnksIHRyeSB0byByZXN0b3JlIGZyb20gZ2VvY29kaW5nIGNhY2hlXHJcbiAgICAgICAgaWYgKCghY2FjaGVkLmNpdHkgfHwgY2FjaGVkLmNpdHkgPT09ICdVbmtub3duJykgJiYgY2FjaGVkLmxhdGl0dWRlICYmIGNhY2hlZC5sb25naXR1ZGUpIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdlb2NvZGluZ0tleSA9IHVuaWZpZWRDYWNoZS5nZW5lcmF0ZUxvY2F0aW9uS2V5KFxyXG4gICAgICAgICAgICAgIENBQ0hFX05BTUVTUEFDRVMuR0VPQ09ESU5HLFxyXG4gICAgICAgICAgICAgIGNhY2hlZC5sYXRpdHVkZSxcclxuICAgICAgICAgICAgICBjYWNoZWQubG9uZ2l0dWRlXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGNvbnN0IGdlb2NvZGVkID0gYXdhaXQgdW5pZmllZENhY2hlLmdldChnZW9jb2RpbmdLZXkpO1xyXG4gICAgICAgICAgICBpZiAoZ2VvY29kZWQpIHtcclxuICAgICAgICAgICAgICBjYWNoZWQuY2l0eSA9IGdlb2NvZGVkLmNpdHk7XHJcbiAgICAgICAgICAgICAgY2FjaGVkLmNvdW50cnkgPSBnZW9jb2RlZC5jb3VudHJ5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIC8vIElnbm9yZSAtIHdpbGwgc2hvdyBVbmtub3duXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbUHJheWVyVGltZXNTZXJ2aWNlXSBVc2luZyBjYWNoZWQgbG9jYXRpb246JywgY2FjaGVkKTtcclxuICAgICAgICByZXR1cm4geyAuLi5jYWNoZWQsIHF1YWxpdHk6IExPQ0FUSU9OX1FVQUxJVFkuR1BTX0NBQ0hFRCB9O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVxdWVzdCBHUFMgcG9zaXRpb25cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gYXdhaXQgdGhpcy5yZXF1ZXN0R1BTUG9zaXRpb24oKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGxvY2F0aW9uID0ge1xyXG4gICAgICAgIGxhdGl0dWRlOiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsXHJcbiAgICAgICAgbG9uZ2l0dWRlOiBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlLFxyXG4gICAgICAgIGFjY3VyYWN5OiBwb3NpdGlvbi5jb29yZHMuYWNjdXJhY3ksXHJcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxyXG4gICAgICAgIHF1YWxpdHk6IExPQ0FUSU9OX1FVQUxJVFkuR1BTX0ZSRVNIXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBGZXRjaCBjaXR5IG5hbWUgQkVGT1JFIGNhY2hpbmcgLSBhd2FpdCBpdCBzbyBjYWNoZSBoYXMgY29tcGxldGUgZGF0YVxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuZmV0Y2hDaXR5TmFtZShsb2NhdGlvbik7XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignW1ByYXllclRpbWVzU2VydmljZV0gR2VvY29kaW5nIGZhaWxlZDonLCBlcnIpO1xyXG4gICAgICAgIC8vIENvbnRpbnVlIHdpdGggVW5rbm93biBjaXR5IC0gd2lsbCBzdGlsbCB3b3JrIGZvciBwcmF5ZXIgdGltZXNcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2FjaGUgdGhlIGxvY2F0aW9uIFdJVEggY2l0eS9jb3VudHJ5IGRhdGFcclxuICAgICAgYXdhaXQgdW5pZmllZENhY2hlLnNldChjYWNoZUtleSwgbG9jYXRpb24sIENBQ0hFX1RUTC5MT0NBVElPTik7XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygnW1ByYXllclRpbWVzU2VydmljZV0gR290IGZyZXNoIEdQUyBsb2NhdGlvbjonLCBsb2NhdGlvbik7XHJcbiAgICAgIHJldHVybiBsb2NhdGlvbjtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1tQcmF5ZXJUaW1lc1NlcnZpY2VdIEdQUyBmYWlsZWQsIHVzaW5nIGZhbGxiYWNrOicsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICByZXR1cm4gdGhpcy5nZXRMb2NhdGlvbkZhbGxiYWNrKGVycm9yLCBjYWNoZUtleSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXF1ZXN0IEdQUyBwb3NpdGlvbiB2aWEgbmF2aWdhdG9yLmdlb2xvY2F0aW9uXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8R2VvbG9jYXRpb25Qb3NpdGlvbj59XHJcbiAgICovXHJcbiAgcmVxdWVzdEdQU1Bvc2l0aW9uKCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgaWYgKCFuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pIHtcclxuICAgICAgICByZWplY3QobmV3IEVycm9yKCdHZW9sb2NhdGlvbiBub3Qgc3VwcG9ydGVkJykpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihcclxuICAgICAgICByZXNvbHZlLFxyXG4gICAgICAgIHJlamVjdCxcclxuICAgICAgICBHRU9MT0NBVElPTl9PUFRJT05TXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBmYWxsYmFjayBsb2NhdGlvbiB3aGVuIEdQUyBmYWlsc1xyXG4gICAqIEBwYXJhbSB7RXJyb3J9IGVycm9yIC0gVGhlIEdQUyBlcnJvclxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjYWNoZUtleSAtIENhY2hlIGtleSBmb3IgZXhwaXJlZCBjYWNoZSBsb29rdXBcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBGYWxsYmFjayBsb2NhdGlvblxyXG4gICAqL1xyXG4gIGFzeW5jIGdldExvY2F0aW9uRmFsbGJhY2soZXJyb3IsIGNhY2hlS2V5KSB7XHJcbiAgICAvLyBUcnkgZXhwaXJlZCBjYWNoZSBmaXJzdFxyXG4gICAgY29uc3QgZXhwaXJlZENhY2hlID0gYXdhaXQgdGhpcy5nZXRFeHBpcmVkTG9jYXRpb25DYWNoZShjYWNoZUtleSk7XHJcbiAgICBpZiAoZXhwaXJlZENhY2hlICYmIGV4cGlyZWRDYWNoZS5xdWFsaXR5ICE9PSBMT0NBVElPTl9RVUFMSVRZLkZBTExCQUNLKSB7XHJcbiAgICAgIC8vIElmIGV4cGlyZWQgY2FjaGUgaXMgbWlzc2luZyBjaXR5L2NvdW50cnksIHRyeSB0byByZXN0b3JlIGZyb20gZ2VvY29kaW5nIGNhY2hlXHJcbiAgICAgIGlmICghZXhwaXJlZENhY2hlLmNpdHkgfHwgZXhwaXJlZENhY2hlLmNpdHkgPT09ICdVbmtub3duJykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBnZW9jb2RpbmdLZXkgPSB1bmlmaWVkQ2FjaGUuZ2VuZXJhdGVMb2NhdGlvbktleShcclxuICAgICAgICAgICAgQ0FDSEVfTkFNRVNQQUNFUy5HRU9DT0RJTkcsXHJcbiAgICAgICAgICAgIGV4cGlyZWRDYWNoZS5sYXRpdHVkZSxcclxuICAgICAgICAgICAgZXhwaXJlZENhY2hlLmxvbmdpdHVkZVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGNvbnN0IGdlb2NvZGVkID0gYXdhaXQgdW5pZmllZENhY2hlLmdldChnZW9jb2RpbmdLZXkpO1xyXG4gICAgICAgICAgaWYgKGdlb2NvZGVkKSB7XHJcbiAgICAgICAgICAgIGV4cGlyZWRDYWNoZS5jaXR5ID0gZ2VvY29kZWQuY2l0eTtcclxuICAgICAgICAgICAgZXhwaXJlZENhY2hlLmNvdW50cnkgPSBnZW9jb2RlZC5jb3VudHJ5O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIC8vIElnbm9yZSAtIHdpbGwgc2hvdyBVbmtub3duXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygnW1ByYXllclRpbWVzU2VydmljZV0gVXNpbmcgZXhwaXJlZCBjYWNoZSBhcyBmYWxsYmFjazonLCBleHBpcmVkQ2FjaGUpO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLmV4cGlyZWRDYWNoZSxcclxuICAgICAgICBxdWFsaXR5OiBMT0NBVElPTl9RVUFMSVRZLkdQU19DQUNIRUQsXHJcbiAgICAgICAgaXNFeHBpcmVkOiB0cnVlXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXNlIEpha2FydGEgZmFsbGJhY2tcclxuICAgIHJldHVybiB7XHJcbiAgICAgIC4uLkRFRkFVTFRfTE9DQVRJT04sXHJcbiAgICAgIHF1YWxpdHk6IExPQ0FUSU9OX1FVQUxJVFkuRkFMTEJBQ0ssXHJcbiAgICAgIGZhbGxiYWNrUmVhc29uOiB0aGlzLmdldEdQU0Vycm9yTWVzc2FnZShlcnJvciksXHJcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBleHBpcmVkIGxvY2F0aW9uIGNhY2hlIChpZ25vcmluZyBUVEwpXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNhY2hlS2V5IC0gQ2FjaGUga2V5XHJcbiAgICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0fG51bGw+fVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldEV4cGlyZWRMb2NhdGlvbkNhY2hlKGNhY2hlS2V5KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBBY2Nlc3MgSW5kZXhlZERCIGRpcmVjdGx5IHRvIGdldCBleHBpcmVkIGNhY2hlXHJcbiAgICAgIGlmICghdW5pZmllZENhY2hlLmlkYkNhY2hlIHx8ICF1bmlmaWVkQ2FjaGUuaWRiQ2FjaGUuZGIpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgZGIgPSB1bmlmaWVkQ2FjaGUuaWRiQ2FjaGUuZGI7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKFsnY2FjaGUnXSwgJ3JlYWRvbmx5Jyk7XHJcbiAgICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZSgnY2FjaGUnKTtcclxuICAgICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUuZ2V0KGNhY2hlS2V5KTtcclxuXHJcbiAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSByZXF1ZXN0LnJlc3VsdDtcclxuICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJlc29sdmUocmVzdWx0LnZhbHVlKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4gcmVzb2x2ZShudWxsKTtcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIGNhY2hlZCBsb2NhdGlvbiBpcyBmcmVzaFxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBsb2NhdGlvbiAtIENhY2hlZCBsb2NhdGlvblxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhBZ2UgLSBNYXhpbXVtIGFnZSBpbiBtc1xyXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAqL1xyXG4gIGlzTG9jYXRpb25GcmVzaChsb2NhdGlvbiwgbWF4QWdlKSB7XHJcbiAgICBpZiAoIWxvY2F0aW9uIHx8ICFsb2NhdGlvbi50aW1lc3RhbXApIHJldHVybiBmYWxzZTtcclxuICAgIHJldHVybiBEYXRlLm5vdygpIC0gbG9jYXRpb24udGltZXN0YW1wIDwgbWF4QWdlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGh1bWFuLXJlYWRhYmxlIEdQUyBlcnJvciBtZXNzYWdlXHJcbiAgICogQHBhcmFtIHtHZW9sb2NhdGlvblBvc2l0aW9uRXJyb3J9IGVycm9yIFxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICovXHJcbiAgZ2V0R1BTRXJyb3JNZXNzYWdlKGVycm9yKSB7XHJcbiAgICBzd2l0Y2ggKGVycm9yLmNvZGUpIHtcclxuICAgICAgY2FzZSBlcnJvci5QRVJNSVNTSU9OX0RFTklFRDpcclxuICAgICAgICByZXR1cm4gJ1Blcm1pc3Npb24gZGVuaWVkJztcclxuICAgICAgY2FzZSBlcnJvci5QT1NJVElPTl9VTkFWQUlMQUJMRTpcclxuICAgICAgICByZXR1cm4gJ1Bvc2l0aW9uIHVuYXZhaWxhYmxlJztcclxuICAgICAgY2FzZSBlcnJvci5USU1FT1VUOlxyXG4gICAgICAgIHJldHVybiAnUmVxdWVzdCB0aW1lZCBvdXQnO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiBlcnJvci5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gR2VvY29kaW5nXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgLyoqXHJcbiAgICogRmV0Y2ggY2l0eSBuYW1lIHVzaW5nIHJldmVyc2UgZ2VvY29kaW5nXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGxvY2F0aW9uIC0gTG9jYXRpb24gb2JqZWN0IChtb2RpZmllZCBpbiBwbGFjZSlcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cclxuICAgKi9cclxuICBhc3luYyBmZXRjaENpdHlOYW1lKGxvY2F0aW9uKSB7XHJcbiAgICBpZiAoIWxvY2F0aW9uIHx8IGxvY2F0aW9uLnF1YWxpdHkgPT09IExPQ0FUSU9OX1FVQUxJVFkuRkFMTEJBQ0spIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGdlb2NvZGluZyBjYWNoZSBmaXJzdFxyXG4gICAgY29uc3QgZ2VvY29kaW5nS2V5ID0gdW5pZmllZENhY2hlLmdlbmVyYXRlTG9jYXRpb25LZXkoXHJcbiAgICAgIENBQ0hFX05BTUVTUEFDRVMuR0VPQ09ESU5HLFxyXG4gICAgICBsb2NhdGlvbi5sYXRpdHVkZSxcclxuICAgICAgbG9jYXRpb24ubG9uZ2l0dWRlXHJcbiAgICApO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGNhY2hlZCA9IGF3YWl0IHVuaWZpZWRDYWNoZS5nZXQoZ2VvY29kaW5nS2V5KTtcclxuICAgICAgaWYgKGNhY2hlZCkge1xyXG4gICAgICAgIGxvY2F0aW9uLmNpdHkgPSBjYWNoZWQuY2l0eTtcclxuICAgICAgICBsb2NhdGlvbi5jb3VudHJ5ID0gY2FjaGVkLmNvdW50cnk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1tQcmF5ZXJUaW1lc1NlcnZpY2VdIEdlb2NvZGluZyBjYWNoZSByZWFkIGVycm9yOicsIGVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUcnkgb3VyIG93biBzZXJ2ZXJsZXNzIEFQSSBmaXJzdCAobm8gQ09SUyBpc3N1ZXMpXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xyXG4gICAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgNTAwMCk7XHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxyXG4gICAgICAgIGAvYXBpL2dlb2NvZGU/bGF0PSR7bG9jYXRpb24ubGF0aXR1ZGV9Jmxvbj0ke2xvY2F0aW9uLmxvbmdpdHVkZX1gLFxyXG4gICAgICAgIHsgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCB9XHJcbiAgICAgICk7XHJcbiAgICAgIFxyXG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuXHJcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgbG9jYXRpb24uY2l0eSA9IGRhdGEuY2l0eSB8fCBcIlVua25vd25cIjtcclxuICAgICAgICBsb2NhdGlvbi5jb3VudHJ5ID0gZGF0YS5jb3VudHJ5IHx8IFwiVW5rbm93blwiO1xyXG5cclxuICAgICAgICAvLyBDYWNoZSB0aGUgZ2VvY29kaW5nIHJlc3VsdFxyXG4gICAgICAgIGF3YWl0IHVuaWZpZWRDYWNoZS5zZXQoXHJcbiAgICAgICAgICBnZW9jb2RpbmdLZXksXHJcbiAgICAgICAgICB7IGNpdHk6IGxvY2F0aW9uLmNpdHksIGNvdW50cnk6IGxvY2F0aW9uLmNvdW50cnkgfSxcclxuICAgICAgICAgIENBQ0hFX1RUTC5HRU9DT0RJTkdcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBBbHNvIHVwZGF0ZSB0aGUgbG9jYXRpb24gY2FjaGUgc28gaXQgcGVyc2lzdHMgd2l0aCBjaXR5L2NvdW50cnlcclxuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZUxvY2F0aW9uQ2FjaGUobG9jYXRpb24pO1xyXG5cclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignW1ByYXllclRpbWVzU2VydmljZV0gU2VydmVybGVzcyBnZW9jb2RpbmcgZmFpbGVkLCB0cnlpbmcgQ09SUyBwcm94aWVzOicsIGVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGYWxsYmFjazogVHJ5IGVhY2ggQ09SUyBwcm94eVxyXG4gICAgY29uc3Qgbm9taW5hdGltVXJsID0gYGh0dHBzOi8vbm9taW5hdGltLm9wZW5zdHJlZXRtYXAub3JnL3JldmVyc2U/Zm9ybWF0PWpzb24mbGF0PSR7bG9jYXRpb24ubGF0aXR1ZGV9Jmxvbj0ke2xvY2F0aW9uLmxvbmdpdHVkZX1gO1xyXG5cclxuICAgIGZvciAoY29uc3QgcHJveHkgb2YgQ09SU19QUk9YSUVTKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcclxuICAgICAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgNTAwMCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgICAgICBgJHtwcm94eX0ke2VuY29kZVVSSUNvbXBvbmVudChub21pbmF0aW1VcmwpfWAsXHJcbiAgICAgICAgICB7IHNpZ25hbDogY29udHJvbGxlci5zaWduYWwgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcblxyXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxvY2F0aW9uLmNpdHkgPVxyXG4gICAgICAgICAgZGF0YS5hZGRyZXNzLmNpdHkgfHxcclxuICAgICAgICAgIGRhdGEuYWRkcmVzcy50b3duIHx8XHJcbiAgICAgICAgICBkYXRhLmFkZHJlc3MudmlsbGFnZSB8fFxyXG4gICAgICAgICAgZGF0YS5hZGRyZXNzLmNvdW50eSB8fFxyXG4gICAgICAgICAgXCJVbmtub3duXCI7XHJcbiAgICAgICAgbG9jYXRpb24uY291bnRyeSA9IGRhdGEuYWRkcmVzcy5jb3VudHJ5IHx8IFwiVW5rbm93blwiO1xyXG5cclxuICAgICAgICAvLyBDYWNoZSB0aGUgZ2VvY29kaW5nIHJlc3VsdFxyXG4gICAgICAgIGF3YWl0IHVuaWZpZWRDYWNoZS5zZXQoXHJcbiAgICAgICAgICBnZW9jb2RpbmdLZXksXHJcbiAgICAgICAgICB7IGNpdHk6IGxvY2F0aW9uLmNpdHksIGNvdW50cnk6IGxvY2F0aW9uLmNvdW50cnkgfSxcclxuICAgICAgICAgIENBQ0hFX1RUTC5HRU9DT0RJTkdcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBBbHNvIHVwZGF0ZSB0aGUgbG9jYXRpb24gY2FjaGUgc28gaXQgcGVyc2lzdHMgd2l0aCBjaXR5L2NvdW50cnlcclxuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZUxvY2F0aW9uQ2FjaGUobG9jYXRpb24pO1xyXG5cclxuICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgW1ByYXllclRpbWVzU2VydmljZV0gR2VvY29kaW5nIHByb3h5ICR7cHJveHl9IGZhaWxlZDpgLCBlcnJvcik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBBbGwgbWV0aG9kcyBmYWlsZWRcclxuICAgIGxvY2F0aW9uLmNpdHkgPSBcIlVua25vd25cIjtcclxuICAgIGxvY2F0aW9uLmNvdW50cnkgPSBcIlVua25vd25cIjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZSB0aGUgbG9jYXRpb24gY2FjaGUgd2l0aCBjdXJyZW50IGxvY2F0aW9uIGRhdGEgKGUuZy4sIGFmdGVyIGdlb2NvZGluZylcclxuICAgKiBAcGFyYW0ge09iamVjdH0gbG9jYXRpb24gLSBMb2NhdGlvbiBvYmplY3RcclxuICAgKi9cclxuICBhc3luYyB1cGRhdGVMb2NhdGlvbkNhY2hlKGxvY2F0aW9uKSB7XHJcbiAgICBpZiAoIWxvY2F0aW9uKSByZXR1cm47XHJcbiAgICBjb25zdCBjYWNoZUtleSA9IHVuaWZpZWRDYWNoZS5nZW5lcmF0ZUtleShDQUNIRV9OQU1FU1BBQ0VTLkxPQ0FUSU9OLCAnY3VycmVudCcpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgdW5pZmllZENhY2hlLnNldChjYWNoZUtleSwgbG9jYXRpb24sIENBQ0hFX1RUTC5MT0NBVElPTik7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1tQcmF5ZXJUaW1lc1NlcnZpY2VdIEZhaWxlZCB0byB1cGRhdGUgbG9jYXRpb24gY2FjaGU6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBQcmF5ZXIgVGltZXNcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmF0ZSB0aW1lem9uZS1hd2FyZSBjYWNoZSBrZXkgZm9yIHByYXllciB0aW1lc1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBsb2NhdGlvbiAtIExvY2F0aW9uIG9iamVjdFxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IENhY2hlIGtleVxyXG4gICAqL1xyXG4gIGdlbmVyYXRlUHJheWVyQ2FjaGVLZXkobG9jYXRpb24pIHtcclxuICAgIGlmICghbG9jYXRpb24pIHJldHVybiBudWxsO1xyXG5cclxuICAgIC8vIEdldCBsb2NhbCBkYXRlIGluIHVzZXIncyB0aW1lem9uZVxyXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuICAgIGNvbnN0IGxvY2FsRGF0ZSA9IG5vdy50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLUNBJywge1xyXG4gICAgICB0aW1lWm9uZTogSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdW5pZmllZENhY2hlLmdlbmVyYXRlTG9jYXRpb25LZXkoXHJcbiAgICAgIENBQ0hFX05BTUVTUEFDRVMuUFJBWUVSX1RJTUVTLFxyXG4gICAgICBsb2NhdGlvbi5sYXRpdHVkZSxcclxuICAgICAgbG9jYXRpb24ubG9uZ2l0dWRlLFxyXG4gICAgICBsb2NhbERhdGUsXHJcbiAgICAgIGxvY2F0aW9uLnF1YWxpdHlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYWxjdWxhdGUgVFRMIHVudGlsIGVuZCBvZiBkYXkgaW4gdXNlcidzIHRpbWV6b25lXHJcbiAgICogQHJldHVybnMge251bWJlcn0gVFRMIGluIG1pbGxpc2Vjb25kc1xyXG4gICAqL1xyXG4gIGNhbGN1bGF0ZVByYXllclRUTCgpIHtcclxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgICBjb25zdCB0aW1lem9uZSA9IEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZTtcclxuICAgIFxyXG4gICAgLy8gR2V0IGVuZCBvZiBkYXkgaW4gdXNlcidzIHRpbWV6b25lXHJcbiAgICBjb25zdCBlbmRPZkRheVN0ciA9IG5vdy50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLUNBJywgeyB0aW1lWm9uZTogdGltZXpvbmUgfSkgKyAnVDIzOjU5OjU5JztcclxuICAgIGNvbnN0IGVuZE9mRGF5ID0gbmV3IERhdGUoZW5kT2ZEYXlTdHIpO1xyXG4gICAgXHJcbiAgICAvLyBBZGQgNSBtaW51dGUgYnVmZmVyIGZvciB0aW1lem9uZSBlZGdlIGNhc2VzXHJcbiAgICBjb25zdCB0dGwgPSBlbmRPZkRheS5nZXRUaW1lKCkgLSBub3cuZ2V0VGltZSgpICsgKDUgKiA2MCAqIDEwMDApO1xyXG4gICAgXHJcbiAgICAvLyBNaW5pbXVtIDEgbWludXRlIFRUTFxyXG4gICAgcmV0dXJuIE1hdGgubWF4KHR0bCwgNjAgKiAxMDAwKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEZldGNoIHByYXllciB0aW1lcyBmcm9tIEFQSSBvciBjYWNoZVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBsb2NhdGlvbiAtIE9wdGlvbmFsIGxvY2F0aW9uIG92ZXJyaWRlXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gUHJheWVyIHRpbWVzIG9iamVjdFxyXG4gICAqL1xyXG4gIGFzeW5jIGZldGNoUHJheWVyVGltZXMobG9jYXRpb24gPSB0aGlzLmxvY2F0aW9uKSB7XHJcbiAgICBpZiAoIWxvY2F0aW9uKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignTG9jYXRpb24gbm90IGF2YWlsYWJsZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNhY2hlS2V5ID0gdGhpcy5nZW5lcmF0ZVByYXllckNhY2hlS2V5KGxvY2F0aW9uKTtcclxuICAgIFxyXG4gICAgLy8gQ2hlY2sgY2FjaGUgZmlyc3RcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGNhY2hlZCA9IGF3YWl0IHVuaWZpZWRDYWNoZS5nZXQoY2FjaGVLZXkpO1xyXG4gICAgICBpZiAoY2FjaGVkKSB7XHJcbiAgICAgICAgLy8gVmVyaWZ5IGNhY2hlIGlzIGZyb20gdG9kYXlcclxuICAgICAgICBjb25zdCBjYWNoZURhdGUgPSBuZXcgRGF0ZShjYWNoZWQuZGF0ZSk7XHJcbiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChjYWNoZURhdGUudG9EYXRlU3RyaW5nKCkgPT09IHRvZGF5LnRvRGF0ZVN0cmluZygpKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnW1ByYXllclRpbWVzU2VydmljZV0gVXNpbmcgY2FjaGVkIHByYXllciB0aW1lcycpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBDaGVjayBpZiBzdGFsZSBhbmQgcmVmcmVzaCBpbiBiYWNrZ3JvdW5kXHJcbiAgICAgICAgICBjb25zdCBjYWNoZUFnZSA9IERhdGUubm93KCkgLSBuZXcgRGF0ZShjYWNoZWQuZGF0ZSkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgY29uc3QgU1RBTEVfVEhSRVNIT0xEID0gMjAgKiA2MCAqIDYwICogMTAwMDsgLy8gMjAgaG91cnNcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKGNhY2hlQWdlID4gU1RBTEVfVEhSRVNIT0xEKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaFByYXllclRpbWVzSW5CYWNrZ3JvdW5kKGxvY2F0aW9uKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgcmV0dXJuIGNhY2hlZC5wcmF5ZXJUaW1lcztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignW1ByYXllclRpbWVzU2VydmljZV0gUHJheWVyIHRpbWVzIGNhY2hlIHJlYWQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEZldGNoIGZyb20gQVBJXHJcbiAgICByZXR1cm4gdGhpcy5mZXRjaFByYXllclRpbWVzRnJvbUFQSShsb2NhdGlvbik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBGZXRjaCBwcmF5ZXIgdGltZXMgZnJvbSBBbGFkaGFuIEFQSVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBsb2NhdGlvbiAtIExvY2F0aW9uIG9iamVjdFxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IFByYXllciB0aW1lcyBvYmplY3RcclxuICAgKi9cclxuICBhc3luYyBmZXRjaFByYXllclRpbWVzRnJvbUFQSShsb2NhdGlvbikge1xyXG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gICAgY29uc3QgZGF0ZSA9IHRvZGF5LmdldERhdGUoKTtcclxuICAgIGNvbnN0IG1vbnRoID0gdG9kYXkuZ2V0TW9udGgoKSArIDE7XHJcbiAgICBjb25zdCB5ZWFyID0gdG9kYXkuZ2V0RnVsbFllYXIoKTtcclxuXHJcbiAgICBjb25zdCB1cmwgPSBgaHR0cHM6Ly9hcGkuYWxhZGhhbi5jb20vdjEvdGltaW5ncy8ke2RhdGV9LSR7bW9udGh9LSR7eWVhcn0/bGF0aXR1ZGU9JHtsb2NhdGlvbi5sYXRpdHVkZX0mbG9uZ2l0dWRlPSR7bG9jYXRpb24ubG9uZ2l0dWRlfSZtZXRob2Q9MjBgO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgIGlmIChkYXRhLmNvZGUgPT09IDIwMCAmJiBkYXRhLmRhdGEpIHtcclxuICAgICAgICBjb25zdCBwcmF5ZXJUaW1lcyA9IHt9O1xyXG4gICAgICAgIFBSQVlFUl9OQU1FUy5mb3JFYWNoKG5hbWUgPT4ge1xyXG4gICAgICAgICAgcHJheWVyVGltZXNbbmFtZV0gPSBkYXRhLmRhdGEudGltaW5nc1tuYW1lXTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ2FjaGUgdGhlIHJlc3VsdFxyXG4gICAgICAgIGF3YWl0IHRoaXMuY2FjaGVQcmF5ZXJUaW1lcyhsb2NhdGlvbiwgcHJheWVyVGltZXMpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbUHJheWVyVGltZXNTZXJ2aWNlXSBGZXRjaGVkIHByYXllciB0aW1lcyBmcm9tIEFQSScpO1xyXG4gICAgICAgIHJldHVybiBwcmF5ZXJUaW1lcztcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEFQSSByZXNwb25zZScpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW1ByYXllclRpbWVzU2VydmljZV0gUHJheWVyIHRpbWVzIGZldGNoIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYWNoZSBwcmF5ZXIgdGltZXNcclxuICAgKiBAcGFyYW0ge09iamVjdH0gbG9jYXRpb24gLSBMb2NhdGlvbiBvYmplY3RcclxuICAgKiBAcGFyYW0ge09iamVjdH0gcHJheWVyVGltZXMgLSBQcmF5ZXIgdGltZXMgb2JqZWN0XHJcbiAgICovXHJcbiAgYXN5bmMgY2FjaGVQcmF5ZXJUaW1lcyhsb2NhdGlvbiwgcHJheWVyVGltZXMpIHtcclxuICAgIGNvbnN0IGNhY2hlS2V5ID0gdGhpcy5nZW5lcmF0ZVByYXllckNhY2hlS2V5KGxvY2F0aW9uKTtcclxuICAgIGlmICghY2FjaGVLZXkpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIHByYXllclRpbWVzOiBwcmF5ZXJUaW1lcyxcclxuICAgICAgbG9jYXRpb246IHtcclxuICAgICAgICBsYXRpdHVkZTogbG9jYXRpb24ubGF0aXR1ZGUsXHJcbiAgICAgICAgbG9uZ2l0dWRlOiBsb2NhdGlvbi5sb25naXR1ZGUsXHJcbiAgICAgICAgcXVhbGl0eTogbG9jYXRpb24ucXVhbGl0eVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHR0bCA9IHRoaXMuY2FsY3VsYXRlUHJheWVyVFRMKCk7XHJcbiAgICBhd2FpdCB1bmlmaWVkQ2FjaGUuc2V0KGNhY2hlS2V5LCBkYXRhLCB0dGwpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVmcmVzaCBwcmF5ZXIgdGltZXMgaW4gYmFja2dyb3VuZFxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBsb2NhdGlvbiAtIExvY2F0aW9uIG9iamVjdFxyXG4gICAqL1xyXG4gIGFzeW5jIHJlZnJlc2hQcmF5ZXJUaW1lc0luQmFja2dyb3VuZChsb2NhdGlvbiA9IHRoaXMubG9jYXRpb24pIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHByYXllclRpbWVzID0gYXdhaXQgdGhpcy5mZXRjaFByYXllclRpbWVzRnJvbUFQSShsb2NhdGlvbik7XHJcbiAgICAgIHRoaXMucHJheWVyVGltZXMgPSBwcmF5ZXJUaW1lcztcclxuICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoJ3ByYXllci10aW1lcy11cGRhdGVkJyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1tQcmF5ZXJUaW1lc1NlcnZpY2VdIEJhY2tncm91bmQgcmVmcmVzaCBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBOZXh0IFByYXllciBDYWxjdWxhdGlvblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIC8qKlxyXG4gICAqIENhbGN1bGF0ZSB0aGUgbmV4dCBwcmF5ZXIgYW5kIHRpbWUgcmVtYWluaW5nXHJcbiAgICogQHJldHVybnMge09iamVjdH0gTmV4dCBwcmF5ZXIgaW5mb1xyXG4gICAqL1xyXG4gIGNhbGN1bGF0ZU5leHRQcmF5ZXIoKSB7XHJcbiAgICBpZiAoIXRoaXMucHJheWVyVGltZXMpIHJldHVybiBudWxsO1xyXG5cclxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgICBjb25zdCBjdXJyZW50TWludXRlcyA9IG5vdy5nZXRIb3VycygpICogNjAgKyBub3cuZ2V0TWludXRlcygpO1xyXG5cclxuICAgIC8vIENvbnZlcnQgcHJheWVyIHRpbWVzIHRvIG1pbnV0ZXNcclxuICAgIGNvbnN0IHByYXllck1pbnV0ZXMgPSBQUkFZRVJfTkFNRVMubWFwKG5hbWUgPT4ge1xyXG4gICAgICBjb25zdCBbaG91cnMsIG1pbnV0ZXNdID0gdGhpcy5wcmF5ZXJUaW1lc1tuYW1lXS5zcGxpdCgnOicpLm1hcChOdW1iZXIpO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgdGltZTogdGhpcy5wcmF5ZXJUaW1lc1tuYW1lXSxcclxuICAgICAgICBtaW51dGVzOiBob3VycyAqIDYwICsgbWludXRlc1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gRmluZCBuZXh0IHByYXllclxyXG4gICAgbGV0IG5leHRQcmF5ZXIgPSBudWxsO1xyXG4gICAgZm9yIChjb25zdCBwcmF5ZXIgb2YgcHJheWVyTWludXRlcykge1xyXG4gICAgICBpZiAocHJheWVyLm1pbnV0ZXMgPiBjdXJyZW50TWludXRlcykge1xyXG4gICAgICAgIG5leHRQcmF5ZXIgPSBwcmF5ZXI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBubyBuZXh0IHByYXllciBmb3VuZCB0b2RheSwgdXNlIEZhanIgdG9tb3Jyb3dcclxuICAgIGlmICghbmV4dFByYXllcikge1xyXG4gICAgICBuZXh0UHJheWVyID0gcHJheWVyTWludXRlc1swXTtcclxuICAgICAgY29uc3QgbWludXRlc1VudGlsTWlkbmlnaHQgPSAyNCAqIDYwIC0gY3VycmVudE1pbnV0ZXM7XHJcbiAgICAgIHRoaXMudGltZVRvTmV4dFByYXllciA9IG1pbnV0ZXNVbnRpbE1pZG5pZ2h0ICsgbmV4dFByYXllci5taW51dGVzO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy50aW1lVG9OZXh0UHJheWVyID0gbmV4dFByYXllci5taW51dGVzIC0gY3VycmVudE1pbnV0ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5uZXh0UHJheWVyID0gbmV4dFByYXllcjtcclxuICAgIHJldHVybiBuZXh0UHJheWVyO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRm9ybWF0IHRpbWUgdG8gbmV4dCBwcmF5ZXJcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBGb3JtYXR0ZWQgdGltZSBzdHJpbmdcclxuICAgKi9cclxuICBmb3JtYXRUaW1lVG9OZXh0UHJheWVyKCkge1xyXG4gICAgaWYgKHRoaXMudGltZVRvTmV4dFByYXllciA9PT0gbnVsbCkgcmV0dXJuIFwiXCI7XHJcblxyXG4gICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKHRoaXMudGltZVRvTmV4dFByYXllciAvIDYwKTtcclxuICAgIGNvbnN0IG1pbnV0ZXMgPSB0aGlzLnRpbWVUb05leHRQcmF5ZXIgJSA2MDtcclxuXHJcbiAgICBpZiAoaG91cnMgPiAwKSB7XHJcbiAgICAgIHJldHVybiBgJHtob3Vyc31oICR7bWludXRlc31tYDtcclxuICAgIH1cclxuICAgIHJldHVybiBgJHttaW51dGVzfW1gO1xyXG4gIH1cclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBGb3JtYXR0aW5nIFV0aWxpdGllc1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIC8qKlxyXG4gICAqIEZvcm1hdCBjdXJyZW50IGRhdGVcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBGb3JtYXR0ZWQgZGF0ZSBzdHJpbmdcclxuICAgKi9cclxuICBmb3JtYXREYXRlKCkge1xyXG4gICAgcmV0dXJuIG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKFwiZW4tVVNcIiwge1xyXG4gICAgICB3ZWVrZGF5OiBcInNob3J0XCIsXHJcbiAgICAgIG1vbnRoOiBcInNob3J0XCIsXHJcbiAgICAgIGRheTogXCJudW1lcmljXCIsXHJcbiAgICAgIHllYXI6IFwibnVtZXJpY1wiLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBGb3JtYXQgY3VycmVudCB0aW1lXHJcbiAgICogQHBhcmFtIHtib29sZWFufSBpbmNsdWRlU2Vjb25kcyAtIEluY2x1ZGUgc2Vjb25kcyBpbiBvdXRwdXRcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBGb3JtYXR0ZWQgdGltZSBzdHJpbmdcclxuICAgKi9cclxuICBmb3JtYXRDdXJyZW50VGltZShpbmNsdWRlU2Vjb25kcyA9IGZhbHNlKSB7XHJcbiAgICBjb25zdCBvcHRpb25zID0ge1xyXG4gICAgICBob3VyOiBcIjItZGlnaXRcIixcclxuICAgICAgbWludXRlOiBcIjItZGlnaXRcIixcclxuICAgICAgaG91cjEyOiB0cnVlLFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgaWYgKGluY2x1ZGVTZWNvbmRzKSB7XHJcbiAgICAgIG9wdGlvbnMuc2Vjb25kID0gXCIyLWRpZ2l0XCI7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZyhcImVuLVVTXCIsIG9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRm9ybWF0IGxvY2F0aW9uIGZvciBkaXNwbGF5XHJcbiAgICogQHJldHVybnMge3N0cmluZ30gRm9ybWF0dGVkIGxvY2F0aW9uIHN0cmluZ1xyXG4gICAqL1xyXG4gIGZvcm1hdExvY2F0aW9uKCkge1xyXG4gICAgaWYgKCF0aGlzLmxvY2F0aW9uKSByZXR1cm4gXCJVbmtub3duXCI7XHJcbiAgICBcclxuICAgIGNvbnN0IGNpdHkgPSB0aGlzLmxvY2F0aW9uLmNpdHkgfHwgXCJVbmtub3duXCI7XHJcbiAgICBjb25zdCBjb3VudHJ5ID0gdGhpcy5sb2NhdGlvbi5jb3VudHJ5IHx8IFwiVW5rbm93blwiO1xyXG4gICAgY29uc3QgZmFsbGJhY2tJbmRpY2F0b3IgPSB0aGlzLmxvY2F0aW9uLnF1YWxpdHkgPT09IExPQ0FUSU9OX1FVQUxJVFkuRkFMTEJBQ0sgPyAnIChGYWxsYmFjayknIDogJyc7XHJcbiAgICBcclxuICAgIHJldHVybiBgJHtjaXR5fSwgJHtjb3VudHJ5fSR7ZmFsbGJhY2tJbmRpY2F0b3J9YDtcclxuICB9XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gU3RhdGUgTWFuYWdlbWVudFxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBjdXJyZW50IHN0YXRlXHJcbiAgICogQHJldHVybnMge09iamVjdH0gQ3VycmVudCBzdGF0ZVxyXG4gICAqL1xyXG4gIGdldFN0YXRlKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbG9jYXRpb246IHRoaXMubG9jYXRpb24sXHJcbiAgICAgIHByYXllclRpbWVzOiB0aGlzLnByYXllclRpbWVzLFxyXG4gICAgICBuZXh0UHJheWVyOiB0aGlzLm5leHRQcmF5ZXIsXHJcbiAgICAgIHRpbWVUb05leHRQcmF5ZXI6IHRoaXMudGltZVRvTmV4dFByYXllcixcclxuICAgICAgZm9ybWF0dGVkVGltZVRvTmV4dDogdGhpcy5mb3JtYXRUaW1lVG9OZXh0UHJheWVyKCksXHJcbiAgICAgIGlzTG9hZGluZzogdGhpcy5pc0xvYWRpbmcsXHJcbiAgICAgIGVycm9yOiB0aGlzLmVycm9yLFxyXG4gICAgICBmb3JtYXR0ZWREYXRlOiB0aGlzLmZvcm1hdERhdGUoKSxcclxuICAgICAgZm9ybWF0dGVkVGltZTogdGhpcy5mb3JtYXRDdXJyZW50VGltZSgpLFxyXG4gICAgICBmb3JtYXR0ZWRMb2NhdGlvbjogdGhpcy5mb3JtYXRMb2NhdGlvbigpXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3Vic2NyaWJlIHRvIHN0YXRlIGNoYW5nZXNcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciAtIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBVbnN1YnNjcmliZSBmdW5jdGlvblxyXG4gICAqL1xyXG4gIHN1YnNjcmliZShsaXN0ZW5lcikge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcclxuICAgIHJldHVybiAoKSA9PiB0aGlzLmxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTm90aWZ5IGFsbCBsaXN0ZW5lcnMgb2Ygc3RhdGUgY2hhbmdlXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IC0gRXZlbnQgdHlwZVxyXG4gICAqIEBwYXJhbSB7Kn0gZGF0YSAtIEV2ZW50IGRhdGFcclxuICAgKi9cclxuICBub3RpZnlMaXN0ZW5lcnMoZXZlbnQsIGRhdGEpIHtcclxuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xyXG4gICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgbGlzdGVuZXIoc3RhdGUsIGV2ZW50LCBkYXRhKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdbUHJheWVyVGltZXNTZXJ2aWNlXSBMaXN0ZW5lciBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBFdmVudCBIYW5kbGVyc1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHVwIGV2ZW50IGhhbmRsZXJzIGZvciBuZXR3b3JrIGFuZCB2aXNpYmlsaXR5XHJcbiAgICovXHJcbiAgc2V0dXBFdmVudEhhbmRsZXJzKCkge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29ubGluZScsIHRoaXMuaGFuZGxlT25saW5lKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgdGhpcy5oYW5kbGVPZmZsaW5lKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCB0aGlzLmhhbmRsZVZpc2liaWxpdHlDaGFuZ2UpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSGFuZGxlIG9ubGluZSBldmVudFxyXG4gICAqL1xyXG4gIGhhbmRsZU9ubGluZSgpIHtcclxuICAgIGNvbnNvbGUubG9nKCdbUHJheWVyVGltZXNTZXJ2aWNlXSBOZXR3b3JrIHJlc3RvcmVkLCByZWZyZXNoaW5nLi4uJyk7XHJcbiAgICB0aGlzLnJlZnJlc2hQcmF5ZXJUaW1lc0luQmFja2dyb3VuZCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSGFuZGxlIG9mZmxpbmUgZXZlbnRcclxuICAgKi9cclxuICBoYW5kbGVPZmZsaW5lKCkge1xyXG4gICAgY29uc29sZS5sb2coJ1tQcmF5ZXJUaW1lc1NlcnZpY2VdIE5ldHdvcmsgbG9zdCwgdXNpbmcgY2FjaGVkIGRhdGEnKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEhhbmRsZSB2aXNpYmlsaXR5IGNoYW5nZVxyXG4gICAqL1xyXG4gIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UoKSB7XHJcbiAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAndmlzaWJsZScpIHtcclxuICAgICAgLy8gUmVjYWxjdWxhdGUgbmV4dCBwcmF5ZXIgd2hlbiBwYWdlIGJlY29tZXMgdmlzaWJsZVxyXG4gICAgICB0aGlzLmNhbGN1bGF0ZU5leHRQcmF5ZXIoKTtcclxuICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoJ3Zpc2liaWxpdHktY2hhbmdlJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIFVwZGF0ZSBJbnRlcnZhbFxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHVwIHVwZGF0ZSBpbnRlcnZhbCBmb3IgY2xvY2sgYW5kIG5leHQgcHJheWVyXHJcbiAgICovXHJcbiAgc2V0dXBVcGRhdGVJbnRlcnZhbCgpIHtcclxuICAgIC8vIENsZWFyIGV4aXN0aW5nIGludGVydmFsXHJcbiAgICBpZiAodGhpcy51cGRhdGVJbnRlcnZhbCkge1xyXG4gICAgICBjbGVhckludGVydmFsKHRoaXMudXBkYXRlSW50ZXJ2YWwpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSBldmVyeSBzZWNvbmRcclxuICAgIHRoaXMudXBkYXRlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2FsY3VsYXRlTmV4dFByYXllcigpO1xyXG4gICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycygndGljaycpO1xyXG4gICAgfSwgMTAwMCk7XHJcbiAgfVxyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIERhdGUgQ2hhbmdlIERldGVjdGlvblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHVwIGRhdGUgY2hhbmdlIGRldGVjdGlvbiBmb3IgY2FjaGUgaW52YWxpZGF0aW9uXHJcbiAgICovXHJcbiAgc2V0dXBEYXRlQ2hhbmdlRGV0ZWN0aW9uKCkge1xyXG4gICAgdGhpcy5sYXN0RGF0ZSA9IG5ldyBEYXRlKCkudG9EYXRlU3RyaW5nKCk7XHJcbiAgICBcclxuICAgIHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpLnRvRGF0ZVN0cmluZygpO1xyXG4gICAgICBpZiAodGhpcy5sYXN0RGF0ZSAhPT0gY3VycmVudERhdGUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnW1ByYXllclRpbWVzU2VydmljZV0gRGF0ZSBjaGFuZ2VkLCBpbnZhbGlkYXRpbmcgY2FjaGUnKTtcclxuICAgICAgICB0aGlzLmxhc3REYXRlID0gY3VycmVudERhdGU7XHJcbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlUHJheWVyVGltZXNDYWNoZSgpO1xyXG4gICAgICB9XHJcbiAgICB9LCA2MCAqIDEwMDApOyAvLyBDaGVjayBldmVyeSBtaW51dGVcclxuICB9XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gQ2FjaGUgSW52YWxpZGF0aW9uXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgLyoqXHJcbiAgICogSW52YWxpZGF0ZSBsb2NhdGlvbiBjYWNoZVxyXG4gICAqL1xyXG4gIGFzeW5jIGludmFsaWRhdGVMb2NhdGlvbkNhY2hlKCkge1xyXG4gICAgYXdhaXQgdW5pZmllZENhY2hlLmludmFsaWRhdGVOYW1lc3BhY2UoQ0FDSEVfTkFNRVNQQUNFUy5MT0NBVElPTik7XHJcbiAgICB0aGlzLmxvY2F0aW9uID0gbnVsbDtcclxuICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKCdsb2NhdGlvbi1pbnZhbGlkYXRlZCcpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW52YWxpZGF0ZSBwcmF5ZXIgdGltZXMgY2FjaGVcclxuICAgKi9cclxuICBhc3luYyBpbnZhbGlkYXRlUHJheWVyVGltZXNDYWNoZSgpIHtcclxuICAgIGF3YWl0IHVuaWZpZWRDYWNoZS5pbnZhbGlkYXRlTmFtZXNwYWNlKENBQ0hFX05BTUVTUEFDRVMuUFJBWUVSX1RJTUVTKTtcclxuICAgIHRoaXMucHJheWVyVGltZXMgPSBudWxsO1xyXG4gICAgXHJcbiAgICAvLyBSZS1mZXRjaCBwcmF5ZXIgdGltZXNcclxuICAgIHRyeSB7XHJcbiAgICAgIHRoaXMucHJheWVyVGltZXMgPSBhd2FpdCB0aGlzLmZldGNoUHJheWVyVGltZXMoKTtcclxuICAgICAgdGhpcy5jYWxjdWxhdGVOZXh0UHJheWVyKCk7XHJcbiAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKCdwcmF5ZXItdGltZXMtdXBkYXRlZCcpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW1ByYXllclRpbWVzU2VydmljZV0gRmFpbGVkIHRvIHJlZnJlc2ggcHJheWVyIHRpbWVzOicsIGVycm9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEludmFsaWRhdGUgYWxsIGNhY2hlc1xyXG4gICAqL1xyXG4gIGFzeW5jIGludmFsaWRhdGVBbGxDYWNoZXMoKSB7XHJcbiAgICBhd2FpdCB0aGlzLmludmFsaWRhdGVMb2NhdGlvbkNhY2hlKCk7XHJcbiAgICBhd2FpdCB0aGlzLmludmFsaWRhdGVQcmF5ZXJUaW1lc0NhY2hlKCk7XHJcbiAgfVxyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIEZvcmNlIFJlZnJlc2hcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAvKipcclxuICAgKiBGb3JjZSByZWZyZXNoIGxvY2F0aW9uIGFuZCBwcmF5ZXIgdGltZXNcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cclxuICAgKi9cclxuICBhc3luYyBmb3JjZVJlZnJlc2goKSB7XHJcbiAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7XHJcbiAgICB0aGlzLm5vdGlmeUxpc3RlbmVycygnbG9hZGluZycpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEdldCBmcmVzaCBsb2NhdGlvbiAoZ2VvY29kaW5nIGlzIG5vdyBhd2FpdGVkIGluc2lkZSBnZXRMb2NhdGlvbilcclxuICAgICAgdGhpcy5sb2NhdGlvbiA9IGF3YWl0IHRoaXMuZ2V0TG9jYXRpb24oeyBmb3JjZVJlZnJlc2g6IHRydWUgfSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBHZXQgZnJlc2ggcHJheWVyIHRpbWVzXHJcbiAgICAgIHRoaXMucHJheWVyVGltZXMgPSBhd2FpdCB0aGlzLmZldGNoUHJheWVyVGltZXNGcm9tQVBJKHRoaXMubG9jYXRpb24pO1xyXG4gICAgICBcclxuICAgICAgLy8gUmVjYWxjdWxhdGVcclxuICAgICAgdGhpcy5jYWxjdWxhdGVOZXh0UHJheWVyKCk7XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLmVycm9yID0gbnVsbDtcclxuICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoJ3JlZnJlc2hlZCcpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xyXG4gICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycygnZXJyb3InLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIENsZWFudXBcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAvKipcclxuICAgKiBEZXN0cm95IHRoZSBzZXJ2aWNlIGFuZCBjbGVhbnVwXHJcbiAgICovXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIGlmICh0aGlzLnVwZGF0ZUludGVydmFsKSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy51cGRhdGVJbnRlcnZhbCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvbmxpbmUnLCB0aGlzLmhhbmRsZU9ubGluZSk7XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignb2ZmbGluZScsIHRoaXMuaGFuZGxlT2ZmbGluZSk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgdGhpcy5oYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKTtcclxuICAgIFxyXG4gICAgdGhpcy5saXN0ZW5lcnMuY2xlYXIoKTtcclxuICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuICB9XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gU2luZ2xldG9uIEluc3RhbmNlXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmV4cG9ydCBjb25zdCBwcmF5ZXJUaW1lc1NlcnZpY2UgPSBuZXcgUHJheWVyVGltZXNTZXJ2aWNlKCk7XHJcblxyXG4vLyBOT1RFOiBBdXRvLWluaXQgcmVtb3ZlZCB0byBwcmV2ZW50IHJhY2UgY29uZGl0aW9ucy5cclxuLy8gQ29uc3VtZXJzIChtYXJxdWVlLmpzLCBmZWVkLmpzKSBjYWxsIHByYXllclRpbWVzU2VydmljZS5pbml0KClcclxuLy8gYWZ0ZXIgc3Vic2NyaWJpbmcsIGVuc3VyaW5nIHRoZXkgcmVjZWl2ZSBhbGwgc3RhdGUgdXBkYXRlcy5cclxuIiwiLyoqXHJcbiAqIEZlZWQgUGFnZSBNb2R1bGVcclxuICogSGFuZGxlcyBmZWVkIHBhZ2UgbG9naWMgYW5kIHByYXllciB0aW1lcyB3aWRnZXRcclxuICogXHJcbiAqIFJFRkFDVE9SRUQ6IE5vdyB1c2VzIFByYXllclRpbWVzU2VydmljZSBhcyBzaW5nbGUgc291cmNlIG9mIHRydXRoXHJcbiAqIEFsbCBsb2NhdGlvbiwgZ2VvY29kaW5nLCBhbmQgcHJheWVyIHRpbWVzIGxvZ2ljIGhhcyBiZWVuIG1vdmVkIHRvIHRoZSBzZXJ2aWNlXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgcHJheWVyVGltZXNTZXJ2aWNlLCBMT0NBVElPTl9RVUFMSVRZIH0gZnJvbSAnLi9wcmF5ZXItdGltZXMtc2VydmljZS5qcyc7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIERhcmsgTW9kZSBUb2dnbGVcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuY29uc3QgREFSS19NT0RFX0tFWSA9ICdkYXJrTW9kZSc7XHJcblxyXG5mdW5jdGlvbiBpbml0RGFya01vZGUoKSB7XHJcbiAgY29uc3QgYWRtaW5TZWFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkbWluLXNlYWwnKTtcclxuICBpZiAoIWFkbWluU2VhbCkgcmV0dXJuO1xyXG5cclxuICBjb25zdCBzYXZlZE1vZGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShEQVJLX01PREVfS0VZKTtcclxuICBjb25zdCBwcmVmZXJzRGFyayA9IHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJykubWF0Y2hlcztcclxuICBcclxuICBpZiAoc2F2ZWRNb2RlID09PSAndHJ1ZScgfHwgKCFzYXZlZE1vZGUgJiYgcHJlZmVyc0RhcmspKSB7XHJcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZGFyaycpO1xyXG4gIH1cclxuXHJcbiAgYWRtaW5TZWFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2RhcmsnKTtcclxuICAgIGNvbnN0IGlzRGFyayA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2RhcmsnKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKERBUktfTU9ERV9LRVksIGlzRGFyayk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gRmVlZCBUeXBlIERldGVjdGlvblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogUGFyc2UgVVJMIHBhcmFtZXRlcnMgdG8gZGV0ZXJtaW5lIGZlZWQgdHlwZVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0RmVlZFR5cGUoKSB7XHJcbiAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcclxuICBjb25zdCBpbnN0aXR1dGlvbiA9IHBhcmFtcy5nZXQoJ2luc3RpdHV0aW9uJyk7XHJcbiAgY29uc3QganVyaXNkaWN0aW9uID0gcGFyYW1zLmdldCgnanVyaXNkaWN0aW9uJyk7XHJcblxyXG4gIGlmIChpbnN0aXR1dGlvbikge1xyXG4gICAgcmV0dXJuIHsgdHlwZTogJ2luc3RpdHV0aW9uJywgbmFtZTogaW5zdGl0dXRpb24gfTtcclxuICB9XHJcbiAgaWYgKGp1cmlzZGljdGlvbikge1xyXG4gICAgcmV0dXJuIHsgdHlwZTogJ2p1cmlzZGljdGlvbicsIG5hbWU6IGp1cmlzZGljdGlvbiB9O1xyXG4gIH1cclxuICByZXR1cm4geyB0eXBlOiAnZ2xvYmFsJywgbmFtZTogJ0dsb2JhbCBGZWVkJyB9O1xyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEZlZWQgSGVhZGVyXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiBVcGRhdGUgZmVlZCBoZWFkZXIgYmFzZWQgb24gZmVlZCB0eXBlXHJcbiAqL1xyXG5mdW5jdGlvbiB1cGRhdGVGZWVkSGVhZGVyKCkge1xyXG4gIGNvbnN0IGZlZWRUeXBlID0gZ2V0RmVlZFR5cGUoKTtcclxuICBjb25zdCBoZWFkZXJFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZlZWQtaGVhZGVyJyk7XHJcblxyXG4gIGlmICghaGVhZGVyRWxlbWVudCkgcmV0dXJuO1xyXG5cclxuICBpZiAoZmVlZFR5cGUudHlwZSA9PT0gJ2dsb2JhbCcpIHtcclxuICAgIGhlYWRlckVsZW1lbnQudGV4dENvbnRlbnQgPSAnR2xvYmFsIEZlZWQnO1xyXG4gIH0gZWxzZSBpZiAoZmVlZFR5cGUudHlwZSA9PT0gJ2luc3RpdHV0aW9uJykge1xyXG4gICAgLy8gUmVtb3ZlIGNvbnRlbnQgaW5zaWRlIHNxdWFyZSBicmFja2V0c1xyXG4gICAgY29uc3QgY2xlYW5OYW1lID0gZmVlZFR5cGUubmFtZS5yZXBsYWNlKC9cXHMqXFxbLio/XFxdXFxzKi9nLCAnJykudHJpbSgpO1xyXG4gICAgaGVhZGVyRWxlbWVudC50ZXh0Q29udGVudCA9IGAke2NsZWFuTmFtZX0gRmVlZGA7XHJcbiAgfSBlbHNlIGlmIChmZWVkVHlwZS50eXBlID09PSAnanVyaXNkaWN0aW9uJykge1xyXG4gICAgLy8gUmVtb3ZlIGNvbnRlbnQgaW5zaWRlIHNxdWFyZSBicmFja2V0c1xyXG4gICAgY29uc3QgY2xlYW5OYW1lID0gZmVlZFR5cGUubmFtZS5yZXBsYWNlKC9cXHMqXFxbLio/XFxdXFxzKi9nLCAnJykudHJpbSgpO1xyXG4gICAgaGVhZGVyRWxlbWVudC50ZXh0Q29udGVudCA9IGAke2NsZWFuTmFtZX0gRmVlZGA7XHJcbiAgfVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFByYXllciBUaW1lcyBXaWRnZXRcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxubGV0IHVuc3Vic2NyaWJlRnJvbVNlcnZpY2UgPSBudWxsO1xyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemUgcHJheWVyIHRpbWVzIHdpZGdldFxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gaW5pdFByYXllclRpbWVzV2lkZ2V0KCkge1xyXG4gIGNvbnN0IHdpZGdldEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJheWVyLXRpbWVzLXdpZGdldCcpO1xyXG4gIGlmICghd2lkZ2V0RWxlbWVudCkgcmV0dXJuO1xyXG5cclxuICAvLyBTaG93IGxvYWRpbmcgc3RhdGVcclxuICB3aWRnZXRFbGVtZW50LmlubmVySFRNTCA9IGBcclxuICAgIDxkaXYgY2xhc3M9XCJwcmF5ZXItd2lkZ2V0LWhlYWRlclwiPlxyXG4gICAgICA8aDMgY2xhc3M9XCJwcmF5ZXItd2lkZ2V0LXRpdGxlXCI+UHJheWVyIFRpbWUgV2lkZ2V0PC9oMz5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cInByYXllci13aWRnZXQtbG9hZGluZ1wiPlxyXG4gICAgICA8c3BhbiBjbGFzcz1cImxvYWRpbmctc3Bpbm5lclwiPjwvc3Bhbj5cclxuICAgICAgPHNwYW4+RmV0Y2hpbmcgeW91ciBsb2NhdGlvbi4uLjwvc3Bhbj5cclxuICAgIDwvZGl2PlxyXG4gIGA7XHJcblxyXG4gIHRyeSB7XHJcbiAgICAvLyBTdWJzY3JpYmUgdG8gc2VydmljZSB1cGRhdGVzIEJFRk9SRSBpbml0IHNvIHdlIGNhdGNoIGFsbCBldmVudHNcclxuICAgIHVuc3Vic2NyaWJlRnJvbVNlcnZpY2UgPSBwcmF5ZXJUaW1lc1NlcnZpY2Uuc3Vic2NyaWJlKChzdGF0ZSwgZXZlbnQpID0+IHtcclxuICAgICAgaGFuZGxlV2lkZ2V0VXBkYXRlKHN0YXRlLCBldmVudCwgd2lkZ2V0RWxlbWVudCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBJbml0aWFsaXplIHRoZSBzZXJ2aWNlIChpZiBub3QgYWxyZWFkeSBpbml0aWFsaXplZClcclxuICAgIC8vIFRoZSBzZXJ2aWNlJ3Mgb3duIDEtc2Vjb25kIHRpY2sgaW50ZXJ2YWwgaGFuZGxlcyBjbG9jayB1cGRhdGVzXHJcbiAgICBhd2FpdCBwcmF5ZXJUaW1lc1NlcnZpY2UuaW5pdCgpO1xyXG5cclxuICAgIC8vIEluaXRpYWwgcmVuZGVyIGFmdGVyIGluaXQgY29tcGxldGVzIChsb2NhdGlvbiArIHByYXllciB0aW1lcyBhcmUgcmVhZHkpXHJcbiAgICByZW5kZXJXaWRnZXQoKTtcclxuXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluaXRpYWxpemluZyBwcmF5ZXIgdGltZXMgd2lkZ2V0OicsIGVycm9yKTtcclxuICAgIHdpZGdldEVsZW1lbnQuaW5uZXJIVE1MID0gJzxwIGNsYXNzPVwidGV4dC1jZW50ZXIgcHJheWVyLWVycm9yXCI+VW5hYmxlIHRvIGxvYWQgcHJheWVyIHRpbWVzLjwvcD4nO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEhhbmRsZSB1cGRhdGVzIGZyb20gUHJheWVyVGltZXNTZXJ2aWNlXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSAtIFNlcnZpY2Ugc3RhdGVcclxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IC0gRXZlbnQgdHlwZVxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB3aWRnZXRFbGVtZW50IC0gV2lkZ2V0IGVsZW1lbnRcclxuICovXHJcbmZ1bmN0aW9uIGhhbmRsZVdpZGdldFVwZGF0ZShzdGF0ZSwgZXZlbnQsIHdpZGdldEVsZW1lbnQpIHtcclxuICBzd2l0Y2ggKGV2ZW50KSB7XHJcbiAgICBjYXNlICdsb2FkaW5nJzpcclxuICAgICAgLy8gT25seSBzaG93IGxvYWRpbmcgaWYgd2UgZG9uJ3QgaGF2ZSBkYXRhIHlldFxyXG4gICAgICBpZiAoIXN0YXRlLnByYXllclRpbWVzKSB7XHJcbiAgICAgICAgd2lkZ2V0RWxlbWVudC5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJheWVyLXdpZGdldC1oZWFkZXJcIj5cclxuICAgICAgICAgICAgPGgzIGNsYXNzPVwicHJheWVyLXdpZGdldC10aXRsZVwiPlByYXllciBUaW1lIFdpZGdldDwvaDM+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcmF5ZXItd2lkZ2V0LWxvYWRpbmdcIj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsb2FkaW5nLXNwaW5uZXJcIj48L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuPkZldGNoaW5nIHlvdXIgbG9jYXRpb24uLi48L3NwYW4+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG4gICAgICB9XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnZXJyb3InOlxyXG4gICAgICBpZiAoIXN0YXRlLnByYXllclRpbWVzKSB7XHJcbiAgICAgICAgd2lkZ2V0RWxlbWVudC5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJheWVyLXdpZGdldC1oZWFkZXJcIj5cclxuICAgICAgICAgICAgPGgzIGNsYXNzPVwicHJheWVyLXdpZGdldC10aXRsZVwiPlByYXllciBUaW1lIFdpZGdldDwvaDM+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1jZW50ZXIgcHJheWVyLWVycm9yXCI+JHtzdGF0ZS5lcnJvcj8ubWVzc2FnZSB8fCAnVW5hYmxlIHRvIGxvYWQgcHJheWVyIHRpbWVzLid9PC9wPlxyXG4gICAgICAgIGA7XHJcbiAgICAgIH1cclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICd0aWNrJzpcclxuICAgIGNhc2UgJ2luaXRpYWxpemVkJzpcclxuICAgIGNhc2UgJ3JlZnJlc2hlZCc6XHJcbiAgICBjYXNlICdsb2NhdGlvbi11cGRhdGVkJzpcclxuICAgIGNhc2UgJ3ByYXllci10aW1lcy11cGRhdGVkJzpcclxuICAgIGNhc2UgJ3Zpc2liaWxpdHktY2hhbmdlJzpcclxuICAgICAgcmVuZGVyV2lkZ2V0KCk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmVuZGVyV2lkZ2V0KCk7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogUmVuZGVyIHByYXllciB0aW1lcyB3aWRnZXRcclxuICovXHJcbmZ1bmN0aW9uIHJlbmRlcldpZGdldCgpIHtcclxuICBjb25zdCB3aWRnZXRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByYXllci10aW1lcy13aWRnZXQnKTtcclxuICBpZiAoIXdpZGdldEVsZW1lbnQpIHJldHVybjtcclxuXHJcbiAgY29uc3Qgc3RhdGUgPSBwcmF5ZXJUaW1lc1NlcnZpY2UuZ2V0U3RhdGUoKTtcclxuICBcclxuICAvLyBEb24ndCByZW5kZXIgaWYgc3RpbGwgbG9hZGluZ1xyXG4gIGlmIChzdGF0ZS5pc0xvYWRpbmcgJiYgIXN0YXRlLnByYXllclRpbWVzKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvLyBEb24ndCByZW5kZXIgaWYgZXJyb3IgYW5kIG5vIGRhdGFcclxuICBpZiAoc3RhdGUuZXJyb3IgJiYgIXN0YXRlLnByYXllclRpbWVzKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvLyBDaGVjayBpZiBsb2NhdGlvbiBpcyBmYWxsYmFja1xyXG4gIGNvbnN0IGlzRmFsbGJhY2sgPSBzdGF0ZS5sb2NhdGlvbj8ucXVhbGl0eSA9PT0gTE9DQVRJT05fUVVBTElUWS5GQUxMQkFDSztcclxuICBjb25zdCBsb2NhdGlvbkNsYXNzID0gaXNGYWxsYmFjayA/ICdwcmF5ZXItd2lkZ2V0LWxvY2F0aW9uIHByYXllci13aWRnZXQtbG9jYXRpb24tZmFsbGJhY2snIDogJ3ByYXllci13aWRnZXQtbG9jYXRpb24nO1xyXG5cclxuICB3aWRnZXRFbGVtZW50LmlubmVySFRNTCA9IGBcclxuICAgIDxkaXYgY2xhc3M9XCJwcmF5ZXItd2lkZ2V0LWhlYWRlclwiPlxyXG4gICAgICA8aDMgY2xhc3M9XCJwcmF5ZXItd2lkZ2V0LXRpdGxlXCI+UHJheWVyIFRpbWUgV2lkZ2V0PC9oMz5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cInByYXllci13aWRnZXQtaGVhZGVyXCI+XHJcbiAgICAgIDxzcGFuIGNsYXNzPVwicHJheWVyLXdpZGdldC1kYXRlXCI+JHtzdGF0ZS5mb3JtYXR0ZWREYXRlfTwvc3Bhbj5cclxuICAgICAgPHNwYW4gY2xhc3M9XCJwcmF5ZXItd2lkZ2V0LWNsb2NrXCI+JHtzdGF0ZS5mb3JtYXR0ZWRUaW1lfTwvc3Bhbj5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cIiR7bG9jYXRpb25DbGFzc31cIj7wn5ONICR7c3RhdGUuZm9ybWF0dGVkTG9jYXRpb259PC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwicHJheWVyLXdpZGdldC1uZXh0XCI+XHJcbiAgICAgIDxzcGFuIGNsYXNzPVwicHJheWVyLXdpZGdldC1uZXh0LWxhYmVsXCI+TmV4dCBQcmF5ZXI6PC9zcGFuPiAke3N0YXRlLm5leHRQcmF5ZXI/Lm5hbWUgfHwgJ1Vua25vd24nfSAoJHtzdGF0ZS5mb3JtYXR0ZWRUaW1lVG9OZXh0IHx8ICctLSd9KVxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwicHJheWVyLXdpZGdldC10aW1lc1wiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwicHJheWVyLXdpZGdldC1jb2x1bW5cIj5cclxuICAgICAgICA8c3BhbiBjbGFzcz1cInByYXllci13aWRnZXQtbmFtZVwiPkZhanI8L3NwYW4+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJwcmF5ZXItd2lkZ2V0LXRpbWVcIj4ke3N0YXRlLnByYXllclRpbWVzPy5GYWpyIHx8ICctLTotLSd9PC9zcGFuPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cInByYXllci13aWRnZXQtY29sdW1uXCI+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJwcmF5ZXItd2lkZ2V0LW5hbWVcIj5EaHVocjwvc3Bhbj5cclxuICAgICAgICA8c3BhbiBjbGFzcz1cInByYXllci13aWRnZXQtdGltZVwiPiR7c3RhdGUucHJheWVyVGltZXM/LkRodWhyIHx8ICctLTotLSd9PC9zcGFuPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cInByYXllci13aWRnZXQtY29sdW1uXCI+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJwcmF5ZXItd2lkZ2V0LW5hbWVcIj5Bc3I8L3NwYW4+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJwcmF5ZXItd2lkZ2V0LXRpbWVcIj4ke3N0YXRlLnByYXllclRpbWVzPy5Bc3IgfHwgJy0tOi0tJ308L3NwYW4+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwicHJheWVyLXdpZGdldC1jb2x1bW5cIj5cclxuICAgICAgICA8c3BhbiBjbGFzcz1cInByYXllci13aWRnZXQtbmFtZVwiPk1hZ2hyaWI8L3NwYW4+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJwcmF5ZXItd2lkZ2V0LXRpbWVcIj4ke3N0YXRlLnByYXllclRpbWVzPy5NYWdocmliIHx8ICctLTotLSd9PC9zcGFuPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cInByYXllci13aWRnZXQtY29sdW1uXCI+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJwcmF5ZXItd2lkZ2V0LW5hbWVcIj5Jc2hhPC9zcGFuPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzPVwicHJheWVyLXdpZGdldC10aW1lXCI+JHtzdGF0ZS5wcmF5ZXJUaW1lcz8uSXNoYSB8fCAnLS06LS0nfTwvc3Bhbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICBgO1xyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEZlZWQgQ29udGVudCBJbml0aWFsaXphdGlvblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBJbml0aWFsaXplIHdoZW4gRE9NIGlzIHJlYWR5XHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XHJcbiAgaW5pdERhcmtNb2RlKCk7XHJcbiAgdXBkYXRlRmVlZEhlYWRlcigpO1xyXG4gIGluaXRGZWVkQ29udGVudCgpO1xyXG59KTtcclxuXHJcbi8vIEhhbmRsZSBiZmNhY2hlIHJlc3RvcmF0aW9uIChiYWNrIGJ1dHRvbiBuYXZpZ2F0aW9uKVxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncGFnZXNob3cnLCAoZXZlbnQpID0+IHtcclxuICBpZiAoZXZlbnQucGVyc2lzdGVkKSB7XHJcbiAgICBpbml0RmVlZENvbnRlbnQoKTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemUgZmVlZCBjb250ZW50IGJhc2VkIG9uIGZlZWQgdHlwZSAod2lkZ2V0IG9ubHksIGNhcm91c2VsIG1vdmVkIHRvIHByb2ZpbGUgbW9kZSlcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGluaXRGZWVkQ29udGVudCgpIHtcclxuICBjb25zdCBmZWVkVHlwZSA9IGdldEZlZWRUeXBlKCk7XHJcbiAgY29uc3Qgd2lkZ2V0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmF5ZXItdGltZXMtd2lkZ2V0Jyk7XHJcblxyXG4gIGlmIChmZWVkVHlwZS50eXBlID09PSAnaW5zdGl0dXRpb24nKSB7XHJcbiAgICBhd2FpdCBpbml0SW5zdGl0dXRpb25GZWVkKGZlZWRUeXBlLm5hbWUsIHdpZGdldEVsZW1lbnQpO1xyXG4gIH0gZWxzZSBpZiAoZmVlZFR5cGUudHlwZSA9PT0gJ2p1cmlzZGljdGlvbicpIHtcclxuICAgIGF3YWl0IGluaXRKdXJpc2RpY3Rpb25GZWVkKGZlZWRUeXBlLm5hbWUsIHdpZGdldEVsZW1lbnQpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBHbG9iYWwgZmVlZCAtIHNob3cgd2lkZ2V0IG9ubHlcclxuICAgIGF3YWl0IGluaXRQcmF5ZXJUaW1lc1dpZGdldCgpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemUgaW5zdGl0dXRpb24gZmVlZCAod2lkZ2V0IG9ubHksIGNhcm91c2VsIG1vdmVkIHRvIHByb2ZpbGUgbW9kZSlcclxuICogQHBhcmFtIHtzdHJpbmd9IGluc3RpdHV0aW9uTmFtZSAtIFRoZSBpbnN0aXR1dGlvbiBuYW1lXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHdpZGdldEVsZW1lbnQgLSBUaGUgd2lkZ2V0IGVsZW1lbnRcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGluaXRJbnN0aXR1dGlvbkZlZWQoaW5zdGl0dXRpb25OYW1lLCB3aWRnZXRFbGVtZW50KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZ2V0SW5zdGl0dXRpb25GZWVkQ29uZmlnIH0gPSBhd2FpdCBpbXBvcnQoJy4vY29uZmlnLmpzJyk7XHJcbiAgICBjb25zdCBmZWVkQ29uZmlnID0gYXdhaXQgZ2V0SW5zdGl0dXRpb25GZWVkQ29uZmlnKGluc3RpdHV0aW9uTmFtZSk7XHJcblxyXG4gICAgLy8gU2hvdyB3aWRnZXQgaWYgZW5hYmxlZFxyXG4gICAgaWYgKGZlZWRDb25maWc/LndpZGdldD8uZW5hYmxlZCkge1xyXG4gICAgICBhd2FpdCBpbml0UHJheWVyVGltZXNXaWRnZXQoKTtcclxuICAgIH0gZWxzZSBpZiAod2lkZ2V0RWxlbWVudCkge1xyXG4gICAgICB3aWRnZXRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluaXRpYWxpemluZyBpbnN0aXR1dGlvbiBmZWVkOicsIGVycm9yKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbml0aWFsaXplIGp1cmlzZGljdGlvbiBmZWVkICh3aWRnZXQgb25seSwgY2Fyb3VzZWwgbW92ZWQgdG8gcHJvZmlsZSBtb2RlKVxyXG4gKiBAcGFyYW0ge3N0cmluZ30ganVyaXNkaWN0aW9uTmFtZSAtIFRoZSBqdXJpc2RpY3Rpb24gbmFtZVxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB3aWRnZXRFbGVtZW50IC0gVGhlIHdpZGdldCBlbGVtZW50XHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBpbml0SnVyaXNkaWN0aW9uRmVlZChqdXJpc2RpY3Rpb25OYW1lLCB3aWRnZXRFbGVtZW50KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZ2V0SnVyaXNkaWN0aW9uRmVlZENvbmZpZyB9ID0gYXdhaXQgaW1wb3J0KCcuL2NvbmZpZy5qcycpO1xyXG4gICAgY29uc3QgZmVlZENvbmZpZyA9IGF3YWl0IGdldEp1cmlzZGljdGlvbkZlZWRDb25maWcoanVyaXNkaWN0aW9uTmFtZSk7XHJcblxyXG4gICAgLy8gU2hvdyB3aWRnZXQgaWYgZW5hYmxlZFxyXG4gICAgaWYgKGZlZWRDb25maWc/LndpZGdldD8uZW5hYmxlZCkge1xyXG4gICAgICBhd2FpdCBpbml0UHJheWVyVGltZXNXaWRnZXQoKTtcclxuICAgIH0gZWxzZSBpZiAod2lkZ2V0RWxlbWVudCkge1xyXG4gICAgICB3aWRnZXRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluaXRpYWxpemluZyBqdXJpc2RpY3Rpb24gZmVlZDonLCBlcnJvcik7XHJcbiAgfVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIENsZWFudXBcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIENsZWFudXAgZnVuY3Rpb24gZm9yIHdoZW4gbGVhdmluZyB0aGUgcGFnZVxyXG4gKi9cclxuZnVuY3Rpb24gY2xlYW51cCgpIHtcclxuICBpZiAodW5zdWJzY3JpYmVGcm9tU2VydmljZSkge1xyXG4gICAgdW5zdWJzY3JpYmVGcm9tU2VydmljZSgpO1xyXG4gIH1cclxufVxyXG5cclxuLy8gQ2xlYW51cCBvbiBwYWdlIHVubG9hZFxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgY2xlYW51cCk7XHJcbiJdLCJuYW1lcyI6WyJJbmRleGVkREJDYWNoZSIsImNvbnN0cnVjdG9yIiwiZGJOYW1lIiwic3RvcmVOYW1lIiwidmVyc2lvbiIsInRoaXMiLCJkYiIsImluaXQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlcXVlc3QiLCJpbmRleGVkREIiLCJvcGVuIiwib25lcnJvciIsIkVycm9yIiwiZXJyb3IiLCJvbnN1Y2Nlc3MiLCJyZXN1bHQiLCJvbnVwZ3JhZGVuZWVkZWQiLCJldmVudCIsInRhcmdldCIsIm9iamVjdFN0b3JlTmFtZXMiLCJjb250YWlucyIsInN0b3JlIiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJrZXlQYXRoIiwiY3JlYXRlSW5kZXgiLCJ1bmlxdWUiLCJnZXQiLCJrZXkiLCJ0cmFuc2FjdGlvbiIsIm9iamVjdFN0b3JlIiwiRGF0ZSIsIm5vdyIsInRpbWVzdGFtcCIsInR0bCIsInZhbHVlIiwiZGVsZXRlIiwiY2F0Y2giLCJjb25zb2xlIiwid2FybiIsInNldCIsImRhdGEiLCJwdXQiLCJvbmNvbXBsZXRlIiwiZ2V0T3JGZXRjaCIsImZldGNoRm4iLCJjYWNoZWQiLCJnZXRPckZldGNoU3RhbGUiLCJzdGFsZVRUTCIsInRoZW4iLCJhZ2UiLCJyZWZyZXNoSW5CYWNrZ3JvdW5kIiwiY2xlYXIiLCJjbGVhckV4cGlyZWQiLCJpbmRleCIsIm9wZW5DdXJzb3IiLCJjbGVhcmVkQ291bnQiLCJjdXJzb3IiLCJjb250aW51ZSIsImtleXMiLCJnZXRBbGxLZXlzIiwiZ2V0U3RhdHMiLCJnZXRBbGwiLCJlbnRyaWVzIiwidmFsaWRFbnRyaWVzIiwiZXhwaXJlZEVudHJpZXMiLCJ0b3RhbFNpemUiLCJmb3JFYWNoIiwiZW50cnkiLCJzaXplIiwiSlNPTiIsInN0cmluZ2lmeSIsImxlbmd0aCIsInRvdGFsRW50cmllcyIsInRvdGFsQnl0ZXMiLCJ0b3RhbEtCIiwidG9GaXhlZCIsImF2Z0VudHJ5U2l6ZSIsImNsb3NlIiwiZGVsZXRlRGF0YWJhc2UiLCJDQUNIRV9OQU1FU1BBQ0VTIiwiQ0FDSEVfREVGQVVMVF9UVEwiLCJQUkFZRVJfVElNRVMiLCJ1bmlmaWVkQ2FjaGUiLCJtZW1vcnlDYWNoZSIsIk1hcCIsImlkYkNhY2hlIiwiaW5pdGlhbGl6ZWQiLCJpbml0UHJvbWlzZSIsIl9kb0luaXQiLCJnZW5lcmF0ZUtleSIsIm5hbWVzcGFjZSIsInBhcnRzIiwiam9pbiIsImdlbmVyYXRlTG9jYXRpb25LZXkiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsImV4dHJhUGFydHMiLCJsYXRTdHIiLCJsb25TdHIiLCJoYXMiLCJpbnZhbGlkYXRlTmFtZXNwYWNlIiwicHJlZml4Iiwic3RhcnRzV2l0aCIsImNsZWFyZWQiLCJtZW1vcnlTaXplIiwiaWRiU3RhdHMiLCJtZW1vcnlFbnRyaWVzIiwiaXNTdGFsZSIsIl9yZWZyZXNoSW5CYWNrZ3JvdW5kIiwid2luZG93IiwiTE9DQVRJT05fUVVBTElUWSIsIkdFT0xPQ0FUSU9OX09QVElPTlMiLCJlbmFibGVIaWdoQWNjdXJhY3kiLCJ0aW1lb3V0IiwibWF4aW11bUFnZSIsIkNPUlNfUFJPWElFUyIsIkRFRkFVTFRfTE9DQVRJT04iLCJjaXR5IiwiY291bnRyeSIsIkNBQ0hFX1RUTCIsIkxPQ0FUSU9OIiwiR0VPQ09ESU5HIiwiUFJBWUVSX05BTUVTIiwicHJheWVyVGltZXNTZXJ2aWNlIiwibG9jYXRpb24iLCJwcmF5ZXJUaW1lcyIsIm5leHRQcmF5ZXIiLCJ0aW1lVG9OZXh0UHJheWVyIiwiaXNMb2FkaW5nIiwibGFzdERhdGUiLCJsaXN0ZW5lcnMiLCJTZXQiLCJ1cGRhdGVJbnRlcnZhbCIsImhhbmRsZU9ubGluZSIsImJpbmQiLCJoYW5kbGVPZmZsaW5lIiwiaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSIsIm9wdGlvbnMiLCJub3RpZnlMaXN0ZW5lcnMiLCJnZXRMb2NhdGlvbiIsImZvcmNlUmVmcmVzaCIsImZldGNoUHJheWVyVGltZXMiLCJjYWxjdWxhdGVOZXh0UHJheWVyIiwic2V0dXBFdmVudEhhbmRsZXJzIiwic2V0dXBVcGRhdGVJbnRlcnZhbCIsInNldHVwRGF0ZUNoYW5nZURldGVjdGlvbiIsIm1heEFnZSIsImNhY2hlS2V5IiwiaXNMb2NhdGlvbkZyZXNoIiwiZ2VvY29kaW5nS2V5IiwiZ2VvY29kZWQiLCJlIiwibG9nIiwicXVhbGl0eSIsInBvc2l0aW9uIiwicmVxdWVzdEdQU1Bvc2l0aW9uIiwiY29vcmRzIiwiYWNjdXJhY3kiLCJmZXRjaENpdHlOYW1lIiwiZXJyIiwibWVzc2FnZSIsImdldExvY2F0aW9uRmFsbGJhY2siLCJuYXZpZ2F0b3IiLCJnZW9sb2NhdGlvbiIsImdldEN1cnJlbnRQb3NpdGlvbiIsImV4cGlyZWRDYWNoZSIsImdldEV4cGlyZWRMb2NhdGlvbkNhY2hlIiwiaXNFeHBpcmVkIiwiZmFsbGJhY2tSZWFzb24iLCJnZXRHUFNFcnJvck1lc3NhZ2UiLCJjb2RlIiwiUEVSTUlTU0lPTl9ERU5JRUQiLCJQT1NJVElPTl9VTkFWQUlMQUJMRSIsIlRJTUVPVVQiLCJjb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwidGltZW91dElkIiwic2V0VGltZW91dCIsImFib3J0IiwicmVzcG9uc2UiLCJmZXRjaCIsInNpZ25hbCIsImNsZWFyVGltZW91dCIsIm9rIiwianNvbiIsInVwZGF0ZUxvY2F0aW9uQ2FjaGUiLCJub21pbmF0aW1VcmwiLCJwcm94eSIsImVuY29kZVVSSUNvbXBvbmVudCIsImFkZHJlc3MiLCJ0b3duIiwidmlsbGFnZSIsImNvdW50eSIsImdlbmVyYXRlUHJheWVyQ2FjaGVLZXkiLCJsb2NhbERhdGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ0aW1lWm9uZSIsIkludGwiLCJEYXRlVGltZUZvcm1hdCIsInJlc29sdmVkT3B0aW9ucyIsImNhbGN1bGF0ZVByYXllclRUTCIsInRpbWV6b25lIiwiZW5kT2ZEYXlTdHIiLCJnZXRUaW1lIiwiTWF0aCIsIm1heCIsImNhY2hlRGF0ZSIsImRhdGUiLCJ0b2RheSIsInRvRGF0ZVN0cmluZyIsImNhY2hlQWdlIiwicmVmcmVzaFByYXllclRpbWVzSW5CYWNrZ3JvdW5kIiwiZmV0Y2hQcmF5ZXJUaW1lc0Zyb21BUEkiLCJ1cmwiLCJnZXREYXRlIiwiZ2V0TW9udGgiLCJnZXRGdWxsWWVhciIsIm5hbWUiLCJ0aW1pbmdzIiwiY2FjaGVQcmF5ZXJUaW1lcyIsInRvSVNPU3RyaW5nIiwiY3VycmVudE1pbnV0ZXMiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJwcmF5ZXJNaW51dGVzIiwibWFwIiwiaG91cnMiLCJtaW51dGVzIiwic3BsaXQiLCJOdW1iZXIiLCJ0aW1lIiwicHJheWVyIiwibWludXRlc1VudGlsTWlkbmlnaHQiLCJmb3JtYXRUaW1lVG9OZXh0UHJheWVyIiwiZmxvb3IiLCJmb3JtYXREYXRlIiwid2Vla2RheSIsIm1vbnRoIiwiZGF5IiwieWVhciIsImZvcm1hdEN1cnJlbnRUaW1lIiwiaW5jbHVkZVNlY29uZHMiLCJob3VyIiwibWludXRlIiwiaG91cjEyIiwic2Vjb25kIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiZm9ybWF0TG9jYXRpb24iLCJnZXRTdGF0ZSIsImZvcm1hdHRlZFRpbWVUb05leHQiLCJmb3JtYXR0ZWREYXRlIiwiZm9ybWF0dGVkVGltZSIsImZvcm1hdHRlZExvY2F0aW9uIiwic3Vic2NyaWJlIiwibGlzdGVuZXIiLCJhZGQiLCJzdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJkb2N1bWVudCIsInZpc2liaWxpdHlTdGF0ZSIsImNsZWFySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImN1cnJlbnREYXRlIiwiaW52YWxpZGF0ZVByYXllclRpbWVzQ2FjaGUiLCJpbnZhbGlkYXRlTG9jYXRpb25DYWNoZSIsImludmFsaWRhdGVBbGxDYWNoZXMiLCJkZXN0cm95IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIkRBUktfTU9ERV9LRVkiLCJnZXRGZWVkVHlwZSIsInBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInNlYXJjaCIsImluc3RpdHV0aW9uIiwianVyaXNkaWN0aW9uIiwidHlwZSIsInVuc3Vic2NyaWJlRnJvbVNlcnZpY2UiLCJhc3luYyIsImluaXRQcmF5ZXJUaW1lc1dpZGdldCIsIndpZGdldEVsZW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsInJlbmRlcldpZGdldCIsImhhbmRsZVdpZGdldFVwZGF0ZSIsImxvY2F0aW9uQ2xhc3MiLCJGYWpyIiwiRGh1aHIiLCJBc3IiLCJNYWdocmliIiwiSXNoYSIsImluaXRGZWVkQ29udGVudCIsImZlZWRUeXBlIiwiaW5zdGl0dXRpb25OYW1lIiwiZ2V0SW5zdGl0dXRpb25GZWVkQ29uZmlnIiwiaW1wb3J0IiwiZmVlZENvbmZpZyIsIndpZGdldCIsImVuYWJsZWQiLCJzdHlsZSIsImRpc3BsYXkiLCJpbml0SW5zdGl0dXRpb25GZWVkIiwianVyaXNkaWN0aW9uTmFtZSIsImdldEp1cmlzZGljdGlvbkZlZWRDb25maWciLCJpbml0SnVyaXNkaWN0aW9uRmVlZCIsImFkbWluU2VhbCIsInF1ZXJ5U2VsZWN0b3IiLCJzYXZlZE1vZGUiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicHJlZmVyc0RhcmsiLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsImRvY3VtZW50RWxlbWVudCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImlzRGFyayIsInNldEl0ZW0iLCJpbml0RGFya01vZGUiLCJoZWFkZXJFbGVtZW50IiwidGV4dENvbnRlbnQiLCJjbGVhbk5hbWUiLCJyZXBsYWNlIiwidHJpbSIsInVwZGF0ZUZlZWRIZWFkZXIiLCJwZXJzaXN0ZWQiXSwibWFwcGluZ3MiOiJBQU1PLE1BQU1BLGVBQ1gsV0FBQUMsQ0FBWUMsRUFBUyxjQUFlQyxFQUFZLFlBQWFDLEVBQVUsR0FDckVDLEtBQUtILE9BQVNBLEVBQ2RHLEtBQUtGLFVBQVlBLEVBQ2pCRSxLQUFLRCxRQUFVQSxFQUNmQyxLQUFLQyxHQUFLLElBQ1osQ0FNQSxVQUFNQyxHQUNKLE9BQUlGLEtBQUtDLEdBQ0FELEtBQUtDLEdBR1AsSUFBSUUsUUFBUSxDQUFDQyxFQUFTQyxLQUMzQixNQUFNQyxFQUFVQyxVQUFVQyxLQUFLUixLQUFLSCxPQUFRRyxLQUFLRCxTQUVqRE8sRUFBUUcsUUFBVSxJQUFNSixFQUFPLElBQUlLLE1BQU0sNEJBQTRCSixFQUFRSyxVQUM3RUwsRUFBUU0sVUFBWSxLQUNsQlosS0FBS0MsR0FBS0ssRUFBUU8sT0FDbEJULEVBQVFKLEtBQUtDLEtBR2ZLLEVBQVFRLGdCQUFtQkMsSUFDekIsTUFBTWQsRUFBS2MsRUFBTUMsT0FBT0gsT0FHeEIsSUFBS1osRUFBR2dCLGlCQUFpQkMsU0FBU2xCLEtBQUtGLFdBQVksQ0FDakQsTUFBTXFCLEVBQVFsQixFQUFHbUIsa0JBQWtCcEIsS0FBS0YsVUFBVyxDQUFFdUIsUUFBUyxRQUM5REYsRUFBTUcsWUFBWSxZQUFhLFlBQWEsQ0FBRUMsUUFBUSxJQUN0REosRUFBTUcsWUFBWSxNQUFPLE1BQU8sQ0FBRUMsUUFBUSxHQUM1QyxJQUdOLENBT0EsU0FBTUMsQ0FBSUMsR0FDUixJQUNFLE1BQU14QixRQUFXRCxLQUFLRSxPQUN0QixPQUFPLElBQUlDLFFBQVEsQ0FBQ0MsRUFBU0MsS0FDM0IsTUFFTUMsRUFGY0wsRUFBR3lCLFlBQVksQ0FBQzFCLEtBQUtGLFdBQVksWUFDM0I2QixZQUFZM0IsS0FBS0YsV0FDckIwQixJQUFJQyxHQUUxQm5C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
