const t="1.0.0";let n=null,i=null,e=null,o=null;let s={documents:0,institutions:0,jurisdictions:0,squircleIcons:0};function c(t){const n=Date.now();return s[t]&&n-s[t]<3e5}function a(t){s[t]=Date.now()}async function r(n,i=!0){const e=i?`?v=${t}&t=${Date.now()}`:`?t=${Date.now()}`;return fetch(n+e,{cache:"no-store",headers:{Accept:"application/json"}})}async function l(){if(n&&c("documents"))return n;try{const t=await r("config/documents-config.json");if(!t.ok)throw new Error(`Failed to load config: ${t.status} ${t.statusText}`);const i=await t.json();return n=i,a("documents"),i}catch(t){throw console.error("Error loading documents config:",t),t}}async function d(){if(i&&c("institutions"))return i;try{const t=await r("config/institution-config.json");if(!t.ok)throw new Error(`Failed to load institution config: ${t.status} ${t.statusText}`);const n=await t.json();return i=n,a("institutions"),n}catch(t){return console.error("Error loading institution config:",t),{institutions:{}}}}async function u(){if(e&&c("jurisdictions"))return e;try{const t=await r("config/jurisdiction-config.json");if(!t.ok)throw new Error(`Failed to load jurisdiction config: ${t.status} ${t.statusText}`);const n=await t.json();return e=n,a("jurisdictions"),n}catch(t){return console.error("Error loading jurisdiction config:",t),{jurisdictions:{}}}}async function m(){return(await l()).documents.filter(t=>!1!==t.visible)}async function f(){const t=await m();return[...new Set(t.map(t=>t.item))].sort((t,n)=>t.localeCompare(n))}async function w(){const t=await m();return[...new Set(t.map(t=>t.institution))].sort((t,n)=>t.localeCompare(n))}async function g(){const t=await m();return[...new Set(t.map(t=>t.jurisdiction))].sort((t,n)=>t.localeCompare(n))}async function v(){if(o&&c("squircleIcons"))return o;try{const t=await r("config/squircle-icons-config.json");if(!t.ok)throw new Error(`Failed to load squircle icons config: ${t.status} ${t.statusText}`);const n=await t.json();return o=n,a("squircleIcons"),n}catch(t){return console.error("Error loading squircle icons config:",t),{icons:{}}}}function y(){n=null,i=null,e=null,o=null,s={documents:0,institutions:0,jurisdictions:0,squircleIcons:0}}function p(t,n,i=!1){return i?"library.html":`library.html?${t}=${encodeURIComponent(n)}`}"undefined"!=typeof window&&(window.clearConfigCache=y,window.getCacheVersion=function(){return t},window.setCacheVersion=function(t){y()});let h=null;function b(){document.querySelectorAll(".tab-btn").forEach(t=>{t.addEventListener("click",async()=>{const n=t.dataset.tab;if(function(t){document.querySelectorAll(".tab-content").forEach(t=>{t.classList.add("hidden")});const n=document.getElementById(`${t}-tab`);n&&n.classList.remove("hidden")}(n),function(t){const n=document.querySelectorAll(".tab-btn");n.forEach(n=>{n.dataset.tab===t?(n.classList.add("active","bg-white","shadow-sm","text-gray-900"),n.classList.remove("text-gray-600")):(n.classList.remove("active","bg-white","shadow-sm","text-gray-900"),n.classList.add("text-gray-600"))})}(n),"account"===n){const t=h?[...new Set(h.documents.documents.filter(t=>!1!==t.visible).map(t=>t.institution))].sort():await w(),n=h?h.documents.documents.filter(t=>!1!==t.visible):await m();await E(t,n)}else if("space"===n){const t=h?[...new Set(h.documents.documents.filter(t=>!1!==t.visible).map(t=>t.jurisdiction))].sort():await g(),n=h?h.documents.documents.filter(t=>!1!==t.visible):await m();await C(t,n)}else if("content"===n){const t=h?[...new Set(h.documents.documents.filter(t=>!1!==t.visible).map(t=>t.item))].sort():await f();await j(t)}})}),async function(){try{h=await async function(){const[t,n,i,e]=await Promise.all([l(),d(),u(),v()]);return{documents:t,institutions:n,jurisdictions:i,squircleIcons:e}}(),await async function(){try{const t=h?[...new Set(h.documents.documents.filter(t=>!1!==t.visible).map(t=>t.item))].sort():await f(),n=h?[...new Set(h.documents.documents.filter(t=>!1!==t.visible).map(t=>t.institution))].sort():await w(),i=h?[...new Set(h.documents.documents.filter(t=>!1!==t.visible).map(t=>t.jurisdiction))].sort():await g(),e=h?h.documents.documents.filter(t=>!1!==t.visible):await m();await j(t),await E(n,e),await C(i,e)}catch(t){console.error("Failed to load UI galleries:",t)}}()}catch(t){console.error("Failed to preload data:",t)}}()}async function j(t){const n=document.getElementById("content-gallery");if(!n)return;n.innerHTML="";const i=document.createElement("a");i.href=p("item","All",!0),i.className="squircle-item",i.innerHTML='\n  <div class="squircle">\n    <span class="squircle-emoji">ðŸ“‚</span>\n  </div>\n  <span class="squircle-label">All</span>\n ',n.appendChild(i);const e=h?.squircleIcons?.icons||{},o={};Object.keys(e).forEach(t=>{o[t.toLowerCase()]=e[t]});for(const i of t){const t=document.createElement("a");t.href=p("item",i),t.className="squircle-item";const s=e[i]?.emoji||o[i.toLowerCase()]?.emoji||"ðŸ“„";t.innerHTML=`\n  <div class="squircle">\n    <span class="squircle-emoji">${s}</span>\n  </div>\n  <span class="squircle-label">${i}</span>\n `,n.appendChild(t)}}function $(t){const n=t.match(/\[(.*?)\]/),i=n?n[1]:t.replace(/^Ummah\s+/,"");return{displayName:t.replace(/\s*\[.*?\]\s*$/,""),label:i}}async function E(t,n){const i=document.getElementById("account-gallery");if(!i)return;i.innerHTML="";const e=h?.institutions?.institutions||{},o=[];for(const i of t){const t=n.filter(t=>t.institution===i).length;o.push({institution:i,docCount:t})}o.sort((t,n)=>n.docCount-t.docCount);for(const{institution:t,docCount:n}of o){const{displayName:o,label:s}=$(t),c=e[t]||null,a=c?.avatar||null,r=c?.cover||null,l=document.createElement("a");l.href=p("institution",t),l.className="id-card";const d=r||"./images/default-cover.jpg",u=a||"./images/default-avatar.webp";l.innerHTML=`\n      <div\n        class="id-card-cover"\n        style="background-image: url('${d}'); background-size: cover; background-position: center;"\n      >\n        <div class="id-card-avatar">\n          <img src="${u}" alt="${o}" style="width: 100%; height: 100%; object-fit: cover;" loading="lazy" decoding="async" onerror="this.style.display='none'">\n        </div>\n      </div>\n      <div class="id-card-content">\n        <div class="id-card-name">${o}</div>\n        <div class="id-card-label">${s}</div>\n        <div class="id-card-count">${n} contribution${1!==n?"s":""}</div>\n      </div>\n    `,i.appendChild(l)}}async function C(t,n){const i=document.getElementById("space-gallery");if(!i)return;i.innerHTML="";const e=h?.jurisdictions?.jurisdictions||{},o=[];for(const i of t){const t=i.match(/\[(.*?)\]/),e=t?t[1]:"Community",s=i.replace(/\s*\[.*?\]\s*$/,""),c=n.filter(t=>t.jurisdiction===i),a=new Set(c.map(t=>t.institution)).size;o.push({jurisdiction:i,displayName:s,label:e,contributorCount:a})}o.sort((t,n)=>n.contributorCount-t.contributorCount);for(const{jurisdiction:t,displayName:n,label:s,contributorCount:c}of o){const o=e[t]||null,a=o?.avatar||null,r=o?.cover||null,l=document.createElement("a");l.href=p("jurisdiction",t),l.className="id-card";const d=r||"./images/default-cover.jpg",u=a||"./images/default-avatar.webp";l.innerHTML=`\n      <div\n        class="id-card-cover"\n        style="background-image: url('${d}'); background-size: cover; background-position: center;"\n      >\n        <div class="id-card-avatar">\n          <img src="${u}" alt="${n}" style="width: 100%; height: 100%; object-fit: cover;" loading="lazy" decoding="async" onerror="this.style.display='none'">\n        </div>\n      </div>\n      <div class="id-card-content">\n        <div class="id-card-name">${n}</div>\n        <div class="id-card-label">${s}</div>\n        <div class="id-card-count">${c} contributor${1!==c?"s":""}</div>\n      </div>\n    `,i.appendChild(l)}}const L="darkMode";document.addEventListener("DOMContentLoaded",()=>{!function(){const t=document.querySelector(".admin-seal");if(!t)return;const n=localStorage.getItem(L),i=window.matchMedia("(prefers-color-scheme: dark)").matches;("true"===n||!n&&i)&&document.documentElement.classList.add("dark"),t.addEventListener("click",()=>{document.documentElement.classList.toggle("dark");const t=document.documentElement.classList.contains("dark");localStorage.setItem(L,t)})}(),b()});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgtbWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vLi4vanMvY29uZmlnLmpzIiwiLi4vLi4vanMvdXRpbHMuanMiLCIuLi8uLi9qcy9pbmRleC11aS5qcyIsIi4uLy4uL2pzL2luZGV4LW1haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvbmZpZ3VyYXRpb24gTW9kdWxlXHJcbiAqIExvYWRzIGFuZCBwcm92aWRlcyBhY2Nlc3MgdG8gZG9jdW1lbnRzLWNvbmZpZy5qc29uLCBpbnN0aXR1dGlvbi1jb25maWcuanNvbiwgYW5kIGp1cmlzZGljdGlvbi1jb25maWcuanNvblxyXG4gKiBPcHRpbWl6ZWQgd2l0aCBhZ2dyZXNzaXZlIGNhY2hpbmcgdG8gcmVkdWNlIG5ldHdvcmsgcmVxdWVzdHNcclxuICogSW5jbHVkZXMgY2FjaGUtYnVzdGluZyBmb3IgZGV2ZWxvcG1lbnRcclxuICovXHJcblxyXG4vLyBDYWNoZSB2ZXJzaW9uIC0gaW5jcmVtZW50IHRoaXMgd2hlbiBjb25maWcgZmlsZXMgY2hhbmdlIHRvIGJ1c3QgY2FjaGVcclxuY29uc3QgQ0FDSEVfVkVSU0lPTiA9ICcxLjAuMCc7XHJcblxyXG5sZXQgY29uZmlnQ2FjaGUgPSBudWxsO1xyXG5sZXQgaW5zdGl0dXRpb25Db25maWdDYWNoZSA9IG51bGw7XHJcbmxldCBqdXJpc2RpY3Rpb25Db25maWdDYWNoZSA9IG51bGw7XHJcbmxldCBzcXVpcmNsZUljb25zQ29uZmlnQ2FjaGUgPSBudWxsO1xyXG5cclxuLy8gQ2FjaGUgdGltZXN0YW1wcyBmb3IgVFRMLWJhc2VkIGludmFsaWRhdGlvblxyXG5jb25zdCBDQUNIRV9UVEwgPSA1ICogNjAgKiAxMDAwOyAvLyA1IG1pbnV0ZXNcclxubGV0IGNhY2hlVGltZXN0YW1wcyA9IHtcclxuICBkb2N1bWVudHM6IDAsXHJcbiAgaW5zdGl0dXRpb25zOiAwLFxyXG4gIGp1cmlzZGljdGlvbnM6IDAsXHJcbiAgc3F1aXJjbGVJY29uczogMFxyXG59O1xyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIGNhY2hlIGlzIHN0aWxsIHZhbGlkIGJhc2VkIG9uIFRUTFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gY2FjaGVUeXBlIC0gVHlwZSBvZiBjYWNoZSB0byBjaGVja1xyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBjYWNoZSBpcyB2YWxpZFxyXG4gKi9cclxuZnVuY3Rpb24gaXNDYWNoZVZhbGlkKGNhY2hlVHlwZSkge1xyXG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgcmV0dXJuIGNhY2hlVGltZXN0YW1wc1tjYWNoZVR5cGVdICYmIChub3cgLSBjYWNoZVRpbWVzdGFtcHNbY2FjaGVUeXBlXSA8IENBQ0hFX1RUTCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVcGRhdGUgY2FjaGUgdGltZXN0YW1wXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBjYWNoZVR5cGUgLSBUeXBlIG9mIGNhY2hlIHRvIHVwZGF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gdXBkYXRlQ2FjaGVUaW1lc3RhbXAoY2FjaGVUeXBlKSB7XHJcbiAgY2FjaGVUaW1lc3RhbXBzW2NhY2hlVHlwZV0gPSBEYXRlLm5vdygpO1xyXG59XHJcblxyXG4vKipcclxuICogRmV0Y2ggd2l0aCBjYWNoaW5nIGFuZCBjYWNoZS1idXN0aW5nXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVUkwgdG8gZmV0Y2hcclxuICogQHBhcmFtIHtib29sZWFufSB1c2VDYWNoZUJ1c3RpbmcgLSBXaGV0aGVyIHRvIGFkZCBjYWNoZS1idXN0aW5nIHF1ZXJ5IHBhcmFtXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPFJlc3BvbnNlPn0gRmV0Y2ggcmVzcG9uc2VcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGZldGNoV2l0aENhY2hlKHVybCwgdXNlQ2FjaGVCdXN0aW5nID0gdHJ1ZSkge1xyXG4gIC8vIEFkZCBjYWNoZS1idXN0aW5nIHF1ZXJ5IHBhcmFtIGJhc2VkIG9uIHZlcnNpb24gYW5kIHRpbWVzdGFtcFxyXG4gIGNvbnN0IGNhY2hlQnVzdGVyID0gdXNlQ2FjaGVCdXN0aW5nIFxyXG4gICAgPyBgP3Y9JHtDQUNIRV9WRVJTSU9OfSZ0PSR7RGF0ZS5ub3coKX1gIFxyXG4gICAgOiBgP3Q9JHtEYXRlLm5vdygpfWA7XHJcbiAgXHJcbiAgcmV0dXJuIGZldGNoKHVybCArIGNhY2hlQnVzdGVyLCB7XHJcbiAgICBjYWNoZTogJ25vLXN0b3JlJywgLy8gVXNlIG5vLXN0b3JlIHRvIGxldCBjYWNoZS1idXN0aW5nIHF1ZXJ5IHBhcmFtIGNvbnRyb2wgY2FjaGluZ1xyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMb2FkIHRoZSBkb2N1bWVudHMgY29uZmlndXJhdGlvbiBmcm9tIEpTT04gZmlsZVxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBUaGUgY29uZmlndXJhdGlvbiBvYmplY3RcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkRG9jdW1lbnRzQ29uZmlnKCkge1xyXG4gIGlmIChjb25maWdDYWNoZSAmJiBpc0NhY2hlVmFsaWQoJ2RvY3VtZW50cycpKSB7XHJcbiAgICByZXR1cm4gY29uZmlnQ2FjaGU7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaFdpdGhDYWNoZSgnY29uZmlnL2RvY3VtZW50cy1jb25maWcuanNvbicpO1xyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBsb2FkIGNvbmZpZzogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb25maWcgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBjb25maWdDYWNoZSA9IGNvbmZpZztcclxuICAgIHVwZGF0ZUNhY2hlVGltZXN0YW1wKCdkb2N1bWVudHMnKTtcclxuICAgIHJldHVybiBjb25maWc7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgZG9jdW1lbnRzIGNvbmZpZzonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMb2FkIHRoZSBpbnN0aXR1dGlvbiBjb25maWd1cmF0aW9uIGZyb20gSlNPTiBmaWxlXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IFRoZSBpbnN0aXR1dGlvbiBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRJbnN0aXR1dGlvbkNvbmZpZygpIHtcclxuICBpZiAoaW5zdGl0dXRpb25Db25maWdDYWNoZSAmJiBpc0NhY2hlVmFsaWQoJ2luc3RpdHV0aW9ucycpKSB7XHJcbiAgICByZXR1cm4gaW5zdGl0dXRpb25Db25maWdDYWNoZTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoV2l0aENhY2hlKCdjb25maWcvaW5zdGl0dXRpb24tY29uZmlnLmpzb24nKTtcclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gbG9hZCBpbnN0aXR1dGlvbiBjb25maWc6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29uZmlnID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgaW5zdGl0dXRpb25Db25maWdDYWNoZSA9IGNvbmZpZztcclxuICAgIHVwZGF0ZUNhY2hlVGltZXN0YW1wKCdpbnN0aXR1dGlvbnMnKTtcclxuICAgIHJldHVybiBjb25maWc7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgaW5zdGl0dXRpb24gY29uZmlnOicsIGVycm9yKTtcclxuICAgIC8vIFJldHVybiBlbXB0eSBjb25maWcgb24gZXJyb3IgdG8gcHJldmVudCBicmVha2luZyB0aGUgVUlcclxuICAgIHJldHVybiB7IGluc3RpdHV0aW9uczoge30gfTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMb2FkIHRoZSBqdXJpc2RpY3Rpb24gY29uZmlndXJhdGlvbiBmcm9tIEpTT04gZmlsZVxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBUaGUganVyaXNkaWN0aW9uIGNvbmZpZ3VyYXRpb24gb2JqZWN0XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZEp1cmlzZGljdGlvbkNvbmZpZygpIHtcclxuICBpZiAoanVyaXNkaWN0aW9uQ29uZmlnQ2FjaGUgJiYgaXNDYWNoZVZhbGlkKCdqdXJpc2RpY3Rpb25zJykpIHtcclxuICAgIHJldHVybiBqdXJpc2RpY3Rpb25Db25maWdDYWNoZTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoV2l0aENhY2hlKCdjb25maWcvanVyaXNkaWN0aW9uLWNvbmZpZy5qc29uJyk7XHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGxvYWQganVyaXNkaWN0aW9uIGNvbmZpZzogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb25maWcgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBcclxuICAgIGp1cmlzZGljdGlvbkNvbmZpZ0NhY2hlID0gY29uZmlnO1xyXG4gICAgdXBkYXRlQ2FjaGVUaW1lc3RhbXAoJ2p1cmlzZGljdGlvbnMnKTtcclxuICAgIHJldHVybiBjb25maWc7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcganVyaXNkaWN0aW9uIGNvbmZpZzonLCBlcnJvcik7XHJcbiAgICAvLyBSZXR1cm4gZW1wdHkgY29uZmlnIG9uIGVycm9yIHRvIHByZXZlbnQgYnJlYWtpbmcgdGhlIFVJXHJcbiAgICByZXR1cm4geyBqdXJpc2RpY3Rpb25zOiB7fSB9O1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBpbnN0aXR1dGlvbiBtZXRhZGF0YSBieSBmdWxsIGluc3RpdHV0aW9uIG5hbWVcclxuICogQHBhcmFtIHtzdHJpbmd9IGluc3RpdHV0aW9uTmFtZSAtIFRoZSBmdWxsIGluc3RpdHV0aW9uIG5hbWUgKGUuZy4sIFwiVW1tYWggQ2FiaW5ldCBbTm9uLVByb2ZpdCDigKIgUHJpdmF0ZV1cIilcclxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0fG51bGw+fSBUaGUgaW5zdGl0dXRpb24gbWV0YWRhdGEgb3IgbnVsbCBpZiBub3QgZm91bmRcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRJbnN0aXR1dGlvbk1ldGFkYXRhKGluc3RpdHV0aW9uTmFtZSkge1xyXG4gIGNvbnN0IGNvbmZpZyA9IGF3YWl0IGxvYWRJbnN0aXR1dGlvbkNvbmZpZygpO1xyXG4gIHJldHVybiBjb25maWcuaW5zdGl0dXRpb25zPy5baW5zdGl0dXRpb25OYW1lXSB8fCBudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IGp1cmlzZGljdGlvbiBtZXRhZGF0YSBieSBmdWxsIGp1cmlzZGljdGlvbiBuYW1lXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBqdXJpc2RpY3Rpb25OYW1lIC0gVGhlIGZ1bGwganVyaXNkaWN0aW9uIG5hbWUgKGUuZy4sIFwiQm9ybmVvIFtSZWdpb25dXCIpXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdHxudWxsPn0gVGhlIGp1cmlzZGljdGlvbiBtZXRhZGF0YSBvciBudWxsIGlmIG5vdCBmb3VuZFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEp1cmlzZGljdGlvbk1ldGFkYXRhKGp1cmlzZGljdGlvbk5hbWUpIHtcclxuICBjb25zdCBjb25maWcgPSBhd2FpdCBsb2FkSnVyaXNkaWN0aW9uQ29uZmlnKCk7XHJcbiAgcmV0dXJuIGNvbmZpZy5qdXJpc2RpY3Rpb25zPy5banVyaXNkaWN0aW9uTmFtZV0gfHwgbnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBhbGwgdmlzaWJsZSBkb2N1bWVudHNcclxuICogQHJldHVybnMge1Byb21pc2U8QXJyYXk+fSBBcnJheSBvZiBkb2N1bWVudCBvYmplY3RzXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RG9jdW1lbnRzKCkge1xyXG4gIGNvbnN0IGNvbmZpZyA9IGF3YWl0IGxvYWREb2N1bWVudHNDb25maWcoKTtcclxuICByZXR1cm4gY29uZmlnLmRvY3VtZW50cy5maWx0ZXIoZG9jID0+IGRvYy52aXNpYmxlICE9PSBmYWxzZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgdW5pcXVlIGl0ZW1zIGZyb20gYWxsIGRvY3VtZW50c1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheT59IFNvcnRlZCBhcnJheSBvZiB1bmlxdWUgaXRlbXNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRJdGVtcygpIHtcclxuICBjb25zdCBkb2N1bWVudHMgPSBhd2FpdCBnZXREb2N1bWVudHMoKTtcclxuICBjb25zdCBpdGVtcyA9IG5ldyBTZXQoZG9jdW1lbnRzLm1hcChkb2MgPT4gZG9jLml0ZW0pKTtcclxuICByZXR1cm4gWy4uLml0ZW1zXS5zb3J0KChhLCBiKSA9PiBhLmxvY2FsZUNvbXBhcmUoYikpO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IHVuaXF1ZSBpbnN0aXR1dGlvbnMgZnJvbSBhbGwgZG9jdW1lbnRzXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPEFycmF5Pn0gU29ydGVkIGFycmF5IG9mIHVuaXF1ZSBpbnN0aXR1dGlvbnNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRJbnN0aXR1dGlvbnMoKSB7XHJcbiAgY29uc3QgZG9jdW1lbnRzID0gYXdhaXQgZ2V0RG9jdW1lbnRzKCk7XHJcbiAgY29uc3QgaW5zdGl0dXRpb25zID0gbmV3IFNldChkb2N1bWVudHMubWFwKGRvYyA9PiBkb2MuaW5zdGl0dXRpb24pKTtcclxuICByZXR1cm4gWy4uLmluc3RpdHV0aW9uc10uc29ydCgoYSwgYikgPT4gYS5sb2NhbGVDb21wYXJlKGIpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCB1bmlxdWUganVyaXNkaWN0aW9ucyBmcm9tIGFsbCBkb2N1bWVudHNcclxuICogQHJldHVybnMge1Byb21pc2U8QXJyYXk+fSBTb3J0ZWQgYXJyYXkgb2YgdW5pcXVlIGp1cmlzZGljdGlvbnNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRKdXJpc2RpY3Rpb25zKCkge1xyXG4gIGNvbnN0IGRvY3VtZW50cyA9IGF3YWl0IGdldERvY3VtZW50cygpO1xyXG4gIGNvbnN0IGp1cmlzZGljdGlvbnMgPSBuZXcgU2V0KGRvY3VtZW50cy5tYXAoZG9jID0+IGRvYy5qdXJpc2RpY3Rpb24pKTtcclxuICByZXR1cm4gWy4uLmp1cmlzZGljdGlvbnNdLnNvcnQoKGEsIGIpID0+IGEubG9jYWxlQ29tcGFyZShiKSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMb2FkIHRoZSBzcXVpcmNsZSBpY29ucyBjb25maWd1cmF0aW9uIGZyb20gSlNPTiBmaWxlXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IFRoZSBzcXVpcmNsZSBpY29ucyBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRTcXVpcmNsZUljb25zQ29uZmlnKCkge1xyXG4gIGlmIChzcXVpcmNsZUljb25zQ29uZmlnQ2FjaGUgJiYgaXNDYWNoZVZhbGlkKCdzcXVpcmNsZUljb25zJykpIHtcclxuICAgIHJldHVybiBzcXVpcmNsZUljb25zQ29uZmlnQ2FjaGU7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaFdpdGhDYWNoZSgnY29uZmlnL3NxdWlyY2xlLWljb25zLWNvbmZpZy5qc29uJyk7XHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGxvYWQgc3F1aXJjbGUgaWNvbnMgY29uZmlnOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbmZpZyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIHNxdWlyY2xlSWNvbnNDb25maWdDYWNoZSA9IGNvbmZpZztcclxuICAgIHVwZGF0ZUNhY2hlVGltZXN0YW1wKCdzcXVpcmNsZUljb25zJyk7XHJcbiAgICByZXR1cm4gY29uZmlnO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHNxdWlyY2xlIGljb25zIGNvbmZpZzonLCBlcnJvcik7XHJcbiAgICAvLyBSZXR1cm4gZW1wdHkgY29uZmlnIG9uIGVycm9yIHRvIHByZXZlbnQgYnJlYWtpbmcgdGhlIFVJXHJcbiAgICByZXR1cm4geyBpY29uczoge30gfTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgc3F1aXJjbGUgaWNvbiBtZXRhZGF0YSBieSBpdGVtIG5hbWVcclxuICogQHBhcmFtIHtzdHJpbmd9IGl0ZW1OYW1lIC0gVGhlIGl0ZW0gbmFtZSAoZS5nLiwgXCJCb29rXCIsIFwiUG9saWN5XCIsIFwiRGVjaXNpb25cIilcclxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0fG51bGw+fSBUaGUgaWNvbiBtZXRhZGF0YSBvciBudWxsIGlmIG5vdCBmb3VuZFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNxdWlyY2xlSWNvbk1ldGFkYXRhKGl0ZW1OYW1lKSB7XHJcbiAgY29uc3QgY29uZmlnID0gYXdhaXQgbG9hZFNxdWlyY2xlSWNvbnNDb25maWcoKTtcclxuICByZXR1cm4gY29uZmlnLmljb25zPy5baXRlbU5hbWVdIHx8IG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQcmVsb2FkIGFsbCBjb25maWd1cmF0aW9ucyBhdCBvbmNlXHJcbiAqIFVzZWZ1bCBmb3IgaW5pdGlhbCBwYWdlIGxvYWQgdG8gYmF0Y2ggcmVxdWVzdHNcclxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gT2JqZWN0IGNvbnRhaW5pbmcgYWxsIGNvbmZpZ3NcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcmVsb2FkQWxsQ29uZmlncygpIHtcclxuICBjb25zdCBbZG9jdW1lbnRzLCBpbnN0aXR1dGlvbnMsIGp1cmlzZGljdGlvbnMsIHNxdWlyY2xlSWNvbnNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgbG9hZERvY3VtZW50c0NvbmZpZygpLFxyXG4gICAgbG9hZEluc3RpdHV0aW9uQ29uZmlnKCksXHJcbiAgICBsb2FkSnVyaXNkaWN0aW9uQ29uZmlnKCksXHJcbiAgICBsb2FkU3F1aXJjbGVJY29uc0NvbmZpZygpXHJcbiAgXSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBkb2N1bWVudHMsXHJcbiAgICBpbnN0aXR1dGlvbnMsXHJcbiAgICBqdXJpc2RpY3Rpb25zLFxyXG4gICAgc3F1aXJjbGVJY29uc1xyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIGN1cnJlbnQgY2FjaGUgdmVyc2lvblxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBDdXJyZW50IGNhY2hlIHZlcnNpb25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDYWNoZVZlcnNpb24oKSB7XHJcbiAgcmV0dXJuIENBQ0hFX1ZFUlNJT047XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXQgYSBuZXcgY2FjaGUgdmVyc2lvbiB0byBidXN0IGFsbCBjYWNoZXNcclxuICogQHBhcmFtIHtzdHJpbmd9IHZlcnNpb24gLSBOZXcgdmVyc2lvbiBzdHJpbmdcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRDYWNoZVZlcnNpb24odmVyc2lvbikge1xyXG4gIC8vIENsZWFyIGFsbCBjYWNoZXMgd2hlbiB2ZXJzaW9uIGNoYW5nZXNcclxuICBjbGVhckNvbmZpZ0NhY2hlKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDbGVhciB0aGUgY29uZmlnIGNhY2hlICh1c2VmdWwgZm9yIHRlc3Rpbmcgb3IgaG90LXJlbG9hZClcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGVhckNvbmZpZ0NhY2hlKCkge1xyXG4gIGNvbmZpZ0NhY2hlID0gbnVsbDtcclxuICBpbnN0aXR1dGlvbkNvbmZpZ0NhY2hlID0gbnVsbDtcclxuICBqdXJpc2RpY3Rpb25Db25maWdDYWNoZSA9IG51bGw7XHJcbiAgc3F1aXJjbGVJY29uc0NvbmZpZ0NhY2hlID0gbnVsbDtcclxuICBjYWNoZVRpbWVzdGFtcHMgPSB7XHJcbiAgICBkb2N1bWVudHM6IDAsXHJcbiAgICBpbnN0aXR1dGlvbnM6IDAsXHJcbiAgICBqdXJpc2RpY3Rpb25zOiAwLFxyXG4gICAgc3F1aXJjbGVJY29uczogMFxyXG4gIH07XHJcbn1cclxuXHJcbi8vIEV4cG9zZSBjYWNoZSB1dGlsaXRpZXMgZ2xvYmFsbHkgZm9yIGRldmVsb3BtZW50IChjYW4gYmUgY2FsbGVkIGZyb20gYnJvd3NlciBjb25zb2xlKVxyXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICB3aW5kb3cuY2xlYXJDb25maWdDYWNoZSA9IGNsZWFyQ29uZmlnQ2FjaGU7XHJcbiAgd2luZG93LmdldENhY2hlVmVyc2lvbiA9IGdldENhY2hlVmVyc2lvbjtcclxuICB3aW5kb3cuc2V0Q2FjaGVWZXJzaW9uID0gc2V0Q2FjaGVWZXJzaW9uO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IGluc3RpdHV0aW9uIGZlZWQgY29uZmlndXJhdGlvblxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaW5zdGl0dXRpb25OYW1lIC0gVGhlIGZ1bGwgaW5zdGl0dXRpb24gbmFtZVxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3R8bnVsbD59IFRoZSBmZWVkIGNvbmZpZyBvciBudWxsIGlmIG5vdCBmb3VuZFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEluc3RpdHV0aW9uRmVlZENvbmZpZyhpbnN0aXR1dGlvbk5hbWUpIHtcclxuICBjb25zdCBjb25maWcgPSBhd2FpdCBsb2FkSW5zdGl0dXRpb25Db25maWcoKTtcclxuICByZXR1cm4gY29uZmlnLmluc3RpdHV0aW9ucz8uW2luc3RpdHV0aW9uTmFtZV0/LmZlZWRfY29uZmlnIHx8IG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQganVyaXNkaWN0aW9uIGZlZWQgY29uZmlndXJhdGlvblxyXG4gKiBAcGFyYW0ge3N0cmluZ30ganVyaXNkaWN0aW9uTmFtZSAtIFRoZSBmdWxsIGp1cmlzZGljdGlvbiBuYW1lXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdHxudWxsPn0gVGhlIGZlZWQgY29uZmlnIG9yIG51bGwgaWYgbm90IGZvdW5kXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0SnVyaXNkaWN0aW9uRmVlZENvbmZpZyhqdXJpc2RpY3Rpb25OYW1lKSB7XHJcbiAgY29uc3QgY29uZmlnID0gYXdhaXQgbG9hZEp1cmlzZGljdGlvbkNvbmZpZygpO1xyXG4gIHJldHVybiBjb25maWcuanVyaXNkaWN0aW9ucz8uW2p1cmlzZGljdGlvbk5hbWVdPy5mZWVkX2NvbmZpZyB8fCBudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IGFsbCBjYXJvdXNlbHMgZm9yIGEganVyaXNkaWN0aW9uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBqdXJpc2RpY3Rpb25OYW1lIC0gVGhlIGZ1bGwganVyaXNkaWN0aW9uIG5hbWVcclxuICogQHJldHVybnMge1Byb21pc2U8QXJyYXk+fSBBcnJheSBvZiBjYXJvdXNlbCBvYmplY3RzXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0SnVyaXNkaWN0aW9uQ2Fyb3VzZWxzKGp1cmlzZGljdGlvbk5hbWUpIHtcclxuICBjb25zdCBjb25maWcgPSBhd2FpdCBsb2FkSW5zdGl0dXRpb25Db25maWcoKTtcclxuICBjb25zdCBjYXJvdXNlbHMgPSBbXTtcclxuXHJcbiAgZm9yIChjb25zdCBbaW5zdE5hbWUsIGluc3REYXRhXSBvZiBPYmplY3QuZW50cmllcyhjb25maWcuaW5zdGl0dXRpb25zIHx8IHt9KSkge1xyXG4gICAgY29uc3QgY2Fyb3VzZWwgPSBpbnN0RGF0YS5mZWVkX2NvbmZpZz8uY2Fyb3VzZWw7XHJcbiAgICBpZiAoY2Fyb3VzZWwgJiYgY2Fyb3VzZWwucG9zdF90b19qdXJpc2RpY3Rpb25zPy5pbmNsdWRlcyhqdXJpc2RpY3Rpb25OYW1lKSkge1xyXG4gICAgICAvLyBGZXRjaCBkb2N1bWVudCBkYXRhIGZvciBlYWNoIGltYWdlXHJcbiAgICAgIGNvbnN0IGltYWdlc1dpdGhEb2NzID0gYXdhaXQgUHJvbWlzZS5hbGwoXHJcbiAgICAgICAgY2Fyb3VzZWwuaW1hZ2VzLm1hcChhc3luYyAoaW1nKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBkb2MgPSBpbWcuZG9jdW1lbnRfaWQgPyBhd2FpdCBnZXREb2N1bWVudEJ5SWQoaW1nLmRvY3VtZW50X2lkKSA6IG51bGw7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAuLi5pbWcsXHJcbiAgICAgICAgICAgIGRvY3VtZW50OiBkb2NcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGNhcm91c2Vscy5wdXNoKHtcclxuICAgICAgICBpbnN0aXR1dGlvbjogaW5zdE5hbWUsXHJcbiAgICAgICAgLi4uY2Fyb3VzZWwsXHJcbiAgICAgICAgaW1hZ2VzOiBpbWFnZXNXaXRoRG9jc1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBjYXJvdXNlbHM7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgZG9jdW1lbnQgYnkgSURcclxuICogQHBhcmFtIHtzdHJpbmd9IGRvY3VtZW50SWQgLSBUaGUgZG9jdW1lbnQgSURcclxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0fG51bGw+fSBUaGUgZG9jdW1lbnQgb2JqZWN0IG9yIG51bGwgaWYgbm90IGZvdW5kXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RG9jdW1lbnRCeUlkKGRvY3VtZW50SWQpIHtcclxuICBjb25zdCBjb25maWcgPSBhd2FpdCBsb2FkRG9jdW1lbnRzQ29uZmlnKCk7XHJcbiAgY29uc3QgZG9jID0gY29uZmlnLmRvY3VtZW50cy5maW5kKGRvYyA9PiBkb2MuaWQgPT09IGRvY3VtZW50SWQpIHx8IG51bGw7XHJcbiAgcmV0dXJuIGRvYztcclxufVxyXG4iLCIvKipcclxuICogVXRpbGl0eSBGdW5jdGlvbnNcclxuICogU2hhcmVkIGhlbHBlciBmdW5jdGlvbnMgZm9yIHRoZSBkb2N1bWVudCBtYW5hZ2VtZW50IHN5c3RlbVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBQYXJzZSBVUkwgcXVlcnkgcGFyYW1ldGVyc1xyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBPYmplY3QgY29udGFpbmluZyBmaWx0ZXIgcGFyYW1ldGVyc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUXVlcnlQYXJhbXMoKSB7XHJcbiAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcclxuICByZXR1cm4ge1xyXG4gICAgaXRlbTogcGFyYW1zLmdldCgnaXRlbScpLFxyXG4gICAgaW5zdGl0dXRpb246IHBhcmFtcy5nZXQoJ2luc3RpdHV0aW9uJyksXHJcbiAgICBqdXJpc2RpY3Rpb246IHBhcmFtcy5nZXQoJ2p1cmlzZGljdGlvbicpXHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFBhcnNlIGhhc2gtYmFzZWQgVVJMIHBhcmFtZXRlcnMgKGZvciBjbGllbnQtc2lkZSByb3V0aW5nIGNvbXBhdGliaWxpdHkpXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IE9iamVjdCBjb250YWluaW5nIGZpbHRlciBwYXJhbWV0ZXJzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VIYXNoUGFyYW1zKCkge1xyXG4gIGNvbnN0IGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKTsgLy8gUmVtb3ZlICNcclxuICBpZiAoIWhhc2gpIHJldHVybiB7IGl0ZW06IG51bGwsIGluc3RpdHV0aW9uOiBudWxsLCBqdXJpc2RpY3Rpb246IG51bGwgfTtcclxuICBcclxuICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGhhc2gpO1xyXG4gIHJldHVybiB7XHJcbiAgICBpdGVtOiBwYXJhbXMuZ2V0KCdpdGVtJyksXHJcbiAgICBpbnN0aXR1dGlvbjogcGFyYW1zLmdldCgnaW5zdGl0dXRpb24nKSxcclxuICAgIGp1cmlzZGljdGlvbjogcGFyYW1zLmdldCgnanVyaXNkaWN0aW9uJylcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogQnVpbGQgYSBmaWx0ZXIgVVJMIGZvciB0aGUgbGlicmFyeSBwYWdlXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gRmlsdGVyIHR5cGUgKGl0ZW0sIGluc3RpdHV0aW9uLCBqdXJpc2RpY3Rpb24pXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIEZpbHRlciB2YWx1ZVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzQWxsIC0gV2hldGhlciB0aGlzIGlzIHRoZSBcIkFsbFwiIG9wdGlvbiAobm8gZmlsdGVyKVxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBVUkwgd2l0aCBxdWVyeSBwYXJhbWV0ZXJzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRGaWx0ZXJVcmwodHlwZSwgdmFsdWUsIGlzQWxsID0gZmFsc2UpIHtcclxuICBpZiAoaXNBbGwpIHtcclxuICAgIHJldHVybiAnbGlicmFyeS5odG1sJztcclxuICB9XHJcbiAgcmV0dXJuIGBsaWJyYXJ5Lmh0bWw/JHt0eXBlfT0ke2VuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSl9YDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEZvcm1hdCBhIGRhdGUgc3RyaW5nIGZvciBkaXNwbGF5XHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRlU3RyaW5nIC0gSVNPIGRhdGUgc3RyaW5nXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEZvcm1hdHRlZCBkYXRlIHN0cmluZ1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZVN0cmluZykge1xyXG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyaW5nKTtcclxuICBjb25zdCBkYXkgPSBkYXRlLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgY29uc3QgbW9udGggPSBkYXRlLnRvTG9jYWxlU3RyaW5nKCdlbi1VUycsIHsgbW9udGg6ICdzaG9ydCcgfSk7XHJcbiAgY29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcclxuICBjb25zdCBob3VycyA9IGRhdGUuZ2V0SG91cnMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgY29uc3QgbWludXRlcyA9IGRhdGUuZ2V0TWludXRlcygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTtcclxuXHJcbiAgcmV0dXJuIGAke2RheX0gJHttb250aH0gJHt5ZWFyfSB8ICR7aG91cnN9OiR7bWludXRlc31gO1xyXG59XHJcblxyXG4vKipcclxuICogU29ydCBkb2N1bWVudHMgYnkgZmllbGRcclxuICogQHBhcmFtIHtBcnJheX0gZG9jdW1lbnRzIC0gQXJyYXkgb2YgZG9jdW1lbnQgb2JqZWN0c1xyXG4gKiBAcGFyYW0ge3N0cmluZ30gc29ydEJ5IC0gRmllbGQgdG8gc29ydCBieSAobmFtZSwgdmVyc2lvbiwgZGF0ZSlcclxuICogQHJldHVybnMge0FycmF5fSBTb3J0ZWQgYXJyYXlcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzb3J0RG9jdW1lbnRzKGRvY3VtZW50cywgc29ydEJ5KSB7XHJcbiAgY29uc3Qgc29ydGVkID0gWy4uLmRvY3VtZW50c107XHJcblxyXG4gIHN3aXRjaCAoc29ydEJ5KSB7XHJcbiAgICBjYXNlICduYW1lJzpcclxuICAgICAgcmV0dXJuIHNvcnRlZC5zb3J0KChhLCBiKSA9PiBhLnRpdGxlLmxvY2FsZUNvbXBhcmUoYi50aXRsZSkpO1xyXG5cclxuICAgIGNhc2UgJ3ZlcnNpb24nOlxyXG4gICAgICByZXR1cm4gc29ydGVkLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICBjb25zdCB2ZXJzaW9uRGlmZiA9IGIudmVyc2lvbiAtIGEudmVyc2lvbjtcclxuICAgICAgICBpZiAodmVyc2lvbkRpZmYgIT09IDApIHJldHVybiB2ZXJzaW9uRGlmZjtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoYi5kYXRlKSAtIG5ldyBEYXRlKGEuZGF0ZSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIGNhc2UgJ2RhdGUnOlxyXG4gICAgICByZXR1cm4gc29ydGVkLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGIuZGF0ZSkgLSBuZXcgRGF0ZShhLmRhdGUpKTtcclxuXHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gc29ydGVkO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEZpbHRlciBkb2N1bWVudHMgYmFzZWQgb24gcXVlcnkgcGFyYW1ldGVyc1xyXG4gKiBAcGFyYW0ge0FycmF5fSBkb2N1bWVudHMgLSBBcnJheSBvZiBkb2N1bWVudCBvYmplY3RzXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBmaWx0ZXJzIC0gRmlsdGVyIGNyaXRlcmlhXHJcbiAqIEByZXR1cm5zIHtBcnJheX0gRmlsdGVyZWQgYXJyYXlcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJEb2N1bWVudHMoZG9jdW1lbnRzLCBmaWx0ZXJzKSB7XHJcbiAgcmV0dXJuIGRvY3VtZW50cy5maWx0ZXIoZG9jID0+IHtcclxuICAgIGlmIChmaWx0ZXJzLml0ZW0gJiYgZG9jLml0ZW0udG9Mb3dlckNhc2UoKSAhPT0gZmlsdGVycy5pdGVtLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKGZpbHRlcnMuaW5zdGl0dXRpb24gJiYgZG9jLmluc3RpdHV0aW9uLnRvTG93ZXJDYXNlKCkgIT09IGZpbHRlcnMuaW5zdGl0dXRpb24udG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoZmlsdGVycy5qdXJpc2RpY3Rpb24gJiYgZG9jLmp1cmlzZGljdGlvbi50b0xvd2VyQ2FzZSgpICE9PSBmaWx0ZXJzLmp1cmlzZGljdGlvbi50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogRXNjYXBlIEhUTUwgdG8gcHJldmVudCBYU1NcclxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUZXh0IHRvIGVzY2FwZVxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBFc2NhcGVkIHRleHRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVIdG1sKHRleHQpIHtcclxuICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICBkaXYudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gIHJldHVybiBkaXYuaW5uZXJIVE1MO1xyXG59XHJcblxyXG4vKipcclxuICogU2hvdyBlcnJvciBtZXNzYWdlIHRvIHVzZXJcclxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBFcnJvciBtZXNzYWdlIHRvIGRpc3BsYXlcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzaG93RXJyb3IobWVzc2FnZSkge1xyXG4gIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XHJcblxyXG4gIC8vIENyZWF0ZSBlcnJvciBlbGVtZW50XHJcbiAgY29uc3QgZXJyb3JEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICBlcnJvckRpdi5jbGFzc05hbWUgPSAnZXJyb3ItbWVzc2FnZSc7XHJcbiAgZXJyb3JEaXYuc3R5bGUuY3NzVGV4dCA9IGBcclxuICAgIGJhY2tncm91bmQ6ICNmZWU7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZmNjO1xyXG4gICAgY29sb3I6ICNjMDA7XHJcbiAgICBwYWRkaW5nOiAxcmVtO1xyXG4gICAgbWFyZ2luOiAxcmVtO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGA7XHJcbiAgZXJyb3JEaXYudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xyXG5cclxuICAvLyBJbnNlcnQgYXQgdG9wIG9mIGJvZHlcclxuICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShlcnJvckRpdiwgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTtcclxuXHJcbiAgLy8gQXV0by1yZW1vdmUgYWZ0ZXIgNSBzZWNvbmRzXHJcbiAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICBlcnJvckRpdi5yZW1vdmUoKTtcclxuICB9LCA1MDAwKTtcclxufVxyXG4iLCIvKipcclxuICogSW5kZXggUGFnZSBVSSBNb2R1bGVcclxuICogSGFuZGxlcyB0YWIgbmF2aWdhdGlvbiBhbmQgZ2FsbGVyeSByZW5kZXJpbmdcclxuICogT3B0aW1pemVkIHRvIHJlZHVjZSBuZXR3b3JrIHJlcXVlc3RzIHRocm91Z2ggYmF0Y2hpbmcgYW5kIGNhY2hpbmdcclxuICovXHJcblxyXG5pbXBvcnQgeyBnZXRJdGVtcywgZ2V0SW5zdGl0dXRpb25zLCBnZXRKdXJpc2RpY3Rpb25zLCBnZXREb2N1bWVudHMsIGdldEluc3RpdHV0aW9uTWV0YWRhdGEsIGdldEp1cmlzZGljdGlvbk1ldGFkYXRhLCBnZXRTcXVpcmNsZUljb25NZXRhZGF0YSwgcHJlbG9hZEFsbENvbmZpZ3MgfSBmcm9tICcuL2NvbmZpZy5qcyc7XHJcbmltcG9ydCB7IGJ1aWxkRmlsdGVyVXJsIH0gZnJvbSAnLi91dGlscy5qcyc7XHJcblxyXG4vLyBTdGF0ZVxyXG5sZXQgY3VycmVudFRhYiA9ICdjb250ZW50JztcclxubGV0IHByZWxvYWRlZERhdGEgPSBudWxsO1xyXG5sZXQgZ2FsbGVyaWVzTG9hZGVkID0gZmFsc2U7XHJcblxyXG4vKipcclxuICogSW5pdGlhbGl6ZSB0aGUgVUkgZnVuY3Rpb25hbGl0eVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRVSU1vZGUoKSB7XHJcbiAgLy8gSW5pdGlhbGl6ZSB0YWIgYnV0dG9uc1xyXG4gIGluaXRUYWJzKCk7XHJcblxyXG4gIC8vIFByZWxvYWQgYWxsIGRhdGEgb24gaW5pdGlhbCBsb2FkIHRvIHJlZHVjZSBzdWJzZXF1ZW50IHJlcXVlc3RzXHJcbiAgcHJlbG9hZERhdGEoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFByZWxvYWQgYWxsIGNvbmZpZ3VyYXRpb24gZGF0YVxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gcHJlbG9hZERhdGEoKSB7XHJcbiAgdHJ5IHtcclxuICAgIHByZWxvYWRlZERhdGEgPSBhd2FpdCBwcmVsb2FkQWxsQ29uZmlncygpO1xyXG4gICAgLy8gTG9hZCBnYWxsZXJpZXMgb25jZSBkYXRhIGlzIHByZWxvYWRlZFxyXG4gICAgYXdhaXQgbG9hZFVJR2FsbGVyaWVzKCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBwcmVsb2FkIGRhdGE6JywgZXJyb3IpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemUgdGFiIGJ1dHRvbiBsaXN0ZW5lcnNcclxuICovXHJcbmZ1bmN0aW9uIGluaXRUYWJzKCkge1xyXG4gIGNvbnN0IHRhYkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiLWJ0bicpO1xyXG4gIHRhYkJ1dHRvbnMuZm9yRWFjaChidG4gPT4ge1xyXG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB0YWIgPSBidG4uZGF0YXNldC50YWI7XHJcbiAgICAgIGN1cnJlbnRUYWIgPSB0YWI7XHJcbiAgICAgIHNob3dUYWIodGFiKTtcclxuICAgICAgdXBkYXRlVGFiQnV0dG9ucyh0YWIpO1xyXG4gICAgICBcclxuICAgICAgLy8gTG9hZCBnYWxsZXJ5IGRhdGEgd2hlbiBzd2l0Y2hpbmcgdG8gQWNjb3VudCBvciBTcGFjZSB0YWJzXHJcbiAgICAgIC8vIFVzZSBwcmVsb2FkZWQgZGF0YSBpZiBhdmFpbGFibGVcclxuICAgICAgaWYgKHRhYiA9PT0gJ2FjY291bnQnKSB7XHJcbiAgICAgICAgY29uc3QgaW5zdGl0dXRpb25zID0gcHJlbG9hZGVkRGF0YSA/IFxyXG4gICAgICAgICAgWy4uLm5ldyBTZXQocHJlbG9hZGVkRGF0YS5kb2N1bWVudHMuZG9jdW1lbnRzLmZpbHRlcihkb2MgPT4gZG9jLnZpc2libGUgIT09IGZhbHNlKS5tYXAoZG9jID0+IGRvYy5pbnN0aXR1dGlvbikpXS5zb3J0KCkgOiBcclxuICAgICAgICAgIGF3YWl0IGdldEluc3RpdHV0aW9ucygpO1xyXG4gICAgICAgIGNvbnN0IGRvY3VtZW50cyA9IHByZWxvYWRlZERhdGEgPyBcclxuICAgICAgICAgIHByZWxvYWRlZERhdGEuZG9jdW1lbnRzLmRvY3VtZW50cy5maWx0ZXIoZG9jID0+IGRvYy52aXNpYmxlICE9PSBmYWxzZSkgOiBcclxuICAgICAgICAgIGF3YWl0IGdldERvY3VtZW50cygpO1xyXG4gICAgICAgIGF3YWl0IHJlbmRlckFjY291bnRHYWxsZXJ5KGluc3RpdHV0aW9ucywgZG9jdW1lbnRzKTtcclxuICAgICAgfSBlbHNlIGlmICh0YWIgPT09ICdzcGFjZScpIHtcclxuICAgICAgICBjb25zdCBqdXJpc2RpY3Rpb25zID0gcHJlbG9hZGVkRGF0YSA/IFxyXG4gICAgICAgICAgWy4uLm5ldyBTZXQocHJlbG9hZGVkRGF0YS5kb2N1bWVudHMuZG9jdW1lbnRzLmZpbHRlcihkb2MgPT4gZG9jLnZpc2libGUgIT09IGZhbHNlKS5tYXAoZG9jID0+IGRvYy5qdXJpc2RpY3Rpb24pKV0uc29ydCgpIDogXHJcbiAgICAgICAgICBhd2FpdCBnZXRKdXJpc2RpY3Rpb25zKCk7XHJcbiAgICAgICAgY29uc3QgZG9jdW1lbnRzID0gcHJlbG9hZGVkRGF0YSA/IFxyXG4gICAgICAgICAgcHJlbG9hZGVkRGF0YS5kb2N1bWVudHMuZG9jdW1lbnRzLmZpbHRlcihkb2MgPT4gZG9jLnZpc2libGUgIT09IGZhbHNlKSA6IFxyXG4gICAgICAgICAgYXdhaXQgZ2V0RG9jdW1lbnRzKCk7XHJcbiAgICAgICAgYXdhaXQgcmVuZGVyU3BhY2VHYWxsZXJ5KGp1cmlzZGljdGlvbnMsIGRvY3VtZW50cyk7XHJcbiAgICAgIH0gZWxzZSBpZiAodGFiID09PSAnY29udGVudCcpIHtcclxuICAgICAgICBjb25zdCBpdGVtcyA9IHByZWxvYWRlZERhdGEgPyBcclxuICAgICAgICAgIFsuLi5uZXcgU2V0KHByZWxvYWRlZERhdGEuZG9jdW1lbnRzLmRvY3VtZW50cy5maWx0ZXIoZG9jID0+IGRvYy52aXNpYmxlICE9PSBmYWxzZSkubWFwKGRvYyA9PiBkb2MuaXRlbSkpXS5zb3J0KCkgOiBcclxuICAgICAgICAgIGF3YWl0IGdldEl0ZW1zKCk7XHJcbiAgICAgICAgYXdhaXQgcmVuZGVyQ29udGVudEdhbGxlcnkoaXRlbXMpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNob3cgdGhlIHNwZWNpZmllZCB0YWIgYW5kIGhpZGUgb3RoZXJzXHJcbiAqL1xyXG5mdW5jdGlvbiBzaG93VGFiKHRhYk5hbWUpIHtcclxuICBjb25zdCB0YWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhYi1jb250ZW50Jyk7XHJcbiAgdGFicy5mb3JFYWNoKHRhYiA9PiB7XHJcbiAgICB0YWIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGFjdGl2ZVRhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3RhYk5hbWV9LXRhYmApO1xyXG4gIGlmIChhY3RpdmVUYWIpIHtcclxuICAgIGFjdGl2ZVRhYi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVcGRhdGUgdGFiIGJ1dHRvbiBzdHlsZXNcclxuICovXHJcbmZ1bmN0aW9uIHVwZGF0ZVRhYkJ1dHRvbnMoYWN0aXZlVGFiKSB7XHJcbiAgY29uc3QgdGFiQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWItYnRuJyk7XHJcbiAgdGFiQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICBpZiAoYnRuLmRhdGFzZXQudGFiID09PSBhY3RpdmVUYWIpIHtcclxuICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScsICdiZy13aGl0ZScsICdzaGFkb3ctc20nLCAndGV4dC1ncmF5LTkwMCcpO1xyXG4gICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1ncmF5LTYwMCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScsICdiZy13aGl0ZScsICdzaGFkb3ctc20nLCAndGV4dC1ncmF5LTkwMCcpO1xyXG4gICAgICBidG4uY2xhc3NMaXN0LmFkZCgndGV4dC1ncmF5LTYwMCcpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogTG9hZCBhbGwgVUkgZ2FsbGVyaWVzIHdpdGggZGF0YVxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gbG9hZFVJR2FsbGVyaWVzKCkge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBVc2UgcHJlbG9hZGVkIGRhdGEgaWYgYXZhaWxhYmxlXHJcbiAgICBjb25zdCBpdGVtcyA9IHByZWxvYWRlZERhdGEgPyBcclxuICAgICAgWy4uLm5ldyBTZXQocHJlbG9hZGVkRGF0YS5kb2N1bWVudHMuZG9jdW1lbnRzLmZpbHRlcihkb2MgPT4gZG9jLnZpc2libGUgIT09IGZhbHNlKS5tYXAoZG9jID0+IGRvYy5pdGVtKSldLnNvcnQoKSA6IFxyXG4gICAgICBhd2FpdCBnZXRJdGVtcygpO1xyXG4gICAgY29uc3QgaW5zdGl0dXRpb25zID0gcHJlbG9hZGVkRGF0YSA/IFxyXG4gICAgICBbLi4ubmV3IFNldChwcmVsb2FkZWREYXRhLmRvY3VtZW50cy5kb2N1bWVudHMuZmlsdGVyKGRvYyA9PiBkb2MudmlzaWJsZSAhPT0gZmFsc2UpLm1hcChkb2MgPT4gZG9jLmluc3RpdHV0aW9uKSldLnNvcnQoKSA6IFxyXG4gICAgICBhd2FpdCBnZXRJbnN0aXR1dGlvbnMoKTtcclxuICAgIGNvbnN0IGp1cmlzZGljdGlvbnMgPSBwcmVsb2FkZWREYXRhID8gXHJcbiAgICAgIFsuLi5uZXcgU2V0KHByZWxvYWRlZERhdGEuZG9jdW1lbnRzLmRvY3VtZW50cy5maWx0ZXIoZG9jID0+IGRvYy52aXNpYmxlICE9PSBmYWxzZSkubWFwKGRvYyA9PiBkb2MuanVyaXNkaWN0aW9uKSldLnNvcnQoKSA6IFxyXG4gICAgICBhd2FpdCBnZXRKdXJpc2RpY3Rpb25zKCk7XHJcbiAgICBjb25zdCBkb2N1bWVudHMgPSBwcmVsb2FkZWREYXRhID8gXHJcbiAgICAgIHByZWxvYWRlZERhdGEuZG9jdW1lbnRzLmRvY3VtZW50cy5maWx0ZXIoZG9jID0+IGRvYy52aXNpYmxlICE9PSBmYWxzZSkgOiBcclxuICAgICAgYXdhaXQgZ2V0RG9jdW1lbnRzKCk7XHJcblxyXG4gICAgYXdhaXQgcmVuZGVyQ29udGVudEdhbGxlcnkoaXRlbXMpO1xyXG4gICAgYXdhaXQgcmVuZGVyQWNjb3VudEdhbGxlcnkoaW5zdGl0dXRpb25zLCBkb2N1bWVudHMpO1xyXG4gICAgYXdhaXQgcmVuZGVyU3BhY2VHYWxsZXJ5KGp1cmlzZGljdGlvbnMsIGRvY3VtZW50cyk7XHJcbiAgICBcclxuICAgIGdhbGxlcmllc0xvYWRlZCA9IHRydWU7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIFVJIGdhbGxlcmllczonLCBlcnJvcik7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogUmVuZGVyIENvbnRlbnQgdGFiIGdhbGxlcnkgd2l0aCBzcXVpcmNsZSBpdGVtc1xyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gcmVuZGVyQ29udGVudEdhbGxlcnkoaXRlbXMpIHtcclxuICBjb25zdCBnYWxsZXJ5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQtZ2FsbGVyeScpO1xyXG4gIGlmICghZ2FsbGVyeSkgcmV0dXJuO1xyXG5cclxuICBnYWxsZXJ5LmlubmVySFRNTCA9ICcnO1xyXG5cclxuICAvLyBBZGQgXCJBbGxcIiBvcHRpb24gZmlyc3RcclxuICBjb25zdCBhbGxMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gIGFsbExpbmsuaHJlZiA9IGJ1aWxkRmlsdGVyVXJsKCdpdGVtJywgJ0FsbCcsIHRydWUpO1xyXG4gIGFsbExpbmsuY2xhc3NOYW1lID0gJ3NxdWlyY2xlLWl0ZW0nO1xyXG5cclxuXHJcbiAgYWxsTGluay5pbm5lckhUTUwgPSBgXHJcbiAgPGRpdiBjbGFzcz1cInNxdWlyY2xlXCI+XHJcbiAgICA8c3BhbiBjbGFzcz1cInNxdWlyY2xlLWVtb2ppXCI+8J+Tgjwvc3Bhbj5cclxuICA8L2Rpdj5cclxuICA8c3BhbiBjbGFzcz1cInNxdWlyY2xlLWxhYmVsXCI+QWxsPC9zcGFuPlxyXG4gYDtcclxuXHJcblxyXG4gIGdhbGxlcnkuYXBwZW5kQ2hpbGQoYWxsTGluayk7XHJcblxyXG4gIC8vIEJhdGNoIGZldGNoIGFsbCBpY29uIG1ldGFkYXRhIGF0IG9uY2UgdG8gcmVkdWNlIHJlcXVlc3RzXHJcbiAgY29uc3QgaWNvbk1ldGFkYXRhTWFwID0gcHJlbG9hZGVkRGF0YT8uc3F1aXJjbGVJY29ucz8uaWNvbnMgfHwge307XHJcbiAgXHJcbiAgLy8gQnVpbGQgYSBjYXNlLWluc2Vuc2l0aXZlIGxvb2t1cCBtYXBcclxuICBjb25zdCBpY29uTWV0YWRhdGFMb3dlck1hcCA9IHt9O1xyXG4gIE9iamVjdC5rZXlzKGljb25NZXRhZGF0YU1hcCkuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgaWNvbk1ldGFkYXRhTG93ZXJNYXBba2V5LnRvTG93ZXJDYXNlKCldID0gaWNvbk1ldGFkYXRhTWFwW2tleV07XHJcbiAgfSk7XHJcblxyXG4gIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xyXG4gICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgIGxpbmsuaHJlZiA9IGJ1aWxkRmlsdGVyVXJsKCdpdGVtJywgaXRlbSk7XHJcbiAgICBsaW5rLmNsYXNzTmFtZSA9ICdzcXVpcmNsZS1pdGVtJztcclxuXHJcbiAgXHJcbiAgIFxyXG4gIGNvbnN0IGVtb2ppID1cclxuICAgaWNvbk1ldGFkYXRhTWFwW2l0ZW1dPy5lbW9qaSB8fFxyXG4gICBpY29uTWV0YWRhdGFMb3dlck1hcFtpdGVtLnRvTG93ZXJDYXNlKCldPy5lbW9qaSB8fFxyXG4gICAn8J+ThCc7XHJcblxyXG4gbGluay5pbm5lckhUTUwgPSBgXHJcbiAgPGRpdiBjbGFzcz1cInNxdWlyY2xlXCI+XHJcbiAgICA8c3BhbiBjbGFzcz1cInNxdWlyY2xlLWVtb2ppXCI+JHtlbW9qaX08L3NwYW4+XHJcbiAgPC9kaXY+XHJcbiAgPHNwYW4gY2xhc3M9XCJzcXVpcmNsZS1sYWJlbFwiPiR7aXRlbX08L3NwYW4+XHJcbiBgO1xyXG5cclxuXHJcbiAgICBnYWxsZXJ5LmFwcGVuZENoaWxkKGxpbmspO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEV4dHJhY3QgbGFiZWwgYW5kIGRpc3BsYXkgbmFtZSBmcm9tIGluc3RpdHV0aW9uIG5hbWUgd2l0aCBzcXVhcmUgYnJhY2tldHNcclxuICogZS5nLiwgXCJVbW1haCBDYWJpbmV0IFtOb24tUHJvZml0IOKAoiBQcml2YXRlXVwiIC0+IHsgZGlzcGxheU5hbWU6IFwiVW1tYWggQ2FiaW5ldFwiLCBsYWJlbDogXCJHb3Zlcm5tZW50XCIgfVxyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2VJbnN0aXR1dGlvbihpbnN0aXR1dGlvbikge1xyXG4gIGNvbnN0IGJyYWNrZXRNYXRjaCA9IGluc3RpdHV0aW9uLm1hdGNoKC9cXFsoLio/KVxcXS8pO1xyXG4gIGNvbnN0IGxhYmVsID0gYnJhY2tldE1hdGNoID8gYnJhY2tldE1hdGNoWzFdIDogaW5zdGl0dXRpb24ucmVwbGFjZSgvXlVtbWFoXFxzKy8sICcnKTtcclxuICBjb25zdCBkaXNwbGF5TmFtZSA9IGluc3RpdHV0aW9uLnJlcGxhY2UoL1xccypcXFsuKj9cXF1cXHMqJC8sICcnKTtcclxuICByZXR1cm4geyBkaXNwbGF5TmFtZSwgbGFiZWwgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlbmRlciBBY2NvdW50IHRhYiBnYWxsZXJ5IHdpdGggSUQgY2FyZHNcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIHJlbmRlckFjY291bnRHYWxsZXJ5KGluc3RpdHV0aW9ucywgZG9jdW1lbnRzKSB7XHJcbiAgY29uc3QgZ2FsbGVyeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY2NvdW50LWdhbGxlcnknKTtcclxuICBpZiAoIWdhbGxlcnkpIHJldHVybjtcclxuXHJcbiAgZ2FsbGVyeS5pbm5lckhUTUwgPSAnJztcclxuXHJcbiAgLy8gR2V0IGFsbCBtZXRhZGF0YSBmcm9tIHByZWxvYWRlZCBkYXRhXHJcbiAgY29uc3QgaW5zdGl0dXRpb25NZXRhID0gcHJlbG9hZGVkRGF0YT8uaW5zdGl0dXRpb25zPy5pbnN0aXR1dGlvbnMgfHwge307XHJcblxyXG4gIC8vIEJ1aWxkIGFycmF5IG9mIGluc3RpdHV0aW9ucyB3aXRoIGNvbnRyaWJ1dGlvbiBjb3VudHNcclxuICBjb25zdCBpbnN0aXR1dGlvbkNvdW50cyA9IFtdO1xyXG4gIGZvciAoY29uc3QgaW5zdGl0dXRpb24gb2YgaW5zdGl0dXRpb25zKSB7XHJcbiAgICAvLyBDb3VudCBkb2N1bWVudHMgZm9yIHRoaXMgaW5zdGl0dXRpb25cclxuICAgIGNvbnN0IGRvY0NvdW50ID0gZG9jdW1lbnRzLmZpbHRlcihkb2MgPT4gZG9jLmluc3RpdHV0aW9uID09PSBpbnN0aXR1dGlvbikubGVuZ3RoO1xyXG4gICAgaW5zdGl0dXRpb25Db3VudHMucHVzaCh7IGluc3RpdHV0aW9uLCBkb2NDb3VudCB9KTtcclxuICB9XHJcbiAgXHJcbiAgLy8gU29ydCBieSBjb250cmlidXRpb24gY291bnQgaW4gZGVzY2VuZGluZyBvcmRlclxyXG4gIGluc3RpdHV0aW9uQ291bnRzLnNvcnQoKGEsIGIpID0+IGIuZG9jQ291bnQgLSBhLmRvY0NvdW50KTtcclxuXHJcbiAgZm9yIChjb25zdCB7IGluc3RpdHV0aW9uLCBkb2NDb3VudCB9IG9mIGluc3RpdHV0aW9uQ291bnRzKSB7XHJcbiAgICAvLyBQYXJzZSBpbnN0aXR1dGlvbiBuYW1lIHRvIGdldCBkaXNwbGF5IG5hbWUgYW5kIGxhYmVsXHJcbiAgICBjb25zdCB7IGRpc3BsYXlOYW1lLCBsYWJlbCB9ID0gcGFyc2VJbnN0aXR1dGlvbihpbnN0aXR1dGlvbik7XHJcblxyXG4gICAgLy8gR2V0IGluc3RpdHV0aW9uIG1ldGFkYXRhIGZyb20gcHJlbG9hZGVkIGRhdGFcclxuICAgIGNvbnN0IG1ldGFkYXRhID0gaW5zdGl0dXRpb25NZXRhW2luc3RpdHV0aW9uXSB8fCBudWxsO1xyXG4gICAgY29uc3QgYXZhdGFyVXJsID0gbWV0YWRhdGE/LmF2YXRhciB8fCBudWxsO1xyXG4gICAgY29uc3QgY292ZXJVcmwgPSBtZXRhZGF0YT8uY292ZXIgfHwgbnVsbDtcclxuXHJcbiAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgbGluay5ocmVmID0gYnVpbGRGaWx0ZXJVcmwoJ2luc3RpdHV0aW9uJywgaW5zdGl0dXRpb24pO1xyXG4gICAgbGluay5jbGFzc05hbWUgPSAnaWQtY2FyZCc7XHJcblxyXG4gICAgLy8gVXNlIHByb3BlciByZWxhdGl2ZSBwYXRocyBmb3IgZmFsbGJhY2sgaW1hZ2VzXHJcbiAgICBjb25zdCBjb3ZlckltYWdlVXJsID0gY292ZXJVcmwgfHwgJy4vaW1hZ2VzL2RlZmF1bHQtY292ZXIuanBnJztcclxuICAgIGNvbnN0IGF2YXRhckltYWdlVXJsID0gYXZhdGFyVXJsIHx8ICcuL2ltYWdlcy9kZWZhdWx0LWF2YXRhci53ZWJwJztcclxuXHJcbiAgICBsaW5rLmlubmVySFRNTCA9IGBcclxuICAgICAgPGRpdlxyXG4gICAgICAgIGNsYXNzPVwiaWQtY2FyZC1jb3ZlclwiXHJcbiAgICAgICAgc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7Y292ZXJJbWFnZVVybH0nKTsgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1wiXHJcbiAgICAgID5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiaWQtY2FyZC1hdmF0YXJcIj5cclxuICAgICAgICAgIDxpbWcgc3JjPVwiJHthdmF0YXJJbWFnZVVybH1cIiBhbHQ9XCIke2Rpc3BsYXlOYW1lfVwiIHN0eWxlPVwid2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgb2JqZWN0LWZpdDogY292ZXI7XCIgbG9hZGluZz1cImxhenlcIiBkZWNvZGluZz1cImFzeW5jXCIgb25lcnJvcj1cInRoaXMuc3R5bGUuZGlzcGxheT0nbm9uZSdcIj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJpZC1jYXJkLWNvbnRlbnRcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiaWQtY2FyZC1uYW1lXCI+JHtkaXNwbGF5TmFtZX08L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiaWQtY2FyZC1sYWJlbFwiPiR7bGFiZWx9PC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImlkLWNhcmQtY291bnRcIj4ke2RvY0NvdW50fSBjb250cmlidXRpb24ke2RvY0NvdW50ICE9PSAxID8gJ3MnIDogJyd9PC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxuXHJcbiAgICBnYWxsZXJ5LmFwcGVuZENoaWxkKGxpbmspO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFJlbmRlciBTcGFjZSB0YWIgZ2FsbGVyeSB3aXRoIElEIGNhcmRzXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiByZW5kZXJTcGFjZUdhbGxlcnkoanVyaXNkaWN0aW9ucywgZG9jdW1lbnRzKSB7XHJcbiAgY29uc3QgZ2FsbGVyeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGFjZS1nYWxsZXJ5Jyk7XHJcbiAgaWYgKCFnYWxsZXJ5KSByZXR1cm47XHJcblxyXG4gIGdhbGxlcnkuaW5uZXJIVE1MID0gJyc7XHJcblxyXG4gIC8vIEdldCBhbGwgbWV0YWRhdGEgZnJvbSBwcmVsb2FkZWQgZGF0YVxyXG4gIGNvbnN0IGp1cmlzZGljdGlvbk1ldGEgPSBwcmVsb2FkZWREYXRhPy5qdXJpc2RpY3Rpb25zPy5qdXJpc2RpY3Rpb25zIHx8IHt9O1xyXG5cclxuICAvLyBCdWlsZCBhcnJheSBvZiBqdXJpc2RpY3Rpb25zIHdpdGggY29udHJpYnV0b3IgY291bnRzXHJcbiAgY29uc3QganVyaXNkaWN0aW9uQ291bnRzID0gW107XHJcbiAgZm9yIChjb25zdCBqdXJpc2RpY3Rpb24gb2YganVyaXNkaWN0aW9ucykge1xyXG4gICAgLy8gRXh0cmFjdCBsYWJlbCBmcm9tIHNxdWFyZSBicmFja2V0cyBpZiBwcmVzZW50XHJcbiAgICBjb25zdCBicmFja2V0TWF0Y2ggPSBqdXJpc2RpY3Rpb24ubWF0Y2goL1xcWyguKj8pXFxdLyk7XHJcbiAgICBjb25zdCBsYWJlbCA9IGJyYWNrZXRNYXRjaCA/IGJyYWNrZXRNYXRjaFsxXSA6ICdDb21tdW5pdHknO1xyXG4gICAgY29uc3QgZGlzcGxheU5hbWUgPSBqdXJpc2RpY3Rpb24ucmVwbGFjZSgvXFxzKlxcWy4qP1xcXVxccyokLywgJycpO1xyXG5cclxuICAgIC8vIENvdW50IHVuaXF1ZSBpbnN0aXR1dGlvbnMgdGhhdCBoYXZlIHBvc3RlZCBpbiB0aGlzIGp1cmlzZGljdGlvblxyXG4gICAgY29uc3QgZG9jc0luSnVyaXNkaWN0aW9uID0gZG9jdW1lbnRzLmZpbHRlcihkb2MgPT4gZG9jLmp1cmlzZGljdGlvbiA9PT0ganVyaXNkaWN0aW9uKTtcclxuICAgIGNvbnN0IHVuaXF1ZUluc3RpdHV0aW9ucyA9IG5ldyBTZXQoZG9jc0luSnVyaXNkaWN0aW9uLm1hcChkb2MgPT4gZG9jLmluc3RpdHV0aW9uKSk7XHJcbiAgICBjb25zdCBjb250cmlidXRvckNvdW50ID0gdW5pcXVlSW5zdGl0dXRpb25zLnNpemU7XHJcblxyXG4gICAganVyaXNkaWN0aW9uQ291bnRzLnB1c2goeyBqdXJpc2RpY3Rpb24sIGRpc3BsYXlOYW1lLCBsYWJlbCwgY29udHJpYnV0b3JDb3VudCB9KTtcclxuICB9XHJcbiAgXHJcbiAgLy8gU29ydCBieSBjb250cmlidXRvciBjb3VudCBpbiBkZXNjZW5kaW5nIG9yZGVyXHJcbiAganVyaXNkaWN0aW9uQ291bnRzLnNvcnQoKGEsIGIpID0+IGIuY29udHJpYnV0b3JDb3VudCAtIGEuY29udHJpYnV0b3JDb3VudCk7XHJcblxyXG4gIGZvciAoY29uc3QgeyBqdXJpc2RpY3Rpb24sIGRpc3BsYXlOYW1lLCBsYWJlbCwgY29udHJpYnV0b3JDb3VudCB9IG9mIGp1cmlzZGljdGlvbkNvdW50cykge1xyXG4gICAgLy8gR2V0IGp1cmlzZGljdGlvbiBtZXRhZGF0YSBmcm9tIHByZWxvYWRlZCBkYXRhXHJcbiAgICBjb25zdCBtZXRhZGF0YSA9IGp1cmlzZGljdGlvbk1ldGFbanVyaXNkaWN0aW9uXSB8fCBudWxsO1xyXG4gICAgY29uc3QgYXZhdGFyVXJsID0gbWV0YWRhdGE/LmF2YXRhciB8fCBudWxsO1xyXG4gICAgY29uc3QgY292ZXJVcmwgPSBtZXRhZGF0YT8uY292ZXIgfHwgbnVsbDtcclxuXHJcbiAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgbGluay5ocmVmID0gYnVpbGRGaWx0ZXJVcmwoJ2p1cmlzZGljdGlvbicsIGp1cmlzZGljdGlvbik7XHJcbiAgICBsaW5rLmNsYXNzTmFtZSA9ICdpZC1jYXJkJztcclxuXHJcbiAgICAvLyBVc2UgcHJvcGVyIHJlbGF0aXZlIHBhdGhzIGZvciBmYWxsYmFjayBpbWFnZXNcclxuICAgIGNvbnN0IGNvdmVySW1hZ2VVcmwgPSBjb3ZlclVybCB8fCAnLi9pbWFnZXMvZGVmYXVsdC1jb3Zlci5qcGcnO1xyXG4gICAgY29uc3QgYXZhdGFySW1hZ2VVcmwgPSBhdmF0YXJVcmwgfHwgJy4vaW1hZ2VzL2RlZmF1bHQtYXZhdGFyLndlYnAnO1xyXG5cclxuICAgIGxpbmsuaW5uZXJIVE1MID0gYFxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgY2xhc3M9XCJpZC1jYXJkLWNvdmVyXCJcclxuICAgICAgICBzdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6IHVybCgnJHtjb3ZlckltYWdlVXJsfScpOyBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XCJcclxuICAgICAgPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJpZC1jYXJkLWF2YXRhclwiPlxyXG4gICAgICAgICAgPGltZyBzcmM9XCIke2F2YXRhckltYWdlVXJsfVwiIGFsdD1cIiR7ZGlzcGxheU5hbWV9XCIgc3R5bGU9XCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyBvYmplY3QtZml0OiBjb3ZlcjtcIiBsb2FkaW5nPVwibGF6eVwiIGRlY29kaW5nPVwiYXN5bmNcIiBvbmVycm9yPVwidGhpcy5zdHlsZS5kaXNwbGF5PSdub25lJ1wiPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cImlkLWNhcmQtY29udGVudFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJpZC1jYXJkLW5hbWVcIj4ke2Rpc3BsYXlOYW1lfTwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJpZC1jYXJkLWxhYmVsXCI+JHtsYWJlbH08L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiaWQtY2FyZC1jb3VudFwiPiR7Y29udHJpYnV0b3JDb3VudH0gY29udHJpYnV0b3Ike2NvbnRyaWJ1dG9yQ291bnQgIT09IDEgPyAncycgOiAnJ308L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICBgO1xyXG4gICAgZ2FsbGVyeS5hcHBlbmRDaGlsZChsaW5rKTtcclxuICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIEluZGV4IFBhZ2UgTWFpbiBFbnRyeSBQb2ludFxyXG4gKiBJbml0aWFsaXplcyB0aGUgVUkgb24gdGhlIGluZGV4IHBhZ2VcclxuICovXHJcblxyXG5pbXBvcnQgeyBpbml0VUlNb2RlIH0gZnJvbSAnLi9pbmRleC11aS5qcyc7XHJcblxyXG4vLyBEYXJrIE1vZGUgVG9nZ2xlIEZ1bmN0aW9uYWxpdHlcclxuY29uc3QgREFSS19NT0RFX0tFWSA9ICdkYXJrTW9kZSc7XHJcblxyXG5mdW5jdGlvbiBpbml0RGFya01vZGUoKSB7XHJcbiAgY29uc3QgYWRtaW5TZWFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkbWluLXNlYWwnKTtcclxuICBpZiAoIWFkbWluU2VhbCkgcmV0dXJuO1xyXG5cclxuICAvLyBDaGVjayBmb3Igc2F2ZWQgcHJlZmVyZW5jZSBvciBzeXN0ZW0gcHJlZmVyZW5jZVxyXG4gIGNvbnN0IHNhdmVkTW9kZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKERBUktfTU9ERV9LRVkpO1xyXG4gIGNvbnN0IHByZWZlcnNEYXJrID0gd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKS5tYXRjaGVzO1xyXG4gIFxyXG4gIC8vIEFwcGx5IGRhcmsgbW9kZSBpZiBzYXZlZCBwcmVmZXJlbmNlIGlzICd0cnVlJyBvciBpZiBubyBwcmVmZXJlbmNlIGFuZCBzeXN0ZW0gcHJlZmVycyBkYXJrXHJcbiAgaWYgKHNhdmVkTW9kZSA9PT0gJ3RydWUnIHx8ICghc2F2ZWRNb2RlICYmIHByZWZlcnNEYXJrKSkge1xyXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2RhcmsnKTtcclxuICB9XHJcblxyXG4gIC8vIFRvZ2dsZSBkYXJrIG1vZGUgb24gY2xpY2tcclxuICBhZG1pblNlYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnZGFyaycpO1xyXG4gICAgY29uc3QgaXNEYXJrID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZGFyaycpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oREFSS19NT0RFX0tFWSwgaXNEYXJrKTtcclxuICB9KTtcclxufVxyXG5cclxuLy8gSW5pdGlhbGl6ZSB3aGVuIERPTSBpcyByZWFkeVxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG4gIGluaXREYXJrTW9kZSgpO1xyXG4gIGluaXRVSU1vZGUoKTtcclxufSk7XHJcbiJdLCJuYW1lcyI6WyJDQUNIRV9WRVJTSU9OIiwiY29uZmlnQ2FjaGUiLCJpbnN0aXR1dGlvbkNvbmZpZ0NhY2hlIiwianVyaXNkaWN0aW9uQ29uZmlnQ2FjaGUiLCJzcXVpcmNsZUljb25zQ29uZmlnQ2FjaGUiLCJjYWNoZVRpbWVzdGFtcHMiLCJkb2N1bWVudHMiLCJpbnN0aXR1dGlvbnMiLCJqdXJpc2RpY3Rpb25zIiwic3F1aXJjbGVJY29ucyIsImlzQ2FjaGVWYWxpZCIsImNhY2hlVHlwZSIsIm5vdyIsIkRhdGUiLCJ1cGRhdGVDYWNoZVRpbWVzdGFtcCIsImFzeW5jIiwiZmV0Y2hXaXRoQ2FjaGUiLCJ1cmwiLCJ1c2VDYWNoZUJ1c3RpbmciLCJjYWNoZUJ1c3RlciIsImZldGNoIiwiY2FjaGUiLCJoZWFkZXJzIiwiQWNjZXB0IiwibG9hZERvY3VtZW50c0NvbmZpZyIsInJlc3BvbnNlIiwib2siLCJFcnJvciIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJjb25maWciLCJqc29uIiwiZXJyb3IiLCJjb25zb2xlIiwibG9hZEluc3RpdHV0aW9uQ29uZmlnIiwibG9hZEp1cmlzZGljdGlvbkNvbmZpZyIsImdldERvY3VtZW50cyIsImZpbHRlciIsImRvYyIsInZpc2libGUiLCJnZXRJdGVtcyIsIlNldCIsIm1hcCIsIml0ZW0iLCJzb3J0IiwiYSIsImIiLCJsb2NhbGVDb21wYXJlIiwiZ2V0SW5zdGl0dXRpb25zIiwiaW5zdGl0dXRpb24iLCJnZXRKdXJpc2RpY3Rpb25zIiwianVyaXNkaWN0aW9uIiwibG9hZFNxdWlyY2xlSWNvbnNDb25maWciLCJpY29ucyIsImNsZWFyQ29uZmlnQ2FjaGUiLCJidWlsZEZpbHRlclVybCIsInR5cGUiLCJ2YWx1ZSIsImlzQWxsIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwid2luZG93IiwiZ2V0Q2FjaGVWZXJzaW9uIiwic2V0Q2FjaGVWZXJzaW9uIiwidmVyc2lvbiIsInByZWxvYWRlZERhdGEiLCJpbml0VUlNb2RlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImJ0biIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0YWIiLCJkYXRhc2V0IiwidGFiTmFtZSIsImNsYXNzTGlzdCIsImFkZCIsImFjdGl2ZVRhYiIsImdldEVsZW1lbnRCeUlkIiwicmVtb3ZlIiwic2hvd1RhYiIsInRhYkJ1dHRvbnMiLCJ1cGRhdGVUYWJCdXR0b25zIiwicmVuZGVyQWNjb3VudEdhbGxlcnkiLCJyZW5kZXJTcGFjZUdhbGxlcnkiLCJpdGVtcyIsInJlbmRlckNvbnRlbnRHYWxsZXJ5IiwiUHJvbWlzZSIsImFsbCIsInByZWxvYWRBbGxDb25maWdzIiwibG9hZFVJR2FsbGVyaWVzIiwicHJlbG9hZERhdGEiLCJnYWxsZXJ5IiwiaW5uZXJIVE1MIiwiYWxsTGluayIsImNyZWF0ZUVsZW1lbnQiLCJocmVmIiwiY2xhc3NOYW1lIiwiYXBwZW5kQ2hpbGQiLCJpY29uTWV0YWRhdGFNYXAiLCJpY29uTWV0YWRhdGFMb3dlck1hcCIsIk9iamVjdCIsImtleXMiLCJrZXkiLCJ0b0xvd2VyQ2FzZSIsImxpbmsiLCJlbW9qaSIsInBhcnNlSW5zdGl0dXRpb24iLCJicmFja2V0TWF0Y2giLCJtYXRjaCIsImxhYmVsIiwicmVwbGFjZSIsImRpc3BsYXlOYW1lIiwiaW5zdGl0dXRpb25NZXRhIiwiaW5zdGl0dXRpb25Db3VudHMiLCJkb2NDb3VudCIsImxlbmd0aCIsInB1c2giLCJtZXRhZGF0YSIsImF2YXRhclVybCIsImF2YXRhciIsImNvdmVyVXJsIiwiY292ZXIiLCJjb3ZlckltYWdlVXJsIiwiYXZhdGFySW1hZ2VVcmwiLCJqdXJpc2RpY3Rpb25NZXRhIiwianVyaXNkaWN0aW9uQ291bnRzIiwiZG9jc0luSnVyaXNkaWN0aW9uIiwiY29udHJpYnV0b3JDb3VudCIsInNpemUiLCJEQVJLX01PREVfS0VZIiwiYWRtaW5TZWFsIiwicXVlcnlTZWxlY3RvciIsInNhdmVkTW9kZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwcmVmZXJzRGFyayIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwiZG9jdW1lbnRFbGVtZW50IiwidG9nZ2xlIiwiaXNEYXJrIiwiY29udGFpbnMiLCJzZXRJdGVtIiwiaW5pdERhcmtNb2RlIl0sIm1hcHBp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
