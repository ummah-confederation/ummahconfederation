const t="1.0.0";let n=null,i=null,e=null,o=null;let s={documents:0,institutions:0,jurisdictions:0,squircleIcons:0};function c(t){const n=Date.now();return s[t]&&n-s[t]<3e5}function a(t){s[t]=Date.now()}async function r(n,i=!0){const e=i?`?v=${t}&t=${Date.now()}`:`?t=${Date.now()}`;return fetch(n+e,{cache:"no-store",headers:{Accept:"application/json"}})}async function l(){if(n&&c("documents"))return n;try{const t=await r("config/documents-config.json");if(!t.ok)throw new Error(`Failed to load config: ${t.status} ${t.statusText}`);const i=await t.json();return n=i,a("documents"),i}catch(t){throw console.error("Error loading documents config:",t),t}}async function d(){if(i&&c("institutions"))return i;try{const t=await r("config/institution-config.json");if(!t.ok)throw new Error(`Failed to load institution config: ${t.status} ${t.statusText}`);const n=await t.json();return i=n,a("institutions"),n}catch(t){return console.error("Error loading institution config:",t),{institutions:{}}}}async function u(){if(e&&c("jurisdictions"))return e;try{const t=await r("config/jurisdiction-config.json");if(!t.ok)throw new Error(`Failed to load jurisdiction config: ${t.status} ${t.statusText}`);const n=await t.json();return e=n,a("jurisdictions"),n}catch(t){return console.error("Error loading jurisdiction config:",t),{jurisdictions:{}}}}async function m(){return(await l()).documents.filter(t=>!1!==t.visible)}async function f(){const t=await m();return[...new Set(t.map(t=>t.item))].sort((t,n)=>t.localeCompare(n))}async function w(){const t=await m();return[...new Set(t.map(t=>t.institution))].sort((t,n)=>t.localeCompare(n))}async function g(){const t=await m();return[...new Set(t.map(t=>t.jurisdiction))].sort((t,n)=>t.localeCompare(n))}async function v(){if(o&&c("squircleIcons"))return o;try{const t=await r("config/squircle-icons-config.json");if(!t.ok)throw new Error(`Failed to load squircle icons config: ${t.status} ${t.statusText}`);const n=await t.json();return o=n,a("squircleIcons"),n}catch(t){return console.error("Error loading squircle icons config:",t),{icons:{}}}}function y(){n=null,i=null,e=null,o=null,s={documents:0,institutions:0,jurisdictions:0,squircleIcons:0}}function p(t,n,i=!1){return i?"library.html":`library.html?${t}=${encodeURIComponent(n)}`}"undefined"!=typeof window&&(window.clearConfigCache=y,window.getCacheVersion=function(){return t},window.setCacheVersion=function(t){y()});let h=null;function b(){document.querySelectorAll(".tab-btn").forEach(t=>{t.addEventListener("click",async()=>{const n=t.dataset.tab;if(function(t){document.querySelectorAll(".tab-content").forEach(t=>{t.classList.add("hidden")});const n=document.getElementById(`${t}-tab`);n&&n.classList.remove("hidden")}(n),function(t){const n=document.querySelectorAll(".tab-btn");n.forEach(n=>{n.dataset.tab===t?(n.classList.add("active","bg-white","shadow-sm","text-gray-900"),n.classList.remove("text-gray-600")):(n.classList.remove("active","bg-white","shadow-sm","text-gray-900"),n.classList.add("text-gray-600"))})}(n),"account"===n){const t=h?[...new Set(h.documents.documents.filter(t=>!1!==t.visible).map(t=>t.institution))].sort():await w(),n=h?h.documents.documents.filter(t=>!1!==t.visible):await m();await E(t,n)}else if("space"===n){const t=h?[...new Set(h.documents.documents.filter(t=>!1!==t.visible).map(t=>t.jurisdiction))].sort():await g(),n=h?h.documents.documents.filter(t=>!1!==t.visible):await m();await C(t,n)}else if("content"===n){const t=h?[...new Set(h.documents.documents.filter(t=>!1!==t.visible).map(t=>t.item))].sort():await f();await j(t)}})}),async function(){try{h=await async function(){const[t,n,i,e]=await Promise.all([l(),d(),u(),v()]);return{documents:t,institutions:n,jurisdictions:i,squircleIcons:e}}(),await async function(){try{const t=h?[...new Set(h.documents.documents.filter(t=>!1!==t.visible).map(t=>t.item))].sort():await f(),n=h?[...new Set(h.documents.documents.filter(t=>!1!==t.visible).map(t=>t.institution))].sort():await w(),i=h?[...new Set(h.documents.documents.filter(t=>!1!==t.visible).map(t=>t.jurisdiction))].sort():await g(),e=h?h.documents.documents.filter(t=>!1!==t.visible):await m();await j(t),await E(n,e),await C(i,e)}catch(t){console.error("Failed to load UI galleries:",t)}}()}catch(t){console.error("Failed to preload data:",t)}}()}async function j(t){const n=document.getElementById("content-gallery");if(!n)return;n.innerHTML="";const i=document.createElement("a");i.href=p("item","All",!0),i.className="squircle-item",i.innerHTML='\n  <div class="squircle">\n    <span class="squircle-emoji">ðŸ“‚</span>\n  </div>\n  <span class="squircle-label">All</span>\n ',n.appendChild(i);const e=h?.squircleIcons?.icons||{},o={};Object.keys(e).forEach(t=>{o[t.toLowerCase()]=e[t]});for(const i of t){const t=document.createElement("a");t.href=p("item",i),t.className="squircle-item";const s=e[i]?.emoji||o[i.toLowerCase()]?.emoji||"ðŸ“„";t.innerHTML=`\n  <div class="squircle">\n    <span class="squircle-emoji">${s}</span>\n  </div>\n  <span class="squircle-label">${i}</span>\n `,n.appendChild(t)}}function $(t){const n=t.match(/\[(.*?)\]/),i=n?n[1]:t.replace(/^Ummah\s+/,"");return{displayName:t.replace(/\s*\[.*?\]\s*$/,""),label:i}}async function E(t,n){const i=document.getElementById("account-gallery");if(!i)return;i.innerHTML="";const e=h?.institutions?.institutions||{},o=[];for(const i of t){const t=n.filter(t=>t.institution===i).length;o.push({institution:i,docCount:t})}o.sort((t,n)=>n.docCount-t.docCount);for(const{institution:t,docCount:n}of o){const{displayName:o,label:s}=$(t),c=e[t]||null,a=c?.avatar||null,r=c?.cover||null,l=document.createElement("a");l.href=p("institution",t),l.className="id-card";const d=r||"./images/default-cover.jpg",u=a||"./images/default-avatar.webp";l.innerHTML=`\n      <div\n        class="id-card-cover"\n        style="background-image: url('${d}'); background-size: cover; background-position: center;"\n      >\n        <div class="id-card-avatar">\n          <img src="${u}" alt="${o}" style="width: 100%; height: 100%; object-fit: cover;" loading="lazy" decoding="async" onerror="this.style.display='none'">\n        </div>\n      </div>\n      <div class="id-card-content">\n        <div class="id-card-name">${o}</div>\n        <div class="id-card-label">${s}</div>\n        <div class="id-card-count">${n} contribution${1!==n?"s":""}</div>\n      </div>\n    `,i.appendChild(l)}}async function C(t,n){const i=document.getElementById("space-gallery");if(!i)return;i.innerHTML="";const e=h?.jurisdictions?.jurisdictions||{},o=[];for(const i of t){const t=i.match(/\[(.*?)\]/),e=t?t[1]:"Community",s=i.replace(/\s*\[.*?\]\s*$/,""),c=n.filter(t=>t.jurisdiction===i),a=new Set(c.map(t=>t.institution)).size;o.push({jurisdiction:i,displayName:s,label:e,contributorCount:a})}o.sort((t,n)=>n.contributorCount-t.contributorCount);for(const{jurisdiction:t,displayName:n,label:s,contributorCount:c}of o){const o=e[t]||null,a=o?.avatar||null,r=o?.cover||null,l=document.createElement("a");l.href=p("jurisdiction",t),l.className="id-card";const d=r||"./images/default-cover.jpg",u=a||"./images/default-avatar.webp";l.innerHTML=`\n      <div\n        class="id-card-cover"\n        style="background-image: url('${d}'); background-size: cover; background-position: center;"\n      >\n        <div class="id-card-avatar">\n          <img src="${u}" alt="${n}" style="width: 100%; height: 100%; object-fit: cover;" loading="lazy" decoding="async" onerror="this.style.display='none'">\n        </div>\n      </div>\n      <div class="id-card-content">\n        <div class="id-card-name">${n}</div>\n        <div class="id-card-label">${s}</div>\n        <div class="id-card-count">${c} contributor${1!==c?"s":""}</div>\n      </div>\n    `,i.appendChild(l)}}const L="darkMode";document.addEventListener("DOMContentLoaded",()=>{!function(){const t=document.querySelector(".admin-seal");if(!t)return;const n=localStorage.getItem(L),i=window.matchMedia("(prefers-color-scheme: dark)").matches;("true"===n||!n&&i)&&document.documentElement.classList.add("dark"),t.addEventListener("click",()=>{document.documentElement.classList.toggle("dark");const t=document.documentElement.classList.contains("dark");localStorage.setItem(L,t)})}(),b()});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgtbWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vLi4vanMvY29uZmlnLmpzIiwiLi4vLi4vanMvdXRpbHMuanMiLCIuLi8uLi9qcy9pbmRleC11aS5qcyIsIi4uLy4uL2pzL2luZGV4LW1haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvbmZpZ3VyYXRpb24gTW9kdWxlXHJcbiAqIExvYWRzIGFuZCBwcm92aWRlcyBhY2Nlc3MgdG8gZG9jdW1lbnRzLWNvbmZpZy5qc29uLCBpbnN0aXR1dGlvbi1jb25maWcuanNvbiwgYW5kIGp1cmlzZGljdGlvbi1jb25maWcuanNvblxyXG4gKiBPcHRpbWl6ZWQgd2l0aCBhZ2dyZXNzaXZlIGNhY2hpbmcgdG8gcmVkdWNlIG5ldHdvcmsgcmVxdWVzdHNcclxuICogSW5jbHVkZXMgY2FjaGUtYnVzdGluZyBmb3IgZGV2ZWxvcG1lbnRcclxuICovXHJcblxyXG4vLyBDYWNoZSB2ZXJzaW9uIC0gaW5jcmVtZW50IHRoaXMgd2hlbiBjb25maWcgZmlsZXMgY2hhbmdlIHRvIGJ1c3QgY2FjaGVcclxuY29uc3QgQ0FDSEVfVkVSU0lPTiA9ICcxLjAuMCc7XHJcblxyXG5sZXQgY29uZmlnQ2FjaGUgPSBudWxsO1xyXG5sZXQgaW5zdGl0dXRpb25Db25maWdDYWNoZSA9IG51bGw7XHJcbmxldCBqdXJpc2RpY3Rpb25Db25maWdDYWNoZSA9IG51bGw7XHJcbmxldCBzcXVpcmNsZUljb25zQ29uZmlnQ2FjaGUgPSBudWxsO1xyXG5cclxuLy8gQ2FjaGUgdGltZXN0YW1wcyBmb3IgVFRMLWJhc2VkIGludmFsaWRhdGlvblxyXG5jb25zdCBDQUNIRV9UVEwgPSA1ICogNjAgKiAxMDAwOyAvLyA1IG1pbnV0ZXNcclxubGV0IGNhY2hlVGltZXN0YW1wcyA9IHtcclxuICBkb2N1bWVudHM6IDAsXHJcbiAgaW5zdGl0dXRpb25zOiAwLFxyXG4gIGp1cmlzZGljdGlvbnM6IDAsXHJcbiAgc3F1aXJjbGVJY29uczogMFxyXG59O1xyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIGNhY2hlIGlzIHN0aWxsIHZhbGlkIGJhc2VkIG9uIFRUTFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gY2FjaGVUeXBlIC0gVHlwZSBvZiBjYWNoZSB0byBjaGVja1xyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBjYWNoZSBpcyB2YWxpZFxyXG4gKi9cclxuZnVuY3Rpb24gaXNDYWNoZVZhbGlkKGNhY2hlVHlwZSkge1xyXG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgcmV0dXJuIGNhY2hlVGltZXN0YW1wc1tjYWNoZVR5cGVdICYmIChub3cgLSBjYWNoZVRpbWVzdGFtcHNbY2FjaGVUeXBlXSA8IENBQ0hFX1RUTCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVcGRhdGUgY2FjaGUgdGltZXN0YW1wXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBjYWNoZVR5cGUgLSBUeXBlIG9mIGNhY2hlIHRvIHVwZGF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gdXBkYXRlQ2FjaGVUaW1lc3RhbXAoY2FjaGVUeXBlKSB7XHJcbiAgY2FjaGVUaW1lc3RhbXBzW2NhY2hlVHlwZV0gPSBEYXRlLm5vdygpO1xyXG59XHJcblxyXG4vKipcclxuICogRmV0Y2ggd2l0aCBjYWNoaW5nIGFuZCBjYWNoZS1idXN0aW5nXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVUkwgdG8gZmV0Y2hcclxuICogQHBhcmFtIHtib29sZWFufSB1c2VDYWNoZUJ1c3RpbmcgLSBXaGV0aGVyIHRvIGFkZCBjYWNoZS1idXN0aW5nIHF1ZXJ5IHBhcmFtXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPFJlc3BvbnNlPn0gRmV0Y2ggcmVzcG9uc2VcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGZldGNoV2l0aENhY2hlKHVybCwgdXNlQ2FjaGVCdXN0aW5nID0gdHJ1ZSkge1xyXG4gIC8vIEFkZCBjYWNoZS1idXN0aW5nIHF1ZXJ5IHBhcmFtIGJhc2VkIG9uIHZlcnNpb24gYW5kIHRpbWVzdGFtcFxyXG4gIGNvbnN0IGNhY2hlQnVzdGVyID0gdXNlQ2FjaGVCdXN0aW5nIFxyXG4gICAgPyBgP3Y9JHtDQUNIRV9WRVJTSU9OfSZ0PSR7RGF0ZS5ub3coKX1gIFxyXG4gICAgOiBgP3Q9JHtEYXRlLm5vdygpfWA7XHJcbiAgXHJcbiAgcmV0dXJuIGZldGNoKHVybCArIGNhY2hlQnVzdGVyLCB7XHJcbiAgICBjYWNoZTogJ25vLXN0b3JlJywgLy8gVXNlIG5vLXN0b3JlIHRvIGxldCBjYWNoZS1idXN0aW5nIHF1ZXJ5IHBhcmFtIGNvbnRyb2wgY2FjaGluZ1xyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMb2FkIHRoZSBkb2N1bWVudHMgY29uZmlndXJhdGlvbiBmcm9tIEpTT04gZmlsZVxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBUaGUgY29uZmlndXJhdGlvbiBvYmplY3RcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkRG9jdW1lbnRzQ29uZmlnKCkge1xyXG4gIGlmIChjb25maWdDYWNoZSAmJiBpc0NhY2hlVmFsaWQoJ2RvY3VtZW50cycpKSB7XHJcbiAgICByZXR1cm4gY29uZmlnQ2FjaGU7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaFdpdGhDYWNoZSgnY29uZmlnL2RvY3VtZW50cy1jb25maWcuanNvbicpO1xyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBsb2FkIGNvbmZpZzogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb25maWcgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBjb25maWdDYWNoZSA9IGNvbmZpZztcclxuICAgIHVwZGF0ZUNhY2hlVGltZXN0YW1wKCdkb2N1bWVudHMnKTtcclxuICAgIHJldHVybiBjb25maWc7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgZG9jdW1lbnRzIGNvbmZpZzonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMb2FkIHRoZSBpbnN0aXR1dGlvbiBjb25maWd1cmF0aW9uIGZyb20gSlNPTiBmaWxlXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IFRoZSBpbnN0aXR1dGlvbiBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRJbnN0aXR1dGlvbkNvbmZpZygpIHtcclxuICBpZiAoaW5zdGl0dXRpb25Db25maWdDYWNoZSAmJiBpc0NhY2hlVmFsaWQoJ2luc3RpdHV0aW9ucycpKSB7XHJcbiAgICByZXR1cm4gaW5zdGl0dXRpb25Db25maWdDYWNoZTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoV2l0aENhY2hlKCdjb25maWcvaW5zdGl0dXRpb24tY29uZmlnLmpzb24nKTtcclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gbG9hZCBpbnN0aXR1dGlvbiBjb25maWc6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29uZmlnID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgaW5zdGl0dXRpb25Db25maWdDYWNoZSA9IGNvbmZpZztcclxuICAgIHVwZGF0ZUNhY2hlVGltZXN0YW1wKCdpbnN0aXR1dGlvbnMnKTtcclxuICAgIHJldHVybiBjb25maWc7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgaW5zdGl0dXRpb24gY29uZmlnOicsIGVycm9yKTtcclxuICAgIC8vIFJldHVybiBlbXB0eSBjb25maWcgb24gZXJyb3IgdG8gcHJldmVudCBicmVha2luZyB0aGUgVUlcclxuICAgIHJldHVybiB7IGluc3RpdHV0aW9uczoge30gfTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMb2FkIHRoZSBqdXJpc2RpY3Rpb24gY29uZmlndXJhdGlvbiBmcm9tIEpTT04gZmlsZVxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBUaGUganVyaXNkaWN0aW9uIGNvbmZpZ3VyYXRpb24gb2JqZWN0XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZEp1cmlzZGljdGlvbkNvbmZpZygpIHtcclxuICBpZiAoanVyaXNkaWN0aW9uQ29uZmlnQ2FjaGUgJiYgaXNDYWNoZVZhbGlkKCdqdXJpc2RpY3Rpb25zJykpIHtcclxuICAgIHJldHVybiBqdXJpc2RpY3Rpb25Db25maWdDYWNoZTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoV2l0aENhY2hlKCdjb25maWcvanVyaXNkaWN0aW9uLWNvbmZpZy5qc29uJyk7XHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGxvYWQganVyaXNkaWN0aW9uIGNvbmZpZzogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb25maWcgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBcclxuICAgIGp1cmlzZGljdGlvbkNvbmZpZ0NhY2hlID0gY29uZmlnO1xyXG4gICAgdXBkYXRlQ2FjaGVUaW1lc3RhbXAoJ2p1cmlzZGljdGlvbnMnKTtcclxuICAgIHJldHVybiBjb25maWc7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcganVyaXNkaWN0aW9uIGNvbmZpZzonLCBlcnJvcik7XHJcbiAgICAvLyBSZXR1cm4gZW1wdHkgY29uZmlnIG9uIGVycm9yIHRvIHByZXZlbnQgYnJlYWtpbmcgdGhlIFVJXHJcbiAgICByZXR1cm4geyBqdXJpc2RpY3Rpb25zOiB7fSB9O1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBpbnN0aXR1dGlvbiBtZXRhZGF0YSBieSBmdWxsIGluc3RpdHV0aW9uIG5hbWVcclxuICogQHBhcmFtIHtzdHJpbmd9IGluc3RpdHV0aW9uTmFtZSAtIFRoZSBmdWxsIGluc3RpdHV0aW9uIG5hbWUgKGUuZy4sIFwiVW1tYWggQ2FiaW5ldCBbTm9uLVByb2ZpdCDigKIgUHJpdmF0ZV1cIilcclxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0fG51bGw+fSBUaGUgaW5zdGl0dXRpb24gbWV0YWRhdGEgb3IgbnVsbCBpZiBub3QgZm91bmRcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRJbnN0aXR1dGlvbk1ldGFkYXRhKGluc3RpdHV0aW9uTmFtZSkge1xyXG4gIGNvbnN0IGNvbmZpZyA9IGF3YWl0IGxvYWRJbnN0aXR1dGlvbkNvbmZpZygpO1xyXG4gIHJldHVybiBjb25maWcuaW5zdGl0dXRpb25zPy5baW5zdGl0dXRpb25OYW1lXSB8fCBudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IGp1cmlzZGljdGlvbiBtZXRhZGF0YSBieSBmdWxsIGp1cmlzZGljdGlvbiBuYW1lXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBqdXJpc2RpY3Rpb25OYW1lIC0gVGhlIGZ1bGwganVyaXNkaWN0aW9uIG5hbWUgKGUuZy4sIFwiQm9ybmVvIFtSZWdpb25dXCIpXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdHxudWxsPn0gVGhlIGp1cmlzZGljdGlvbiBtZXRhZGF0YSBvciBudWxsIGlmIG5vdCBmb3VuZFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEp1cmlzZGljdGlvbk1ldGFkYXRhKGp1cmlzZGljdGlvbk5hbWUpIHtcclxuICBjb25zdCBjb25maWcgPSBhd2FpdCBsb2FkSnVyaXNkaWN0aW9uQ29uZmlnKCk7XHJcbiAgcmV0dXJuIGNvbmZpZy5qdXJpc2RpY3Rpb25zPy5banVyaXNkaWN0aW9uTmFtZV0gfHwgbnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBhbGwgdmlzaWJsZSBkb2N1bWVudHNcclxuICogQHJldHVybnMge1Byb21pc2U8QXJyYXk+fSBBcnJheSBvZiBkb2N1bWVudCBvYmplY3RzXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RG9jdW1lbnRzKCkge1xyXG4gIGNvbnN0IGNvbmZpZyA9IGF3YWl0IGxvYWREb2N1bWVudHNDb25maWcoKTtcclxuICByZXR1cm4gY29uZmlnLmRvY3VtZW50cy5maWx0ZXIoZG9jID0+IGRvYy52aXNpYmxlICE9PSBmYWxzZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgdW5pcXVlIGl0ZW1zIGZyb20gYWxsIGRvY3VtZW50c1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheT59IFNvcnRlZCBhcnJheSBvZiB1bmlxdWUgaXRlbXNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRJdGVtcygpIHtcclxuICBjb25zdCBkb2N1bWVudHMgPSBhd2FpdCBnZXREb2N1bWVudHMoKTtcclxuICBjb25zdCBpdGVtcyA9IG5ldyBTZXQoZG9jdW1lbnRzLm1hcChkb2MgPT4gZG9jLml0ZW0pKTtcclxuICByZXR1cm4gWy4uLml0ZW1zXS5zb3J0KChhLCBiKSA9PiBhLmxvY2FsZUNvbXBhcmUoYikpO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IHVuaXF1ZSBpbnN0aXR1dGlvbnMgZnJvbSBhbGwgZG9jdW1lbnRzXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPEFycmF5Pn0gU29ydGVkIGFycmF5IG9mIHVuaXF1ZSBpbnN0aXR1dGlvbnNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRJbnN0aXR1dGlvbnMoKSB7XHJcbiAgY29uc3QgZG9jdW1lbnRzID0gYXdhaXQgZ2V0RG9jdW1lbnRzKCk7XHJcbiAgY29uc3QgaW5zdGl0dXRpb25zID0gbmV3IFNldChkb2N1bWVudHMubWFwKGRvYyA9PiBkb2MuaW5zdGl0dXRpb24pKTtcclxuICByZXR1cm4gWy4uLmluc3RpdHV0aW9uc10uc29ydCgoYSwgYikgPT4gYS5sb2NhbGVDb21wYXJlKGIpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCB1bmlxdWUganVyaXNkaWN0aW9ucyBmcm9tIGFsbCBkb2N1bWVudHNcclxuICogQHJldHVybnMge1Byb21pc2U8QXJyYXk+fSBTb3J0ZWQgYXJyYXkgb2YgdW5pcXVlIGp1cmlzZGljdGlvbnNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRKdXJpc2RpY3Rpb25zKCkge1xyXG4gIGNvbnN0IGRvY3VtZW50cyA9IGF3YWl0IGdldERvY3VtZW50cygpO1xyXG4gIGNvbnN0IGp1cmlzZGljdGlvbnMgPSBuZXcgU2V0KGRvY3VtZW50cy5tYXAoZG9jID0+IGRvYy5qdXJpc2RpY3Rpb24pKTtcclxuICByZXR1cm4gWy4uLmp1cmlzZGljdGlvbnNdLnNvcnQoKGEsIGIpID0+IGEubG9jYWxlQ29tcGFyZShiKSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMb2FkIHRoZSBzcXVpcmNsZSBpY29ucyBjb25maWd1cmF0aW9uIGZyb20gSlNPTiBmaWxlXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IFRoZSBzcXVpcmNsZSBpY29ucyBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRTcXVpcmNsZUljb25zQ29uZmlnKCkge1xyXG4gIGlmIChzcXVpcmNsZUljb25zQ29uZmlnQ2FjaGUgJiYgaXNDYWNoZVZhbGlkKCdzcXVpcmNsZUljb25zJykpIHtcclxuICAgIHJldHVybiBzcXVpcmNsZUljb25zQ29uZmlnQ2FjaGU7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaFdpdGhDYWNoZSgnY29uZmlnL3NxdWlyY2xlLWljb25zLWNvbmZpZy5qc29uJyk7XHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGxvYWQgc3F1aXJjbGUgaWNvbnMgY29uZmlnOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbmZpZyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIHNxdWlyY2xlSWNvbnNDb25maWdDYWNoZSA9IGNvbmZpZztcclxuICAgIHVwZGF0ZUNhY2hlVGltZXN0YW1wKCdzcXVpcmNsZUljb25zJyk7XHJcbiAgICByZXR1cm4gY29uZmlnO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHNxdWlyY2xlIGljb25zIGNvbmZpZzonLCBlcnJvcik7XHJcbiAgICAvLyBSZXR1cm4gZW1wdHkgY29uZmlnIG9uIGVycm9yIHRvIHByZXZlbnQgYnJlYWtpbmcgdGhlIFVJXHJcbiAgICByZXR1cm4geyBpY29uczoge30gfTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgc3F1aXJjbGUgaWNvbiBtZXRhZGF0YSBieSBpdGVtIG5hbWVcclxuICogQHBhcmFtIHtzdHJpbmd9IGl0ZW1OYW1lIC0gVGhlIGl0ZW0gbmFtZSAoZS5nLiwgXCJCb29rXCIsIFwiUG9saWN5XCIsIFwiRGVjaXNpb25cIilcclxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0fG51bGw+fSBUaGUgaWNvbiBtZXRhZGF0YSBvciBudWxsIGlmIG5vdCBmb3VuZFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNxdWlyY2xlSWNvbk1ldGFkYXRhKGl0ZW1OYW1lKSB7XHJcbiAgY29uc3QgY29uZmlnID0gYXdhaXQgbG9hZFNxdWlyY2xlSWNvbnNDb25maWcoKTtcclxuICByZXR1cm4gY29uZmlnLmljb25zPy5baXRlbU5hbWVdIHx8IG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQcmVsb2FkIGFsbCBjb25maWd1cmF0aW9ucyBhdCBvbmNlXHJcbiAqIFVzZWZ1bCBmb3IgaW5pdGlhbCBwYWdlIGxvYWQgdG8gYmF0Y2ggcmVxdWVzdHNcclxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gT2JqZWN0IGNvbnRhaW5pbmcgYWxsIGNvbmZpZ3NcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcmVsb2FkQWxsQ29uZmlncygpIHtcclxuICBjb25zdCBbZG9jdW1lbnRzLCBpbnN0aXR1dGlvbnMsIGp1cmlzZGljdGlvbnMsIHNxdWlyY2xlSWNvbnNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgbG9hZERvY3VtZW50c0NvbmZpZygpLFxyXG4gICAgbG9hZEluc3RpdHV0aW9uQ29uZmlnKCksXHJcbiAgICBsb2FkSnVyaXNkaWN0aW9uQ29uZmlnKCksXHJcbiAgICBsb2FkU3F1aXJjbGVJY29uc0NvbmZpZygpXHJcbiAgXSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBkb2N1bWVudHMsXHJcbiAgICBpbnN0aXR1dGlvbnMsXHJcbiAgICBqdXJpc2RpY3Rpb25zLFxyXG4gICAgc3F1aXJjbGVJY29uc1xyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIGN1cnJlbnQgY2FjaGUgdmVyc2lvblxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBDdXJyZW50IGNhY2hlIHZlcnNpb25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDYWNoZVZlcnNpb24oKSB7XHJcbiAgcmV0dXJuIENBQ0hFX1ZFUlNJT047XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXQgYSBuZXcgY2FjaGUgdmVyc2lvbiB0byBidXN0IGFsbCBjYWNoZXNcclxuICogQHBhcmFtIHtzdHJpbmd9IHZlcnNpb24gLSBOZXcgdmVyc2lvbiBzdHJpbmdcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRDYWNoZVZlcnNpb24odmVyc2lvbikge1xyXG4gIC8vIENsZWFyIGFsbCBjYWNoZXMgd2hlbiB2ZXJzaW9uIGNoYW5nZXNcclxuICBjbGVhckNvbmZpZ0NhY2hlKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDbGVhciB0aGUgY29uZmlnIGNhY2hlICh1c2VmdWwgZm9yIHRlc3Rpbmcgb3IgaG90LXJlbG9hZClcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGVhckNvbmZpZ0NhY2hlKCkge1xyXG4gIGNvbmZpZ0NhY2hlID0gbnVsbDtcclxuICBpbnN0aXR1dGlvbkNvbmZpZ0NhY2hlID0gbnVsbDtcclxuICBqdXJpc2RpY3Rpb25Db25maWdDYWNoZSA9IG51bGw7XHJcbiAgc3F1aXJjbGVJY29uc0NvbmZpZ0NhY2hlID0gbnVsbDtcclxuICBjYWNoZVRpbWVzdGFtcHMgPSB7XHJcbiAgICBkb2N1bWVudHM6IDAsXHJcbiAgICBpbnN0aXR1dGlvbnM6IDAsXHJcbiAgICBqdXJpc2RpY3Rpb25zOiAwLFxyXG4gICAgc3F1aXJjbGVJY29uczogMFxyXG4gIH07XHJcbn1cclxuXHJcbi8vIEV4cG9zZSBjYWNoZSB1dGlsaXRpZXMgZ2xvYmFsbHkgZm9yIGRldmVsb3BtZW50IChjYW4gYmUgY2FsbGVkIGZyb20gYnJvd3NlciBjb25zb2xlKVxyXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICB3aW5kb3cuY2xlYXJDb25maWdDYWNoZSA9IGNsZWFyQ29uZmlnQ2FjaGU7XHJcbiAgd2luZG93LmdldENhY2hlVmVyc2lvbiA9IGdldENhY2hlVmVyc2lvbjtcclxuICB3aW5kb3cuc2V0Q2FjaGVWZXJzaW9uID0gc2V0Q2FjaGVWZXJzaW9uO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IGluc3RpdHV0aW9uIGZlZWQgY29uZmlndXJhdGlvblxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaW5zdGl0dXRpb25OYW1lIC0gVGhlIGZ1bGwgaW5zdGl0dXRpb24gbmFtZVxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3R8bnVsbD59IFRoZSBmZWVkIGNvbmZpZyBvciBudWxsIGlmIG5vdCBmb3VuZFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEluc3RpdHV0aW9uRmVlZENvbmZpZyhpbnN0aXR1dGlvbk5hbWUpIHtcclxuICBjb25zdCBjb25maWcgPSBhd2FpdCBsb2FkSW5zdGl0dXRpb25Db25maWcoKTtcclxuICByZXR1cm4gY29uZmlnLmluc3RpdHV0aW9ucz8uW2luc3RpdHV0aW9uTmFtZV0/LmZlZWRfY29uZmlnIHx8IG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQganVyaXNkaWN0aW9uIGZlZWQgY29uZmlndXJhdGlvblxyXG4gKiBAcGFyYW0ge3N0cmluZ30ganVyaXNkaWN0aW9uTmFtZSAtIFRoZSBmdWxsIGp1cmlzZGljdGlvbiBuYW1lXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdHxudWxsPn0gVGhlIGZlZWQgY29uZmlnIG9yIG51bGwgaWYgbm90IGZvdW5kXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0SnVyaXNkaWN0aW9uRmVlZENvbmZpZyhqdXJpc2RpY3Rpb25OYW1lKSB7XHJcbiAgY29uc3QgY29uZmlnID0gYXdhaXQgbG9hZEp1cmlzZGljdGlvbkNvbmZpZygpO1xyXG4gIHJldHVybiBjb25maWcuanVyaXNkaWN0aW9ucz8uW2p1cmlzZGljdGlvbk5hbWVdPy5mZWVkX2NvbmZpZyB8fCBudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IGRvY3VtZW50IGJ5IElEXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBkb2N1bWVudElkIC0gVGhlIGRvY3VtZW50IElEXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdHxudWxsPn0gVGhlIGRvY3VtZW50IG9iamVjdCBvciBudWxsIGlmIG5vdCBmb3VuZFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERvY3VtZW50QnlJZChkb2N1bWVudElkKSB7XHJcbiAgY29uc3QgY29uZmlnID0gYXdhaXQgbG9hZERvY3VtZW50c0NvbmZpZygpO1xyXG4gIGNvbnN0IGRvYyA9IGNvbmZpZy5kb2N1bWVudHMuZmluZChkb2MgPT4gZG9jLmlkID09PSBkb2N1bWVudElkKSB8fCBudWxsO1xyXG4gIHJldHVybiBkb2M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgRmVlZC10eXBlIGRvY3VtZW50cyAoY2Fyb3VzZWwgZW50cmllcykgZm9yIGEgZ2l2ZW4gcHJvZmlsZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvZmlsZVR5cGUgLSAnaW5zdGl0dXRpb24nIG9yICdqdXJpc2RpY3Rpb24nXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9maWxlTmFtZSAtIFRoZSBmdWxsIGluc3RpdHV0aW9uIG9yIGp1cmlzZGljdGlvbiBuYW1lXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPEFycmF5Pn0gQXJyYXkgb2YgRmVlZCBkb2N1bWVudCBvYmplY3RzIHdpdGggcmVzb2x2ZWQgbGlua2VkIGRvY3VtZW50c1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEZlZWREb2N1bWVudHMocHJvZmlsZVR5cGUsIHByb2ZpbGVOYW1lKSB7XHJcbiAgY29uc3QgYWxsRG9jcyA9IGF3YWl0IGdldERvY3VtZW50cygpO1xyXG4gIGNvbnN0IGZlZWREb2NzID0gYWxsRG9jcy5maWx0ZXIoZG9jID0+IHtcclxuICAgIGlmIChkb2MuaXRlbSAhPT0gJ0ZlZWQnKSByZXR1cm4gZmFsc2U7XHJcbiAgICBpZiAocHJvZmlsZVR5cGUgPT09ICdpbnN0aXR1dGlvbicpIHJldHVybiBkb2MuaW5zdGl0dXRpb24gPT09IHByb2ZpbGVOYW1lO1xyXG4gICAgaWYgKHByb2ZpbGVUeXBlID09PSAnanVyaXNkaWN0aW9uJykgcmV0dXJuIGRvYy5qdXJpc2RpY3Rpb24gPT09IHByb2ZpbGVOYW1lO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH0pO1xyXG5cclxuICAvLyBSZXNvbHZlIGxpbmtlZCBkb2N1bWVudHMgZm9yIGVhY2ggZmVlZCBlbnRyeVxyXG4gIGNvbnN0IHJlc29sdmVkID0gYXdhaXQgUHJvbWlzZS5hbGwoXHJcbiAgICBmZWVkRG9jcy5tYXAoYXN5bmMgKGZlZWREb2MpID0+IHtcclxuICAgICAgY29uc3QgbGlua2VkRG9jID0gZmVlZERvYy5jYXJvdXNlbD8ubGlua2VkX2RvY3VtZW50X2lkXHJcbiAgICAgICAgPyBhd2FpdCBnZXREb2N1bWVudEJ5SWQoZmVlZERvYy5jYXJvdXNlbC5saW5rZWRfZG9jdW1lbnRfaWQpXHJcbiAgICAgICAgOiBudWxsO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLmZlZWREb2MsXHJcbiAgICAgICAgbGlua2VkRG9jdW1lbnQ6IGxpbmtlZERvY1xyXG4gICAgICB9O1xyXG4gICAgfSlcclxuICApO1xyXG5cclxuICByZXR1cm4gcmVzb2x2ZWQ7XHJcbn1cclxuIiwiLyoqXHJcbiAqIFV0aWxpdHkgRnVuY3Rpb25zXHJcbiAqIFNoYXJlZCBoZWxwZXIgZnVuY3Rpb25zIGZvciB0aGUgZG9jdW1lbnQgbWFuYWdlbWVudCBzeXN0ZW1cclxuICovXHJcblxyXG4vKipcclxuICogUGFyc2UgVVJMIHF1ZXJ5IHBhcmFtZXRlcnNcclxuICogQHJldHVybnMge09iamVjdH0gT2JqZWN0IGNvbnRhaW5pbmcgZmlsdGVyIHBhcmFtZXRlcnNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVF1ZXJ5UGFyYW1zKCkge1xyXG4gIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XHJcbiAgcmV0dXJuIHtcclxuICAgIGl0ZW06IHBhcmFtcy5nZXQoJ2l0ZW0nKSxcclxuICAgIGluc3RpdHV0aW9uOiBwYXJhbXMuZ2V0KCdpbnN0aXR1dGlvbicpLFxyXG4gICAganVyaXNkaWN0aW9uOiBwYXJhbXMuZ2V0KCdqdXJpc2RpY3Rpb24nKVxyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQYXJzZSBoYXNoLWJhc2VkIFVSTCBwYXJhbWV0ZXJzIChmb3IgY2xpZW50LXNpZGUgcm91dGluZyBjb21wYXRpYmlsaXR5KVxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBPYmplY3QgY29udGFpbmluZyBmaWx0ZXIgcGFyYW1ldGVyc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlSGFzaFBhcmFtcygpIHtcclxuICBjb25zdCBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSk7IC8vIFJlbW92ZSAjXHJcbiAgaWYgKCFoYXNoKSByZXR1cm4geyBpdGVtOiBudWxsLCBpbnN0aXR1dGlvbjogbnVsbCwganVyaXNkaWN0aW9uOiBudWxsIH07XHJcbiAgXHJcbiAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhoYXNoKTtcclxuICByZXR1cm4ge1xyXG4gICAgaXRlbTogcGFyYW1zLmdldCgnaXRlbScpLFxyXG4gICAgaW5zdGl0dXRpb246IHBhcmFtcy5nZXQoJ2luc3RpdHV0aW9uJyksXHJcbiAgICBqdXJpc2RpY3Rpb246IHBhcmFtcy5nZXQoJ2p1cmlzZGljdGlvbicpXHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEJ1aWxkIGEgZmlsdGVyIFVSTCBmb3IgdGhlIGxpYnJhcnkgcGFnZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIEZpbHRlciB0eXBlIChpdGVtLCBpbnN0aXR1dGlvbiwganVyaXNkaWN0aW9uKVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBGaWx0ZXIgdmFsdWVcclxuICogQHBhcmFtIHtib29sZWFufSBpc0FsbCAtIFdoZXRoZXIgdGhpcyBpcyB0aGUgXCJBbGxcIiBvcHRpb24gKG5vIGZpbHRlcilcclxuICogQHJldHVybnMge3N0cmluZ30gVVJMIHdpdGggcXVlcnkgcGFyYW1ldGVyc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkRmlsdGVyVXJsKHR5cGUsIHZhbHVlLCBpc0FsbCA9IGZhbHNlKSB7XHJcbiAgaWYgKGlzQWxsKSB7XHJcbiAgICByZXR1cm4gJ2xpYnJhcnkuaHRtbCc7XHJcbiAgfVxyXG4gIHJldHVybiBgbGlicmFyeS5odG1sPyR7dHlwZX09JHtlbmNvZGVVUklDb21wb25lbnQodmFsdWUpfWA7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGb3JtYXQgYSBkYXRlIHN0cmluZyBmb3IgZGlzcGxheVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0ZVN0cmluZyAtIElTTyBkYXRlIHN0cmluZ1xyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBGb3JtYXR0ZWQgZGF0ZSBzdHJpbmdcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXREYXRlKGRhdGVTdHJpbmcpIHtcclxuICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cmluZyk7XHJcbiAgY29uc3QgZGF5ID0gZGF0ZS5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gIGNvbnN0IG1vbnRoID0gZGF0ZS50b0xvY2FsZVN0cmluZygnZW4tVVMnLCB7IG1vbnRoOiAnc2hvcnQnIH0pO1xyXG4gIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgY29uc3QgaG91cnMgPSBkYXRlLmdldEhvdXJzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gIGNvbnN0IG1pbnV0ZXMgPSBkYXRlLmdldE1pbnV0ZXMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7XHJcblxyXG4gIHJldHVybiBgJHtkYXl9ICR7bW9udGh9ICR7eWVhcn0gfCAke2hvdXJzfToke21pbnV0ZXN9YDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNvcnQgZG9jdW1lbnRzIGJ5IGZpZWxkXHJcbiAqIEBwYXJhbSB7QXJyYXl9IGRvY3VtZW50cyAtIEFycmF5IG9mIGRvY3VtZW50IG9iamVjdHNcclxuICogQHBhcmFtIHtzdHJpbmd9IHNvcnRCeSAtIEZpZWxkIHRvIHNvcnQgYnkgKG5hbWUsIHZlcnNpb24sIGRhdGUpXHJcbiAqIEByZXR1cm5zIHtBcnJheX0gU29ydGVkIGFycmF5XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc29ydERvY3VtZW50cyhkb2N1bWVudHMsIHNvcnRCeSkge1xyXG4gIGNvbnN0IHNvcnRlZCA9IFsuLi5kb2N1bWVudHNdO1xyXG5cclxuICBzd2l0Y2ggKHNvcnRCeSkge1xyXG4gICAgY2FzZSAnbmFtZSc6XHJcbiAgICAgIHJldHVybiBzb3J0ZWQuc29ydCgoYSwgYikgPT4gYS50aXRsZS5sb2NhbGVDb21wYXJlKGIudGl0bGUpKTtcclxuXHJcbiAgICBjYXNlICd2ZXJzaW9uJzpcclxuICAgICAgcmV0dXJuIHNvcnRlZC5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdmVyc2lvbkRpZmYgPSBiLnZlcnNpb24gLSBhLnZlcnNpb247XHJcbiAgICAgICAgaWYgKHZlcnNpb25EaWZmICE9PSAwKSByZXR1cm4gdmVyc2lvbkRpZmY7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGIuZGF0ZSkgLSBuZXcgRGF0ZShhLmRhdGUpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICBjYXNlICdkYXRlJzpcclxuICAgICAgcmV0dXJuIHNvcnRlZC5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShiLmRhdGUpIC0gbmV3IERhdGUoYS5kYXRlKSk7XHJcblxyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIHNvcnRlZDtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGaWx0ZXIgZG9jdW1lbnRzIGJhc2VkIG9uIHF1ZXJ5IHBhcmFtZXRlcnNcclxuICogQHBhcmFtIHtBcnJheX0gZG9jdW1lbnRzIC0gQXJyYXkgb2YgZG9jdW1lbnQgb2JqZWN0c1xyXG4gKiBAcGFyYW0ge09iamVjdH0gZmlsdGVycyAtIEZpbHRlciBjcml0ZXJpYVxyXG4gKiBAcmV0dXJucyB7QXJyYXl9IEZpbHRlcmVkIGFycmF5XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyRG9jdW1lbnRzKGRvY3VtZW50cywgZmlsdGVycykge1xyXG4gIHJldHVybiBkb2N1bWVudHMuZmlsdGVyKGRvYyA9PiB7XHJcbiAgICBpZiAoZmlsdGVycy5pdGVtICYmIGRvYy5pdGVtLnRvTG93ZXJDYXNlKCkgIT09IGZpbHRlcnMuaXRlbS50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmIChmaWx0ZXJzLmluc3RpdHV0aW9uICYmIGRvYy5pbnN0aXR1dGlvbi50b0xvd2VyQ2FzZSgpICE9PSBmaWx0ZXJzLmluc3RpdHV0aW9uLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKGZpbHRlcnMuanVyaXNkaWN0aW9uICYmIGRvYy5qdXJpc2RpY3Rpb24udG9Mb3dlckNhc2UoKSAhPT0gZmlsdGVycy5qdXJpc2RpY3Rpb24udG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEVzY2FwZSBIVE1MIHRvIHByZXZlbnQgWFNTXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGV4dCB0byBlc2NhcGVcclxuICogQHJldHVybnMge3N0cmluZ30gRXNjYXBlZCB0ZXh0XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlSHRtbCh0ZXh0KSB7XHJcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgZGl2LnRleHRDb250ZW50ID0gdGV4dDtcclxuICByZXR1cm4gZGl2LmlubmVySFRNTDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNob3cgZXJyb3IgbWVzc2FnZSB0byB1c2VyXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gRXJyb3IgbWVzc2FnZSB0byBkaXNwbGF5XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2hvd0Vycm9yKG1lc3NhZ2UpIHtcclxuICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xyXG5cclxuICAvLyBDcmVhdGUgZXJyb3IgZWxlbWVudFxyXG4gIGNvbnN0IGVycm9yRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgZXJyb3JEaXYuY2xhc3NOYW1lID0gJ2Vycm9yLW1lc3NhZ2UnO1xyXG4gIGVycm9yRGl2LnN0eWxlLmNzc1RleHQgPSBgXHJcbiAgICBiYWNrZ3JvdW5kOiAjZmVlO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2ZjYztcclxuICAgIGNvbG9yOiAjYzAwO1xyXG4gICAgcGFkZGluZzogMXJlbTtcclxuICAgIG1hcmdpbjogMXJlbTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBgO1xyXG4gIGVycm9yRGl2LnRleHRDb250ZW50ID0gbWVzc2FnZTtcclxuXHJcbiAgLy8gSW5zZXJ0IGF0IHRvcCBvZiBib2R5XHJcbiAgZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUoZXJyb3JEaXYsIGRvY3VtZW50LmJvZHkuZmlyc3RDaGlsZCk7XHJcblxyXG4gIC8vIEF1dG8tcmVtb3ZlIGFmdGVyIDUgc2Vjb25kc1xyXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgZXJyb3JEaXYucmVtb3ZlKCk7XHJcbiAgfSwgNTAwMCk7XHJcbn1cclxuIiwiLyoqXHJcbiAqIEluZGV4IFBhZ2UgVUkgTW9kdWxlXHJcbiAqIEhhbmRsZXMgdGFiIG5hdmlnYXRpb24gYW5kIGdhbGxlcnkgcmVuZGVyaW5nXHJcbiAqIE9wdGltaXplZCB0byByZWR1Y2UgbmV0d29yayByZXF1ZXN0cyB0aHJvdWdoIGJhdGNoaW5nIGFuZCBjYWNoaW5nXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZ2V0SXRlbXMsIGdldEluc3RpdHV0aW9ucywgZ2V0SnVyaXNkaWN0aW9ucywgZ2V0RG9jdW1lbnRzLCBnZXRJbnN0aXR1dGlvbk1ldGFkYXRhLCBnZXRKdXJpc2RpY3Rpb25NZXRhZGF0YSwgZ2V0U3F1aXJjbGVJY29uTWV0YWRhdGEsIHByZWxvYWRBbGxDb25maWdzIH0gZnJvbSAnLi9jb25maWcuanMnO1xyXG5pbXBvcnQgeyBidWlsZEZpbHRlclVybCB9IGZyb20gJy4vdXRpbHMuanMnO1xyXG5cclxuLy8gU3RhdGVcclxubGV0IGN1cnJlbnRUYWIgPSAnY29udGVudCc7XHJcbmxldCBwcmVsb2FkZWREYXRhID0gbnVsbDtcclxubGV0IGdhbGxlcmllc0xvYWRlZCA9IGZhbHNlO1xyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemUgdGhlIFVJIGZ1bmN0aW9uYWxpdHlcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0VUlNb2RlKCkge1xyXG4gIC8vIEluaXRpYWxpemUgdGFiIGJ1dHRvbnNcclxuICBpbml0VGFicygpO1xyXG5cclxuICAvLyBQcmVsb2FkIGFsbCBkYXRhIG9uIGluaXRpYWwgbG9hZCB0byByZWR1Y2Ugc3Vic2VxdWVudCByZXF1ZXN0c1xyXG4gIHByZWxvYWREYXRhKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQcmVsb2FkIGFsbCBjb25maWd1cmF0aW9uIGRhdGFcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIHByZWxvYWREYXRhKCkge1xyXG4gIHRyeSB7XHJcbiAgICBwcmVsb2FkZWREYXRhID0gYXdhaXQgcHJlbG9hZEFsbENvbmZpZ3MoKTtcclxuICAgIC8vIExvYWQgZ2FsbGVyaWVzIG9uY2UgZGF0YSBpcyBwcmVsb2FkZWRcclxuICAgIGF3YWl0IGxvYWRVSUdhbGxlcmllcygpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcHJlbG9hZCBkYXRhOicsIGVycm9yKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbml0aWFsaXplIHRhYiBidXR0b24gbGlzdGVuZXJzXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0VGFicygpIHtcclxuICBjb25zdCB0YWJCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhYi1idG4nKTtcclxuICB0YWJCdXR0b25zLmZvckVhY2goYnRuID0+IHtcclxuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdGFiID0gYnRuLmRhdGFzZXQudGFiO1xyXG4gICAgICBjdXJyZW50VGFiID0gdGFiO1xyXG4gICAgICBzaG93VGFiKHRhYik7XHJcbiAgICAgIHVwZGF0ZVRhYkJ1dHRvbnModGFiKTtcclxuICAgICAgXHJcbiAgICAgIC8vIExvYWQgZ2FsbGVyeSBkYXRhIHdoZW4gc3dpdGNoaW5nIHRvIEFjY291bnQgb3IgU3BhY2UgdGFic1xyXG4gICAgICAvLyBVc2UgcHJlbG9hZGVkIGRhdGEgaWYgYXZhaWxhYmxlXHJcbiAgICAgIGlmICh0YWIgPT09ICdhY2NvdW50Jykge1xyXG4gICAgICAgIGNvbnN0IGluc3RpdHV0aW9ucyA9IHByZWxvYWRlZERhdGEgPyBcclxuICAgICAgICAgIFsuLi5uZXcgU2V0KHByZWxvYWRlZERhdGEuZG9jdW1lbnRzLmRvY3VtZW50cy5maWx0ZXIoZG9jID0+IGRvYy52aXNpYmxlICE9PSBmYWxzZSkubWFwKGRvYyA9PiBkb2MuaW5zdGl0dXRpb24pKV0uc29ydCgpIDogXHJcbiAgICAgICAgICBhd2FpdCBnZXRJbnN0aXR1dGlvbnMoKTtcclxuICAgICAgICBjb25zdCBkb2N1bWVudHMgPSBwcmVsb2FkZWREYXRhID8gXHJcbiAgICAgICAgICBwcmVsb2FkZWREYXRhLmRvY3VtZW50cy5kb2N1bWVudHMuZmlsdGVyKGRvYyA9PiBkb2MudmlzaWJsZSAhPT0gZmFsc2UpIDogXHJcbiAgICAgICAgICBhd2FpdCBnZXREb2N1bWVudHMoKTtcclxuICAgICAgICBhd2FpdCByZW5kZXJBY2NvdW50R2FsbGVyeShpbnN0aXR1dGlvbnMsIGRvY3VtZW50cyk7XHJcbiAgICAgIH0gZWxzZSBpZiAodGFiID09PSAnc3BhY2UnKSB7XHJcbiAgICAgICAgY29uc3QganVyaXNkaWN0aW9ucyA9IHByZWxvYWRlZERhdGEgPyBcclxuICAgICAgICAgIFsuLi5uZXcgU2V0KHByZWxvYWRlZERhdGEuZG9jdW1lbnRzLmRvY3VtZW50cy5maWx0ZXIoZG9jID0+IGRvYy52aXNpYmxlICE9PSBmYWxzZSkubWFwKGRvYyA9PiBkb2MuanVyaXNkaWN0aW9uKSldLnNvcnQoKSA6IFxyXG4gICAgICAgICAgYXdhaXQgZ2V0SnVyaXNkaWN0aW9ucygpO1xyXG4gICAgICAgIGNvbnN0IGRvY3VtZW50cyA9IHByZWxvYWRlZERhdGEgPyBcclxuICAgICAgICAgIHByZWxvYWRlZERhdGEuZG9jdW1lbnRzLmRvY3VtZW50cy5maWx0ZXIoZG9jID0+IGRvYy52aXNpYmxlICE9PSBmYWxzZSkgOiBcclxuICAgICAgICAgIGF3YWl0IGdldERvY3VtZW50cygpO1xyXG4gICAgICAgIGF3YWl0IHJlbmRlclNwYWNlR2FsbGVyeShqdXJpc2RpY3Rpb25zLCBkb2N1bWVudHMpO1xyXG4gICAgICB9IGVsc2UgaWYgKHRhYiA9PT0gJ2NvbnRlbnQnKSB7XHJcbiAgICAgICAgY29uc3QgaXRlbXMgPSBwcmVsb2FkZWREYXRhID8gXHJcbiAgICAgICAgICBbLi4ubmV3IFNldChwcmVsb2FkZWREYXRhLmRvY3VtZW50cy5kb2N1bWVudHMuZmlsdGVyKGRvYyA9PiBkb2MudmlzaWJsZSAhPT0gZmFsc2UpLm1hcChkb2MgPT4gZG9jLml0ZW0pKV0uc29ydCgpIDogXHJcbiAgICAgICAgICBhd2FpdCBnZXRJdGVtcygpO1xyXG4gICAgICAgIGF3YWl0IHJlbmRlckNvbnRlbnRHYWxsZXJ5KGl0ZW1zKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTaG93IHRoZSBzcGVjaWZpZWQgdGFiIGFuZCBoaWRlIG90aGVyc1xyXG4gKi9cclxuZnVuY3Rpb24gc2hvd1RhYih0YWJOYW1lKSB7XHJcbiAgY29uc3QgdGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWItY29udGVudCcpO1xyXG4gIHRhYnMuZm9yRWFjaCh0YWIgPT4ge1xyXG4gICAgdGFiLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBhY3RpdmVUYWIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHt0YWJOYW1lfS10YWJgKTtcclxuICBpZiAoYWN0aXZlVGFiKSB7XHJcbiAgICBhY3RpdmVUYWIuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogVXBkYXRlIHRhYiBidXR0b24gc3R5bGVzXHJcbiAqL1xyXG5mdW5jdGlvbiB1cGRhdGVUYWJCdXR0b25zKGFjdGl2ZVRhYikge1xyXG4gIGNvbnN0IHRhYkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiLWJ0bicpO1xyXG4gIHRhYkJ1dHRvbnMuZm9yRWFjaChidG4gPT4ge1xyXG4gICAgaWYgKGJ0bi5kYXRhc2V0LnRhYiA9PT0gYWN0aXZlVGFiKSB7XHJcbiAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnLCAnYmctd2hpdGUnLCAnc2hhZG93LXNtJywgJ3RleHQtZ3JheS05MDAnKTtcclxuICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtZ3JheS02MDAnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnLCAnYmctd2hpdGUnLCAnc2hhZG93LXNtJywgJ3RleHQtZ3JheS05MDAnKTtcclxuICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoJ3RleHQtZ3JheS02MDAnKTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIExvYWQgYWxsIFVJIGdhbGxlcmllcyB3aXRoIGRhdGFcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGxvYWRVSUdhbGxlcmllcygpIHtcclxuICB0cnkge1xyXG4gICAgLy8gVXNlIHByZWxvYWRlZCBkYXRhIGlmIGF2YWlsYWJsZVxyXG4gICAgY29uc3QgaXRlbXMgPSBwcmVsb2FkZWREYXRhID8gXHJcbiAgICAgIFsuLi5uZXcgU2V0KHByZWxvYWRlZERhdGEuZG9jdW1lbnRzLmRvY3VtZW50cy5maWx0ZXIoZG9jID0+IGRvYy52aXNpYmxlICE9PSBmYWxzZSkubWFwKGRvYyA9PiBkb2MuaXRlbSkpXS5zb3J0KCkgOiBcclxuICAgICAgYXdhaXQgZ2V0SXRlbXMoKTtcclxuICAgIGNvbnN0IGluc3RpdHV0aW9ucyA9IHByZWxvYWRlZERhdGEgPyBcclxuICAgICAgWy4uLm5ldyBTZXQocHJlbG9hZGVkRGF0YS5kb2N1bWVudHMuZG9jdW1lbnRzLmZpbHRlcihkb2MgPT4gZG9jLnZpc2libGUgIT09IGZhbHNlKS5tYXAoZG9jID0+IGRvYy5pbnN0aXR1dGlvbikpXS5zb3J0KCkgOiBcclxuICAgICAgYXdhaXQgZ2V0SW5zdGl0dXRpb25zKCk7XHJcbiAgICBjb25zdCBqdXJpc2RpY3Rpb25zID0gcHJlbG9hZGVkRGF0YSA/IFxyXG4gICAgICBbLi4ubmV3IFNldChwcmVsb2FkZWREYXRhLmRvY3VtZW50cy5kb2N1bWVudHMuZmlsdGVyKGRvYyA9PiBkb2MudmlzaWJsZSAhPT0gZmFsc2UpLm1hcChkb2MgPT4gZG9jLmp1cmlzZGljdGlvbikpXS5zb3J0KCkgOiBcclxuICAgICAgYXdhaXQgZ2V0SnVyaXNkaWN0aW9ucygpO1xyXG4gICAgY29uc3QgZG9jdW1lbnRzID0gcHJlbG9hZGVkRGF0YSA/IFxyXG4gICAgICBwcmVsb2FkZWREYXRhLmRvY3VtZW50cy5kb2N1bWVudHMuZmlsdGVyKGRvYyA9PiBkb2MudmlzaWJsZSAhPT0gZmFsc2UpIDogXHJcbiAgICAgIGF3YWl0IGdldERvY3VtZW50cygpO1xyXG5cclxuICAgIGF3YWl0IHJlbmRlckNvbnRlbnRHYWxsZXJ5KGl0ZW1zKTtcclxuICAgIGF3YWl0IHJlbmRlckFjY291bnRHYWxsZXJ5KGluc3RpdHV0aW9ucywgZG9jdW1lbnRzKTtcclxuICAgIGF3YWl0IHJlbmRlclNwYWNlR2FsbGVyeShqdXJpc2RpY3Rpb25zLCBkb2N1bWVudHMpO1xyXG4gICAgXHJcbiAgICBnYWxsZXJpZXNMb2FkZWQgPSB0cnVlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBVSSBnYWxsZXJpZXM6JywgZXJyb3IpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFJlbmRlciBDb250ZW50IHRhYiBnYWxsZXJ5IHdpdGggc3F1aXJjbGUgaXRlbXNcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIHJlbmRlckNvbnRlbnRHYWxsZXJ5KGl0ZW1zKSB7XHJcbiAgY29uc3QgZ2FsbGVyeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50LWdhbGxlcnknKTtcclxuICBpZiAoIWdhbGxlcnkpIHJldHVybjtcclxuXHJcbiAgZ2FsbGVyeS5pbm5lckhUTUwgPSAnJztcclxuXHJcbiAgLy8gQWRkIFwiQWxsXCIgb3B0aW9uIGZpcnN0XHJcbiAgY29uc3QgYWxsTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICBhbGxMaW5rLmhyZWYgPSBidWlsZEZpbHRlclVybCgnaXRlbScsICdBbGwnLCB0cnVlKTtcclxuICBhbGxMaW5rLmNsYXNzTmFtZSA9ICdzcXVpcmNsZS1pdGVtJztcclxuXHJcblxyXG4gIGFsbExpbmsuaW5uZXJIVE1MID0gYFxyXG4gIDxkaXYgY2xhc3M9XCJzcXVpcmNsZVwiPlxyXG4gICAgPHNwYW4gY2xhc3M9XCJzcXVpcmNsZS1lbW9qaVwiPvCfk4I8L3NwYW4+XHJcbiAgPC9kaXY+XHJcbiAgPHNwYW4gY2xhc3M9XCJzcXVpcmNsZS1sYWJlbFwiPkFsbDwvc3Bhbj5cclxuIGA7XHJcblxyXG5cclxuICBnYWxsZXJ5LmFwcGVuZENoaWxkKGFsbExpbmspO1xyXG5cclxuICAvLyBCYXRjaCBmZXRjaCBhbGwgaWNvbiBtZXRhZGF0YSBhdCBvbmNlIHRvIHJlZHVjZSByZXF1ZXN0c1xyXG4gIGNvbnN0IGljb25NZXRhZGF0YU1hcCA9IHByZWxvYWRlZERhdGE/LnNxdWlyY2xlSWNvbnM/Lmljb25zIHx8IHt9O1xyXG4gIFxyXG4gIC8vIEJ1aWxkIGEgY2FzZS1pbnNlbnNpdGl2ZSBsb29rdXAgbWFwXHJcbiAgY29uc3QgaWNvbk1ldGFkYXRhTG93ZXJNYXAgPSB7fTtcclxuICBPYmplY3Qua2V5cyhpY29uTWV0YWRhdGFNYXApLmZvckVhY2goa2V5ID0+IHtcclxuICAgIGljb25NZXRhZGF0YUxvd2VyTWFwW2tleS50b0xvd2VyQ2FzZSgpXSA9IGljb25NZXRhZGF0YU1hcFtrZXldO1xyXG4gIH0pO1xyXG5cclxuICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcclxuICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICBsaW5rLmhyZWYgPSBidWlsZEZpbHRlclVybCgnaXRlbScsIGl0ZW0pO1xyXG4gICAgbGluay5jbGFzc05hbWUgPSAnc3F1aXJjbGUtaXRlbSc7XHJcblxyXG4gIFxyXG4gICBcclxuICBjb25zdCBlbW9qaSA9XHJcbiAgIGljb25NZXRhZGF0YU1hcFtpdGVtXT8uZW1vamkgfHxcclxuICAgaWNvbk1ldGFkYXRhTG93ZXJNYXBbaXRlbS50b0xvd2VyQ2FzZSgpXT8uZW1vamkgfHxcclxuICAgJ/Cfk4QnO1xyXG5cclxuIGxpbmsuaW5uZXJIVE1MID0gYFxyXG4gIDxkaXYgY2xhc3M9XCJzcXVpcmNsZVwiPlxyXG4gICAgPHNwYW4gY2xhc3M9XCJzcXVpcmNsZS1lbW9qaVwiPiR7ZW1vaml9PC9zcGFuPlxyXG4gIDwvZGl2PlxyXG4gIDxzcGFuIGNsYXNzPVwic3F1aXJjbGUtbGFiZWxcIj4ke2l0ZW19PC9zcGFuPlxyXG4gYDtcclxuXHJcblxyXG4gICAgZ2FsbGVyeS5hcHBlbmRDaGlsZChsaW5rKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBFeHRyYWN0IGxhYmVsIGFuZCBkaXNwbGF5IG5hbWUgZnJvbSBpbnN0aXR1dGlvbiBuYW1lIHdpdGggc3F1YXJlIGJyYWNrZXRzXHJcbiAqIGUuZy4sIFwiVW1tYWggQ2FiaW5ldCBbTm9uLVByb2ZpdCDigKIgUHJpdmF0ZV1cIiAtPiB7IGRpc3BsYXlOYW1lOiBcIlVtbWFoIENhYmluZXRcIiwgbGFiZWw6IFwiR292ZXJubWVudFwiIH1cclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlSW5zdGl0dXRpb24oaW5zdGl0dXRpb24pIHtcclxuICBjb25zdCBicmFja2V0TWF0Y2ggPSBpbnN0aXR1dGlvbi5tYXRjaCgvXFxbKC4qPylcXF0vKTtcclxuICBjb25zdCBsYWJlbCA9IGJyYWNrZXRNYXRjaCA/IGJyYWNrZXRNYXRjaFsxXSA6IGluc3RpdHV0aW9uLnJlcGxhY2UoL15VbW1haFxccysvLCAnJyk7XHJcbiAgY29uc3QgZGlzcGxheU5hbWUgPSBpbnN0aXR1dGlvbi5yZXBsYWNlKC9cXHMqXFxbLio/XFxdXFxzKiQvLCAnJyk7XHJcbiAgcmV0dXJuIHsgZGlzcGxheU5hbWUsIGxhYmVsIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZW5kZXIgQWNjb3VudCB0YWIgZ2FsbGVyeSB3aXRoIElEIGNhcmRzXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiByZW5kZXJBY2NvdW50R2FsbGVyeShpbnN0aXR1dGlvbnMsIGRvY3VtZW50cykge1xyXG4gIGNvbnN0IGdhbGxlcnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjb3VudC1nYWxsZXJ5Jyk7XHJcbiAgaWYgKCFnYWxsZXJ5KSByZXR1cm47XHJcblxyXG4gIGdhbGxlcnkuaW5uZXJIVE1MID0gJyc7XHJcblxyXG4gIC8vIEdldCBhbGwgbWV0YWRhdGEgZnJvbSBwcmVsb2FkZWQgZGF0YVxyXG4gIGNvbnN0IGluc3RpdHV0aW9uTWV0YSA9IHByZWxvYWRlZERhdGE/Lmluc3RpdHV0aW9ucz8uaW5zdGl0dXRpb25zIHx8IHt9O1xyXG5cclxuICAvLyBCdWlsZCBhcnJheSBvZiBpbnN0aXR1dGlvbnMgd2l0aCBjb250cmlidXRpb24gY291bnRzXHJcbiAgY29uc3QgaW5zdGl0dXRpb25Db3VudHMgPSBbXTtcclxuICBmb3IgKGNvbnN0IGluc3RpdHV0aW9uIG9mIGluc3RpdHV0aW9ucykge1xyXG4gICAgLy8gQ291bnQgZG9jdW1lbnRzIGZvciB0aGlzIGluc3RpdHV0aW9uXHJcbiAgICBjb25zdCBkb2NDb3VudCA9IGRvY3VtZW50cy5maWx0ZXIoZG9jID0+IGRvYy5pbnN0aXR1dGlvbiA9PT0gaW5zdGl0dXRpb24pLmxlbmd0aDtcclxuICAgIGluc3RpdHV0aW9uQ291bnRzLnB1c2goeyBpbnN0aXR1dGlvbiwgZG9jQ291bnQgfSk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIFNvcnQgYnkgY29udHJpYnV0aW9uIGNvdW50IGluIGRlc2NlbmRpbmcgb3JkZXJcclxuICBpbnN0aXR1dGlvbkNvdW50cy5zb3J0KChhLCBiKSA9PiBiLmRvY0NvdW50IC0gYS5kb2NDb3VudCk7XHJcblxyXG4gIGZvciAoY29uc3QgeyBpbnN0aXR1dGlvbiwgZG9jQ291bnQgfSBvZiBpbnN0aXR1dGlvbkNvdW50cykge1xyXG4gICAgLy8gUGFyc2UgaW5zdGl0dXRpb24gbmFtZSB0byBnZXQgZGlzcGxheSBuYW1lIGFuZCBsYWJlbFxyXG4gICAgY29uc3QgeyBkaXNwbGF5TmFtZSwgbGFiZWwgfSA9IHBhcnNlSW5zdGl0dXRpb24oaW5zdGl0dXRpb24pO1xyXG5cclxuICAgIC8vIEdldCBpbnN0aXR1dGlvbiBtZXRhZGF0YSBmcm9tIHByZWxvYWRlZCBkYXRhXHJcbiAgICBjb25zdCBtZXRhZGF0YSA9IGluc3RpdHV0aW9uTWV0YVtpbnN0aXR1dGlvbl0gfHwgbnVsbDtcclxuICAgIGNvbnN0IGF2YXRhclVybCA9IG1ldGFkYXRhPy5hdmF0YXIgfHwgbnVsbDtcclxuICAgIGNvbnN0IGNvdmVyVXJsID0gbWV0YWRhdGE/LmNvdmVyIHx8IG51bGw7XHJcblxyXG4gICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgIGxpbmsuaHJlZiA9IGJ1aWxkRmlsdGVyVXJsKCdpbnN0aXR1dGlvbicsIGluc3RpdHV0aW9uKTtcclxuICAgIGxpbmsuY2xhc3NOYW1lID0gJ2lkLWNhcmQnO1xyXG5cclxuICAgIC8vIFVzZSBwcm9wZXIgcmVsYXRpdmUgcGF0aHMgZm9yIGZhbGxiYWNrIGltYWdlc1xyXG4gICAgY29uc3QgY292ZXJJbWFnZVVybCA9IGNvdmVyVXJsIHx8ICcuL2ltYWdlcy9kZWZhdWx0LWNvdmVyLmpwZyc7XHJcbiAgICBjb25zdCBhdmF0YXJJbWFnZVVybCA9IGF2YXRhclVybCB8fCAnLi9pbWFnZXMvZGVmYXVsdC1hdmF0YXIud2VicCc7XHJcblxyXG4gICAgbGluay5pbm5lckhUTUwgPSBgXHJcbiAgICAgIDxkaXZcclxuICAgICAgICBjbGFzcz1cImlkLWNhcmQtY292ZXJcIlxyXG4gICAgICAgIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTogdXJsKCcke2NvdmVySW1hZ2VVcmx9Jyk7IGJhY2tncm91bmQtc2l6ZTogY292ZXI7IGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcIlxyXG4gICAgICA+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImlkLWNhcmQtYXZhdGFyXCI+XHJcbiAgICAgICAgICA8aW1nIHNyYz1cIiR7YXZhdGFySW1hZ2VVcmx9XCIgYWx0PVwiJHtkaXNwbGF5TmFtZX1cIiBzdHlsZT1cIndpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IG9iamVjdC1maXQ6IGNvdmVyO1wiIGxvYWRpbmc9XCJsYXp5XCIgZGVjb2Rpbmc9XCJhc3luY1wiIG9uZXJyb3I9XCJ0aGlzLnN0eWxlLmRpc3BsYXk9J25vbmUnXCI+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiaWQtY2FyZC1jb250ZW50XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImlkLWNhcmQtbmFtZVwiPiR7ZGlzcGxheU5hbWV9PC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImlkLWNhcmQtbGFiZWxcIj4ke2xhYmVsfTwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJpZC1jYXJkLWNvdW50XCI+JHtkb2NDb3VudH0gY29udHJpYnV0aW9uJHtkb2NDb3VudCAhPT0gMSA/ICdzJyA6ICcnfTwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIGA7XHJcblxyXG4gICAgZ2FsbGVyeS5hcHBlbmRDaGlsZChsaW5rKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZW5kZXIgU3BhY2UgdGFiIGdhbGxlcnkgd2l0aCBJRCBjYXJkc1xyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gcmVuZGVyU3BhY2VHYWxsZXJ5KGp1cmlzZGljdGlvbnMsIGRvY3VtZW50cykge1xyXG4gIGNvbnN0IGdhbGxlcnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3BhY2UtZ2FsbGVyeScpO1xyXG4gIGlmICghZ2FsbGVyeSkgcmV0dXJuO1xyXG5cclxuICBnYWxsZXJ5LmlubmVySFRNTCA9ICcnO1xyXG5cclxuICAvLyBHZXQgYWxsIG1ldGFkYXRhIGZyb20gcHJlbG9hZGVkIGRhdGFcclxuICBjb25zdCBqdXJpc2RpY3Rpb25NZXRhID0gcHJlbG9hZGVkRGF0YT8uanVyaXNkaWN0aW9ucz8uanVyaXNkaWN0aW9ucyB8fCB7fTtcclxuXHJcbiAgLy8gQnVpbGQgYXJyYXkgb2YganVyaXNkaWN0aW9ucyB3aXRoIGNvbnRyaWJ1dG9yIGNvdW50c1xyXG4gIGNvbnN0IGp1cmlzZGljdGlvbkNvdW50cyA9IFtdO1xyXG4gIGZvciAoY29uc3QganVyaXNkaWN0aW9uIG9mIGp1cmlzZGljdGlvbnMpIHtcclxuICAgIC8vIEV4dHJhY3QgbGFiZWwgZnJvbSBzcXVhcmUgYnJhY2tldHMgaWYgcHJlc2VudFxyXG4gICAgY29uc3QgYnJhY2tldE1hdGNoID0ganVyaXNkaWN0aW9uLm1hdGNoKC9cXFsoLio/KVxcXS8pO1xyXG4gICAgY29uc3QgbGFiZWwgPSBicmFja2V0TWF0Y2ggPyBicmFja2V0TWF0Y2hbMV0gOiAnQ29tbXVuaXR5JztcclxuICAgIGNvbnN0IGRpc3BsYXlOYW1lID0ganVyaXNkaWN0aW9uLnJlcGxhY2UoL1xccypcXFsuKj9cXF1cXHMqJC8sICcnKTtcclxuXHJcbiAgICAvLyBDb3VudCB1bmlxdWUgaW5zdGl0dXRpb25zIHRoYXQgaGF2ZSBwb3N0ZWQgaW4gdGhpcyBqdXJpc2RpY3Rpb25cclxuICAgIGNvbnN0IGRvY3NJbkp1cmlzZGljdGlvbiA9IGRvY3VtZW50cy5maWx0ZXIoZG9jID0+IGRvYy5qdXJpc2RpY3Rpb24gPT09IGp1cmlzZGljdGlvbik7XHJcbiAgICBjb25zdCB1bmlxdWVJbnN0aXR1dGlvbnMgPSBuZXcgU2V0KGRvY3NJbkp1cmlzZGljdGlvbi5tYXAoZG9jID0+IGRvYy5pbnN0aXR1dGlvbikpO1xyXG4gICAgY29uc3QgY29udHJpYnV0b3JDb3VudCA9IHVuaXF1ZUluc3RpdHV0aW9ucy5zaXplO1xyXG5cclxuICAgIGp1cmlzZGljdGlvbkNvdW50cy5wdXNoKHsganVyaXNkaWN0aW9uLCBkaXNwbGF5TmFtZSwgbGFiZWwsIGNvbnRyaWJ1dG9yQ291bnQgfSk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIFNvcnQgYnkgY29udHJpYnV0b3IgY291bnQgaW4gZGVzY2VuZGluZyBvcmRlclxyXG4gIGp1cmlzZGljdGlvbkNvdW50cy5zb3J0KChhLCBiKSA9PiBiLmNvbnRyaWJ1dG9yQ291bnQgLSBhLmNvbnRyaWJ1dG9yQ291bnQpO1xyXG5cclxuICBmb3IgKGNvbnN0IHsganVyaXNkaWN0aW9uLCBkaXNwbGF5TmFtZSwgbGFiZWwsIGNvbnRyaWJ1dG9yQ291bnQgfSBvZiBqdXJpc2RpY3Rpb25Db3VudHMpIHtcclxuICAgIC8vIEdldCBqdXJpc2RpY3Rpb24gbWV0YWRhdGEgZnJvbSBwcmVsb2FkZWQgZGF0YVxyXG4gICAgY29uc3QgbWV0YWRhdGEgPSBqdXJpc2RpY3Rpb25NZXRhW2p1cmlzZGljdGlvbl0gfHwgbnVsbDtcclxuICAgIGNvbnN0IGF2YXRhclVybCA9IG1ldGFkYXRhPy5hdmF0YXIgfHwgbnVsbDtcclxuICAgIGNvbnN0IGNvdmVyVXJsID0gbWV0YWRhdGE/LmNvdmVyIHx8IG51bGw7XHJcblxyXG4gICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgIGxpbmsuaHJlZiA9IGJ1aWxkRmlsdGVyVXJsKCdqdXJpc2RpY3Rpb24nLCBqdXJpc2RpY3Rpb24pO1xyXG4gICAgbGluay5jbGFzc05hbWUgPSAnaWQtY2FyZCc7XHJcblxyXG4gICAgLy8gVXNlIHByb3BlciByZWxhdGl2ZSBwYXRocyBmb3IgZmFsbGJhY2sgaW1hZ2VzXHJcbiAgICBjb25zdCBjb3ZlckltYWdlVXJsID0gY292ZXJVcmwgfHwgJy4vaW1hZ2VzL2RlZmF1bHQtY292ZXIuanBnJztcclxuICAgIGNvbnN0IGF2YXRhckltYWdlVXJsID0gYXZhdGFyVXJsIHx8ICcuL2ltYWdlcy9kZWZhdWx0LWF2YXRhci53ZWJwJztcclxuXHJcbiAgICBsaW5rLmlubmVySFRNTCA9IGBcclxuICAgICAgPGRpdlxyXG4gICAgICAgIGNsYXNzPVwiaWQtY2FyZC1jb3ZlclwiXHJcbiAgICAgICAgc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7Y292ZXJJbWFnZVVybH0nKTsgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1wiXHJcbiAgICAgID5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiaWQtY2FyZC1hdmF0YXJcIj5cclxuICAgICAgICAgIDxpbWcgc3JjPVwiJHthdmF0YXJJbWFnZVVybH1cIiBhbHQ9XCIke2Rpc3BsYXlOYW1lfVwiIHN0eWxlPVwid2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgb2JqZWN0LWZpdDogY292ZXI7XCIgbG9hZGluZz1cImxhenlcIiBkZWNvZGluZz1cImFzeW5jXCIgb25lcnJvcj1cInRoaXMuc3R5bGUuZGlzcGxheT0nbm9uZSdcIj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJpZC1jYXJkLWNvbnRlbnRcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiaWQtY2FyZC1uYW1lXCI+JHtkaXNwbGF5TmFtZX08L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiaWQtY2FyZC1sYWJlbFwiPiR7bGFiZWx9PC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImlkLWNhcmQtY291bnRcIj4ke2NvbnRyaWJ1dG9yQ291bnR9IGNvbnRyaWJ1dG9yJHtjb250cmlidXRvckNvdW50ICE9PSAxID8gJ3MnIDogJyd9PC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxuICAgIGdhbGxlcnkuYXBwZW5kQ2hpbGQobGluayk7XHJcbiAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBJbmRleCBQYWdlIE1haW4gRW50cnkgUG9pbnRcclxuICogSW5pdGlhbGl6ZXMgdGhlIFVJIG9uIHRoZSBpbmRleCBwYWdlXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgaW5pdFVJTW9kZSB9IGZyb20gJy4vaW5kZXgtdWkuanMnO1xyXG5cclxuLy8gRGFyayBNb2RlIFRvZ2dsZSBGdW5jdGlvbmFsaXR5XHJcbmNvbnN0IERBUktfTU9ERV9LRVkgPSAnZGFya01vZGUnO1xyXG5cclxuZnVuY3Rpb24gaW5pdERhcmtNb2RlKCkge1xyXG4gIGNvbnN0IGFkbWluU2VhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZG1pbi1zZWFsJyk7XHJcbiAgaWYgKCFhZG1pblNlYWwpIHJldHVybjtcclxuXHJcbiAgLy8gQ2hlY2sgZm9yIHNhdmVkIHByZWZlcmVuY2Ugb3Igc3lzdGVtIHByZWZlcmVuY2VcclxuICBjb25zdCBzYXZlZE1vZGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShEQVJLX01PREVfS0VZKTtcclxuICBjb25zdCBwcmVmZXJzRGFyayA9IHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJykubWF0Y2hlcztcclxuICBcclxuICAvLyBBcHBseSBkYXJrIG1vZGUgaWYgc2F2ZWQgcHJlZmVyZW5jZSBpcyAndHJ1ZScgb3IgaWYgbm8gcHJlZmVyZW5jZSBhbmQgc3lzdGVtIHByZWZlcnMgZGFya1xyXG4gIGlmIChzYXZlZE1vZGUgPT09ICd0cnVlJyB8fCAoIXNhdmVkTW9kZSAmJiBwcmVmZXJzRGFyaykpIHtcclxuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkYXJrJyk7XHJcbiAgfVxyXG5cclxuICAvLyBUb2dnbGUgZGFyayBtb2RlIG9uIGNsaWNrXHJcbiAgYWRtaW5TZWFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2RhcmsnKTtcclxuICAgIGNvbnN0IGlzRGFyayA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2RhcmsnKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKERBUktfTU9ERV9LRVksIGlzRGFyayk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8vIEluaXRpYWxpemUgd2hlbiBET00gaXMgcmVhZHlcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuICBpbml0RGFya01vZGUoKTtcclxuICBpbml0VUlNb2RlKCk7XHJcbn0pO1xyXG4iXSwibmFtZXMiOlsiQ0FDSEVfVkVSU0lPTiIsImNvbmZpZ0NhY2hlIiwiaW5zdGl0dXRpb25Db25maWdDYWNoZSIsImp1cmlzZGljdGlvbkNvbmZpZ0NhY2hlIiwic3F1aXJjbGVJY29uc0NvbmZpZ0NhY2hlIiwiY2FjaGVUaW1lc3RhbXBzIiwiZG9jdW1lbnRzIiwiaW5zdGl0dXRpb25zIiwianVyaXNkaWN0aW9ucyIsInNxdWlyY2xlSWNvbnMiLCJpc0NhY2hlVmFsaWQiLCJjYWNoZVR5cGUiLCJub3ciLCJEYXRlIiwidXBkYXRlQ2FjaGVUaW1lc3RhbXAiLCJhc3luYyIsImZldGNoV2l0aENhY2hlIiwidXJsIiwidXNlQ2FjaGVCdXN0aW5nIiwiY2FjaGVCdXN0ZXIiLCJmZXRjaCIsImNhY2hlIiwiaGVhZGVycyIsIkFjY2VwdCIsImxvYWREb2N1bWVudHNDb25maWciLCJyZXNwb25zZSIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiY29uZmlnIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsImxvYWRJbnN0aXR1dGlvbkNvbmZpZyIsImxvYWRKdXJpc2RpY3Rpb25Db25maWciLCJnZXREb2N1bWVudHMiLCJmaWx0ZXIiLCJkb2MiLCJ2aXNpYmxlIiwiZ2V0SXRlbXMiLCJTZXQiLCJtYXAiLCJpdGVtIiwic29ydCIsImEiLCJiIiwibG9jYWxlQ29tcGFyZSIsImdldEluc3RpdHV0aW9ucyIsImluc3RpdHV0aW9uIiwiZ2V0SnVyaXNkaWN0aW9ucyIsImp1cmlzZGljdGlvbiIsImxvYWRTcXVpcmNsZUljb25zQ29uZmlnIiwiaWNvbnMiLCJjbGVhckNvbmZpZ0NhY2hlIiwiYnVpbGRGaWx0ZXJVcmwiLCJ0eXBlIiwidmFsdWUiLCJpc0FsbCIsImVuY29kZVVSSUNvbXBvbmVudCIsIndpbmRvdyIsImdldENhY2hlVmVyc2lvbiIsInNldENhY2hlVmVyc2lvbiIsInZlcnNpb24iLCJwcmVsb2FkZWREYXRhIiwiaW5pdFVJTW9kZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJidG4iLCJhZGRFdmVudExpc3RlbmVyIiwidGFiIiwiZGF0YXNldCIsInRhYk5hbWUiLCJjbGFzc0xpc3QiLCJhZGQiLCJhY3RpdmVUYWIiLCJnZXRFbGVtZW50QnlJZCIsInJlbW92ZSIsInNob3dUYWIiLCJ0YWJCdXR0b25zIiwidXBkYXRlVGFiQnV0dG9ucyIsInJlbmRlckFjY291bnRHYWxsZXJ5IiwicmVuZGVyU3BhY2VHYWxsZXJ5IiwiaXRlbXMiLCJyZW5kZXJDb250ZW50R2FsbGVyeSIsIlByb21pc2UiLCJhbGwiLCJwcmVsb2FkQWxsQ29uZmlncyIsImxvYWRVSUdhbGxlcmllcyIsInByZWxvYWREYXRhIiwiZ2FsbGVyeSIsImlubmVySFRNTCIsImFsbExpbmsiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsImNsYXNzTmFtZSIsImFwcGVuZENoaWxkIiwiaWNvbk1ldGFkYXRhTWFwIiwiaWNvbk1ldGFkYXRhTG93ZXJNYXAiLCJPYmplY3QiLCJrZXlzIiwia2V5IiwidG9Mb3dlckNhc2UiLCJsaW5rIiwiZW1vamkiLCJwYXJzZUluc3RpdHV0aW9uIiwiYnJhY2tldE1hdGNoIiwibWF0Y2giLCJsYWJlbCIsInJlcGxhY2UiLCJkaXNwbGF5TmFtZSIsImluc3RpdHV0aW9uTWV0YSIsImluc3RpdHV0aW9uQ291bnRzIiwiZG9jQ291bnQiLCJsZW5ndGgiLCJwdXNoIiwibWV0YWRhdGEiLCJhdmF0YXJVcmwiLCJhdmF0YXIiLCJjb3ZlclVybCIsImNvdmVyIiwiY292ZXJJbWFnZVVybCIsImF2YXRhckltYWdlVXJsIiwianVyaXNkaWN0aW9uTWV0YSIsImp1cmlzZGljdGlvbkNvdW50cyIsImRvY3NJbkp1cmlzZGljdGlvbiIsImNvbnRyaWJ1dG9yQ291bnQiLCJzaXplIiwiREFSS19NT0RFX0tFWSIsImFkbWluU2VhbCIsInF1ZXJ5U2VsZWN0b3IiLCJzYXZlZE1vZGUiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicHJlZmVyc0RhcmsiLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsImRvY3VtZW50RWxlbWVudCIs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
